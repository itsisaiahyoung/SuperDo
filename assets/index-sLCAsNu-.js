(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function zE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Od={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function BE(){if(q_)return wl;q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=t,wl.jsx=n,wl.jsxs=n,wl}var F_;function HE(){return F_||(F_=1,Od.exports=BE()),Od.exports}var T=HE(),kd={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function qE(){if(G_)return Vt;G_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,J={};function Q(D,W,rt){this.props=D,this.context=W,this.refs=J,this.updater=rt||B}Q.prototype.isReactComponent={},Q.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},Q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function mt(){}mt.prototype=Q.prototype;function Et(D,W,rt){this.props=D,this.context=W,this.refs=J,this.updater=rt||B}var at=Et.prototype=new mt;at.constructor=Et,z(at,Q.prototype),at.isPureReactComponent=!0;var _t=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},Tt=Object.prototype.hasOwnProperty;function k(D,W,rt,nt,dt,Mt){return rt=Mt.ref,{$$typeof:s,type:D,key:W,ref:rt!==void 0?rt:null,props:Mt}}function w(D,W){return k(D.type,W,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function x(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return W[rt]})}var M=/\/+/g;function V(D,W){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):W.toString(36)}function S(){}function Pt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(S,S):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function xt(D,W,rt,nt,dt){var Mt=typeof D;(Mt==="undefined"||Mt==="boolean")&&(D=null);var bt=!1;if(D===null)bt=!0;else switch(Mt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(D.$$typeof){case s:case t:bt=!0;break;case A:return bt=D._init,xt(bt(D._payload),W,rt,nt,dt)}}if(bt)return dt=dt(D),bt=nt===""?"."+V(D,0):nt,_t(dt)?(rt="",bt!=null&&(rt=bt.replace(M,"$&/")+"/"),xt(dt,W,rt,"",function(ct){return ct})):dt!=null&&(C(dt)&&(dt=w(dt,rt+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+bt)),W.push(dt)),1;bt=0;var pe=nt===""?".":nt+":";if(_t(D))for(var it=0;it<D.length;it++)nt=D[it],Mt=pe+V(nt,it),bt+=xt(nt,W,rt,Mt,dt);else if(it=N(D),typeof it=="function")for(D=it.call(D),it=0;!(nt=D.next()).done;)nt=nt.value,Mt=pe+V(nt,it++),bt+=xt(nt,W,rt,Mt,dt);else if(Mt==="object"){if(typeof D.then=="function")return xt(Pt(D),W,rt,nt,dt);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return bt}function K(D,W,rt){if(D==null)return D;var nt=[],dt=0;return xt(D,nt,"","",function(Mt){return W.call(rt,Mt,dt++)}),nt}function tt(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function jt(){}return Vt.Children={map:K,forEach:function(D,W,rt){K(D,function(){W.apply(this,arguments)},rt)},count:function(D){var W=0;return K(D,function(){W++}),W},toArray:function(D){return K(D,function(W){return W})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Vt.Component=Q,Vt.Fragment=n,Vt.Profiler=o,Vt.PureComponent=Et,Vt.StrictMode=r,Vt.Suspense=g,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ut.H.useMemoCache(D)}},Vt.cache=function(D){return function(){return D.apply(null,arguments)}},Vt.cloneElement=function(D,W,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var nt=z({},D.props),dt=D.key,Mt=void 0;if(W!=null)for(bt in W.ref!==void 0&&(Mt=void 0),W.key!==void 0&&(dt=""+W.key),W)!Tt.call(W,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&W.ref===void 0||(nt[bt]=W[bt]);var bt=arguments.length-2;if(bt===1)nt.children=rt;else if(1<bt){for(var pe=Array(bt),it=0;it<bt;it++)pe[it]=arguments[it+2];nt.children=pe}return k(D.type,dt,void 0,void 0,Mt,nt)},Vt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Vt.createElement=function(D,W,rt){var nt,dt={},Mt=null;if(W!=null)for(nt in W.key!==void 0&&(Mt=""+W.key),W)Tt.call(W,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(dt[nt]=W[nt]);var bt=arguments.length-2;if(bt===1)dt.children=rt;else if(1<bt){for(var pe=Array(bt),it=0;it<bt;it++)pe[it]=arguments[it+2];dt.children=pe}if(D&&D.defaultProps)for(nt in bt=D.defaultProps,bt)dt[nt]===void 0&&(dt[nt]=bt[nt]);return k(D,Mt,void 0,void 0,null,dt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(D){return{$$typeof:m,render:D}},Vt.isValidElement=C,Vt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},Vt.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},Vt.startTransition=function(D){var W=ut.T,rt={};ut.T=rt;try{var nt=D(),dt=ut.S;dt!==null&&dt(rt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(jt,ft)}catch(Mt){ft(Mt)}finally{ut.T=W}},Vt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Vt.use=function(D){return ut.H.use(D)},Vt.useActionState=function(D,W,rt){return ut.H.useActionState(D,W,rt)},Vt.useCallback=function(D,W){return ut.H.useCallback(D,W)},Vt.useContext=function(D){return ut.H.useContext(D)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(D,W){return ut.H.useDeferredValue(D,W)},Vt.useEffect=function(D,W,rt){var nt=ut.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(D,W)},Vt.useId=function(){return ut.H.useId()},Vt.useImperativeHandle=function(D,W,rt){return ut.H.useImperativeHandle(D,W,rt)},Vt.useInsertionEffect=function(D,W){return ut.H.useInsertionEffect(D,W)},Vt.useLayoutEffect=function(D,W){return ut.H.useLayoutEffect(D,W)},Vt.useMemo=function(D,W){return ut.H.useMemo(D,W)},Vt.useOptimistic=function(D,W){return ut.H.useOptimistic(D,W)},Vt.useReducer=function(D,W,rt){return ut.H.useReducer(D,W,rt)},Vt.useRef=function(D){return ut.H.useRef(D)},Vt.useState=function(D){return ut.H.useState(D)},Vt.useSyncExternalStore=function(D,W,rt){return ut.H.useSyncExternalStore(D,W,rt)},Vt.useTransition=function(){return ut.H.useTransition()},Vt.version="19.1.0",Vt}var K_;function Cm(){return K_||(K_=1,kd.exports=qE()),kd.exports}var gt=Cm();const Fr=zE(gt);var Md={exports:{}},Rl={},Vd={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function FE(){return Q_||(Q_=1,function(s){function t(K,tt){var ft=K.length;K.push(tt);t:for(;0<ft;){var jt=ft-1>>>1,D=K[jt];if(0<o(D,tt))K[jt]=tt,K[ft]=D,ft=jt;else break t}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var tt=K[0],ft=K.pop();if(ft!==tt){K[0]=ft;t:for(var jt=0,D=K.length,W=D>>>1;jt<W;){var rt=2*(jt+1)-1,nt=K[rt],dt=rt+1,Mt=K[dt];if(0>o(nt,ft))dt<D&&0>o(Mt,nt)?(K[jt]=Mt,K[dt]=ft,jt=dt):(K[jt]=nt,K[rt]=ft,jt=rt);else if(dt<D&&0>o(Mt,ft))K[jt]=Mt,K[dt]=ft,jt=dt;else break t}}return tt}function o(K,tt){var ft=K.sortIndex-tt.sortIndex;return ft!==0?ft:K.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],A=1,R=null,N=3,B=!1,z=!1,J=!1,Q=!1,mt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function _t(K){for(var tt=n(y);tt!==null;){if(tt.callback===null)r(y);else if(tt.startTime<=K)r(y),tt.sortIndex=tt.expirationTime,t(g,tt);else break;tt=n(y)}}function ut(K){if(J=!1,_t(K),!z)if(n(g)!==null)z=!0,Tt||(Tt=!0,V());else{var tt=n(y);tt!==null&&xt(ut,tt.startTime-K)}}var Tt=!1,k=-1,w=5,C=-1;function x(){return Q?!0:!(s.unstable_now()-C<w)}function M(){if(Q=!1,Tt){var K=s.unstable_now();C=K;var tt=!0;try{t:{z=!1,J&&(J=!1,Et(k),k=-1),B=!0;var ft=N;try{e:{for(_t(K),R=n(g);R!==null&&!(R.expirationTime>K&&x());){var jt=R.callback;if(typeof jt=="function"){R.callback=null,N=R.priorityLevel;var D=jt(R.expirationTime<=K);if(K=s.unstable_now(),typeof D=="function"){R.callback=D,_t(K),tt=!0;break e}R===n(g)&&r(g),_t(K)}else r(g);R=n(g)}if(R!==null)tt=!0;else{var W=n(y);W!==null&&xt(ut,W.startTime-K),tt=!1}}break t}finally{R=null,N=ft,B=!1}tt=void 0}}finally{tt?V():Tt=!1}}}var V;if(typeof at=="function")V=function(){at(M)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Pt=S.port2;S.port1.onmessage=M,V=function(){Pt.postMessage(null)}}else V=function(){mt(M,0)};function xt(K,tt){k=mt(function(){K(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(K){switch(N){case 1:case 2:case 3:var tt=3;break;default:tt=N}var ft=N;N=tt;try{return K()}finally{N=ft}},s.unstable_requestPaint=function(){Q=!0},s.unstable_runWithPriority=function(K,tt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=N;N=K;try{return tt()}finally{N=ft}},s.unstable_scheduleCallback=function(K,tt,ft){var jt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?jt+ft:jt):ft=jt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ft+D,K={id:A++,callback:tt,priorityLevel:K,startTime:ft,expirationTime:D,sortIndex:-1},ft>jt?(K.sortIndex=ft,t(y,K),n(g)===null&&K===n(y)&&(J?(Et(k),k=-1):J=!0,xt(ut,ft-jt))):(K.sortIndex=D,t(g,K),z||B||(z=!0,Tt||(Tt=!0,V()))),K},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(K){var tt=N;return function(){var ft=N;N=tt;try{return K.apply(this,arguments)}finally{N=ft}}}}(Pd)),Pd}var Y_;function GE(){return Y_||(Y_=1,Vd.exports=FE()),Vd.exports}var Ud={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function KE(){if(X_)return en;X_=1;var s=Cm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:g,containerInfo:y,implementation:A}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(g,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,A)},en.flushSync=function(g){var y=f.T,A=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=A,r.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var A=y.as,R=m(A,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:N,fetchPriority:B}):A==="script"&&r.d.X(g,{crossOrigin:R,integrity:N,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,R=m(A,y.crossOrigin);r.d.L(g,A,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var A=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},en.requestFormReset=function(g){r.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,A){return f.H.useFormState(g,y,A)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.1.0",en}var $_;function QE(){if($_)return Ud.exports;$_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=KE(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function YE(){if(Z_)return Rl;Z_=1;var s=GE(),t=Cm(),n=QE();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),at=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case Q:return"Profiler";case J:return"StrictMode";case ut:return"Suspense";case Tt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case at:return(e.displayName||"Context")+".Provider";case Et:return(e._context.displayName||"Context")+".Consumer";case _t:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return i=e.displayName||null,i!==null?i:Pt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Pt(e(i))}catch{}}return null}var xt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},jt=[],D=-1;function W(e){return{current:e}}function rt(e){0>D||(e.current=jt[D],jt[D]=null,D--)}function nt(e,i){D++,jt[D]=e.current,e.current=i}var dt=W(null),Mt=W(null),bt=W(null),pe=W(null);function it(e,i){switch(nt(bt,i),nt(Mt,e),nt(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=y_(i),e=__(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(dt),nt(dt,e)}function ct(){rt(dt),rt(Mt),rt(bt)}function Ot(e){e.memoizedState!==null&&nt(pe,e);var i=dt.current,a=__(i,e.type);i!==a&&(nt(Mt,e),nt(dt,a))}function pt(e){Mt.current===e&&(rt(dt),rt(Mt)),pe.current===e&&(rt(pe),Tl._currentValue=ft)}var ge=Object.prototype.hasOwnProperty,fe=s.unstable_scheduleCallback,We=s.unstable_cancelCallback,zn=s.unstable_shouldYield,os=s.unstable_requestPaint,Je=s.unstable_now,Ri=s.unstable_getCurrentPriorityLevel,or=s.unstable_ImmediatePriority,Bn=s.unstable_UserBlockingPriority,Ii=s.unstable_NormalPriority,vo=s.unstable_LowPriority,ls=s.unstable_IdlePriority,us=s.log,lr=s.unstable_setDisableYieldValue,le=null,F=null;function ot(e){if(typeof us=="function"&&lr(e),F&&typeof F.setStrictMode=="function")try{F.setStrictMode(le,e)}catch{}}var vt=Math.clz32?Math.clz32:ur,Ue=Math.log,In=Math.LN2;function ur(e){return e>>>=0,e===0?32:31-(Ue(e)/In|0)|0}var cr=256,hr=4194304;function Hn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function na(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Hn(l):(v&=E,v!==0?h=Hn(v):a||(a=E&~e,a!==0&&(h=Hn(a))))):(E=l&~d,E!==0?h=Hn(E):v!==0?h=Hn(v):a||(a=l&~e,a!==0&&(h=Hn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function fr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function To(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var e=cr;return cr<<=1,(cr&4194048)===0&&(cr=256),e}function Ao(){var e=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),e}function Ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ni(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-vt(a),$=1<<Y;E[Y]=0,I[Y]=-1;var H=j[Y];if(H!==null)for(j[Y]=null,Y=0;Y<H.length;Y++){var q=H[Y];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&Zn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Zn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-vt(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function So(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-vt(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ia(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hs(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:U_(e.type))}function nu(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var ue=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ue,be="__reactProps$"+ue,Cn="__reactContainer$"+ue,wo="__reactEvents$"+ue,Mh="__reactListeners$"+ue,fs="__reactHandles$"+ue,iu="__reactResources$"+ue,dr="__reactMarker$"+ue;function ds(e){delete e[Ce],delete e[be],delete e[wo],delete e[Mh],delete e[fs]}function Di(e){var i=e[Ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Cn]||a[Ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=A_(e);e!==null;){if(a=e[Ce])return a;e=A_(e)}return i}e=a,a=e.parentNode}return null}function Wn(e){if(e=e[Ce]||e[Cn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function on(e){var i=e[iu];return i||(i=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ve(e){e[dr]=!0}var Ro=new Set,sa={};function qn(e,i){xi(e,i),xi(e+"Capture",i)}function xi(e,i){for(sa[e]=i,e=0;e<i.length;e++)Ro.add(i[e])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ru={},mr={};function au(e){return ge.call(mr,e)?!0:ge.call(ru,e)?!1:su.test(e)?mr[e]=!0:(ru[e]=!0,!1)}function ms(e,i,a){if(au(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ti(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Fe(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var pr,ou;function Oi(e){if(pr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);pr=i&&i[1]||"",ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+e+ou}var ra=!1;function aa(e,i){if(!e||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var H=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){H=q}e.call($.prototype)}}else{try{throw Error()}catch(q){H=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var I=v.split(`
`),j=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var Y=`
`+I[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Oi(a):""}function Io(e){switch(e.tag){case 26:case 27:case 5:return Oi(e.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return aa(e.type,!1);case 11:return aa(e.type.render,!1);case 1:return aa(e.type,!0);case 31:return Oi("Activity");default:return""}}function oa(e){try{var i="";do i+=Io(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Co(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vh(e){var i=Co(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function la(e){e._valueTracker||(e._valueTracker=Vh(e))}function No(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Co(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ph=/[\n"\\]/g;function Se(e){return e.replace(Ph,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yn(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ln(i)):e.value!==""+ln(i)&&(e.value=""+ln(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?ps(e,v,ln(i)):a!=null?ps(e,v,ln(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ln(E):e.removeAttribute("name")}function yr(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ps(e,i,a){i==="number"&&gr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ki(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ne(e,i,a){if(i!=null&&(i=""+ln(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ln(a):""}function _r(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(xt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ln(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Nn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||vr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Do(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&lu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&lu(e,d,i[d])}function xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return Lh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mi=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,Pi=null;function Oo(e){var i=Wn(e);if(i&&(e=i.stateNode)){var a=e[be]||null;t:switch(e=i.stateNode,i.type){case"input":if(yn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[be]||null;if(!h)throw Error(r(90));yn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&No(l)}break t;case"textarea":ne(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ki(e,!!a.multiple,i,!1)}}}var ei=!1;function uu(e,i,a){if(ei)return e(i,a);ei=!0;try{var l=e(i);return l}finally{if(ei=!1,(Vi!==null||Pi!==null)&&(nc(),Vi&&(i=Vi,e=Pi,Pi=Vi=null,Oo(i),e)))for(i=0;i<e.length;i++)Oo(e[i])}}function Tr(e,i){var a=e.stateNode;if(a===null)return null;var l=a[be]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Fn)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{xn=!1}var ni=null,gs=null,Ui=null;function ko(){if(Ui)return Ui;var e,i=gs,a=i.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ui=h.slice(e,1<l?1-l:void 0)}function ii(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Mo(){return!1}function Le(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Mo,this.isPropagationStopped=Mo,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Le(Wt),Ar=A({},Wt,{view:0,detail:0}),cu=Le(Ar),ha,fa,ri,br=A({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(ha=e.screenX-ri.screenX,fa=e.screenY-ri.screenY):fa=ha=0,ri=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),On=Le(br),hu=A({},br,{dataTransfer:0}),jh=Le(hu),Sr=A({},Ar,{relatedTarget:0}),da=Le(Sr),Vo=A({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=Le(Vo),fu=A({},Wt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pa=Le(fu),zh=A({},Wt,{data:0}),Po=Le(zh),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=mu[e])?!!i[e]:!1}function Rr(){return Uo}var pu=A({},Ar,{key:function(e){if(e.key){var i=wr[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ga=Le(pu),gu=A({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=Le(gu),Li=A({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),yu=Le(Li),_u=A({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Le(_u),Tu=A({},br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ya=Le(Tu),un=A({},Wt,{newState:0,oldState:0}),Eu=Le(un),Au=[9,13,27,32],ai=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var p=Fn&&"TextEvent"in window&&!c,_=Fn&&(!ai||c&&8<c&&11>=c),b=" ",U=!1;function G(e,i){switch(e){case"keyup":return Au.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kt=!1;function Ne(e,i){switch(e){case"compositionend":return st(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return e=i.data,e===b&&U?null:e;default:return null}}function Qt(e,i){if(Kt)return e==="compositionend"||!ai&&G(e,i)?(e=ko(),Ui=gs=ni=null,Kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!je[e.type]:i==="textarea"}function ji(e,i,a,l){Vi?Pi?Pi.push(l):Pi=[l]:Vi=l,i=lc(i,"onChange"),0<i.length&&(a=new ca("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ge=null,oi=null;function jo(e){f_(e,0)}function bu(e){var i=Jn(e);if(No(i))return e}function kp(e,i){if(e==="change")return i}var Mp=!1;if(Fn){var Bh;if(Fn){var Hh="oninput"in document;if(!Hh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Hh=typeof Vp.oninput=="function"}Bh=Hh}else Bh=!1;Mp=Bh&&(!document.documentMode||9<document.documentMode)}function Pp(){Ge&&(Ge.detachEvent("onpropertychange",Up),oi=Ge=null)}function Up(e){if(e.propertyName==="value"&&bu(oi)){var i=[];ji(i,oi,e,Dn(e)),uu(jo,i)}}function gT(e,i,a){e==="focusin"?(Pp(),Ge=i,oi=a,Ge.attachEvent("onpropertychange",Up)):e==="focusout"&&Pp()}function yT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(oi)}function _T(e,i){if(e==="click")return bu(i)}function vT(e,i){if(e==="input"||e==="change")return bu(i)}function TT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:TT;function zo(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ge.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function Lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,i){var a=Lp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Lp(a)}}function zp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?zp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gr(e.document)}return i}function qh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ET=Fn&&"documentMode"in document&&11>=document.documentMode,_a=null,Fh=null,Bo=null,Gh=!1;function Hp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||_a==null||_a!==gr(l)||(l=_a,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&zo(Bo,l)||(Bo=l,l=lc(Fh,"onSelect"),0<l.length&&(i=new ca("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=_a)))}function Ir(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var va={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Kh={},qp={};Fn&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Cr(e){if(Kh[e])return Kh[e];if(!va[e])return e;var i=va[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in qp)return Kh[e]=i[a];return e}var Fp=Cr("animationend"),Gp=Cr("animationiteration"),Kp=Cr("animationstart"),AT=Cr("transitionrun"),bT=Cr("transitionstart"),ST=Cr("transitioncancel"),Qp=Cr("transitionend"),Yp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Gn(e,i){Yp.set(e,i),qn(i,[e])}var Xp=new WeakMap;function kn(e,i){if(typeof e=="object"&&e!==null){var a=Xp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:oa(i)},Xp.set(e,i),i)}return{value:e,source:i,stack:oa(i)}}var Mn=[],Ta=0,Yh=0;function Su(){for(var e=Ta,i=Yh=Ta=0;i<e;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&$p(a,h,d)}}function wu(e,i,a,l){Mn[Ta++]=e,Mn[Ta++]=i,Mn[Ta++]=a,Mn[Ta++]=l,Yh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xh(e,i,a,l){return wu(e,i,a,l),Ru(e)}function Ea(e,i){return wu(e,null,null,i),Ru(e)}function $p(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-vt(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ru(e){if(50<fl)throw fl=0,nd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Aa={};function wT(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,l){return new wT(e,i,a,l)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Zp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Iu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")$h(e)&&(v=1);else if(typeof e=="string")v=IE(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=vn(31,a,i,h),e.elementType=C,e.lanes=d,e;case z:return Nr(a.children,h,d,i);case J:v=8,h|=24;break;case Q:return e=vn(12,a,i,h|2),e.elementType=Q,e.lanes=d,e;case ut:return e=vn(13,a,i,h),e.elementType=ut,e.lanes=d,e;case Tt:return e=vn(19,a,i,h),e.elementType=Tt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:case at:v=10;break t;case Et:v=9;break t;case _t:v=11;break t;case k:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=vn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Nr(e,i,a,l){return e=vn(7,e,l,i),e.lanes=a,e}function Zh(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function Wh(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ba=[],Sa=0,Cu=null,Nu=0,Vn=[],Pn=0,Dr=null,Bi=1,Hi="";function xr(e,i){ba[Sa++]=Nu,ba[Sa++]=Cu,Cu=e,Nu=i}function Wp(e,i,a){Vn[Pn++]=Bi,Vn[Pn++]=Hi,Vn[Pn++]=Dr,Dr=e;var l=Bi;e=Hi;var h=32-vt(l)-1;l&=~(1<<h),a+=1;var d=32-vt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Bi=1<<32-vt(i)+h|a<<h|l,Hi=d+e}else Bi=1<<d|a<<h|l,Hi=e}function Jh(e){e.return!==null&&(xr(e,1),Wp(e,1,0))}function tf(e){for(;e===Cu;)Cu=ba[--Sa],ba[Sa]=null,Nu=ba[--Sa],ba[Sa]=null;for(;e===Dr;)Dr=Vn[--Pn],Vn[Pn]=null,Hi=Vn[--Pn],Vn[Pn]=null,Bi=Vn[--Pn],Vn[Pn]=null}var cn=null,ye=null,Zt=!1,Or=null,li=!1,ef=Error(r(519));function kr(e){var i=Error(r(418,""));throw Fo(kn(i,e)),ef}function Jp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ce]=e,i[be]=l,a){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Ht(ml[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Ht("invalid",i),yr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),la(i);break;case"select":Ht("invalid",i);break;case"textarea":Ht("invalid",i),_r(i,l.value,l.defaultValue,l.children),la(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||g_(i.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",i),Ht("toggle",i)),l.onScroll!=null&&Ht("scroll",i),l.onScrollEnd!=null&&Ht("scrollend",i),l.onClick!=null&&(i.onclick=uc),i=!0):i=!1,i||kr(e)}function tg(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:cn=cn.return}}function Ho(e){if(e!==cn)return!1;if(!Zt)return tg(e),Zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_d(e.type,e.memoizedProps)),a=!a),a&&ye&&kr(e),tg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ye=Qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ye=null}}else i===27?(i=ye,Os(e.type)?(e=Ad,Ad=null,ye=e):ye=i):ye=cn?Qn(e.stateNode.nextSibling):null;return!0}function qo(){ye=cn=null,Zt=!1}function eg(){var e=Or;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Or=null),e}function Fo(e){Or===null?Or=[e]:Or.push(e)}var nf=W(null),Mr=null,qi=null;function ys(e,i,a){nt(nf,i._currentValue),i._currentValue=a}function Fi(e){e._currentValue=nf.current,rt(nf)}function sf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function rf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),sf(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),sf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Go(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;_n(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===pe.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}h=h.return}e!==null&&rf(i,e,a,l),i.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return ng(Mr,e)}function xu(e,i){return Mr===null&&Vr(e),ng(e,i)}function ng(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(r(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var RT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},IT=s.unstable_scheduleCallback,CT=s.unstable_NormalPriority,xe={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new RT,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&IT(CT,function(){e.controller.abort()})}var Qo=null,of=0,wa=0,Ra=null;function NT(e,i){if(Qo===null){var a=Qo=[];of=0,wa=ud(),Ra={status:"pending",value:void 0,then:function(l){a.push(l)}}}return of++,i.then(ig,ig),i}function ig(){if(--of===0&&Qo!==null){Ra!==null&&(Ra.status="fulfilled");var e=Qo;Qo=null,wa=0,Ra=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function DT(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var sg=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&NT(e,i),sg!==null&&sg(e,i)};var Pr=W(null);function lf(){var e=Pr.current;return e!==null?e:oe.pooledCache}function Ou(e,i){i===null?nt(Pr,Pr.current):nt(Pr,i.pool)}function rg(){var e=lf();return e===null?null:{parent:xe._currentValue,pool:e}}var Yo=Error(r(460)),ag=Error(r(474)),ku=Error(r(542)),uf={then:function(){}};function og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mu(){}function lg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Mu,Mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cg(e),e;default:if(typeof i.status=="string")i.then(Mu,Mu);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cg(e),e}throw Xo=i,Yo}}var Xo=null;function ug(){if(Xo===null)throw Error(r(459));var e=Xo;return Xo=null,e}function cg(e){if(e===Yo||e===ku)throw Error(r(483))}var _s=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ru(e),$p(e,null,a),i}return wu(e,l,i,a),Ru(e)}function $o(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,So(e,a)}}function ff(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var df=!1;function Zo(){if(df){var e=Ra;if(e!==null)throw e}}function Wo(e,i,a,l){df=!1;var h=e.updateQueue;_s=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,v===null?d=j:v.next=j,v=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==v&&(E===null?Y.firstBaseUpdate=j:E.next=j,Y.lastBaseUpdate=I))}if(d!==null){var $=h.baseState;v=0,Y=j=I=null,E=d;do{var H=E.lane&-536870913,q=H!==E.lane;if(q?(Yt&H)===H:(l&H)===H){H!==0&&H===wa&&(df=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Ct=e,wt=E;H=i;var re=a;switch(wt.tag){case 1:if(Ct=wt.payload,typeof Ct=="function"){$=Ct.call(re,$,H);break t}$=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=wt.payload,H=typeof Ct=="function"?Ct.call(re,$,H):Ct,H==null)break t;$=A({},$,H);break t;case 2:_s=!0}}H=E.callback,H!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[H]:q.push(H))}else q={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(j=Y=q,I=$):Y=Y.next=q,v|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(I=$),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Cs|=v,e.lanes=v,e.memoizedState=$}}function hg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function fg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)hg(a[e],i)}var Ia=W(null),Vu=W(0);function dg(e,i){e=Zi,nt(Vu,e),nt(Ia,i),Zi=e|i.baseLanes}function mf(){nt(Vu,Zi),nt(Ia,Ia.current)}function pf(){Zi=Vu.current,rt(Ia),rt(Vu)}var Es=0,Ut=null,ie=null,we=null,Pu=!1,Ca=!1,Ur=!1,Uu=0,Jo=0,Na=null,xT=0;function Te(){throw Error(r(321))}function gf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function yf(e,i,a,l,h,d){return Es=d,Ut=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?$g:Zg,Ur=!1,d=a(l,h),Ur=!1,Ca&&(d=pg(i,a,l,h)),mg(e),d}function mg(e){K.H=qu;var i=ie!==null&&ie.next!==null;if(Es=0,we=ie=Ut=null,Pu=!1,Jo=0,Na=null,i)throw Error(r(300));e===null||ze||(e=e.dependencies,e!==null&&Du(e)&&(ze=!0))}function pg(e,i,a,l){Ut=e;var h=0;do{if(Ca&&(Na=null),Jo=0,Ca=!1,25<=h)throw Error(r(301));if(h+=1,we=ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=LT,d=i(a,l)}while(Ca);return d}function OT(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?tl(i):i,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Ut.flags|=1024),i}function _f(){var e=Uu!==0;return Uu=0,e}function vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Tf(e){if(Pu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Pu=!1}Es=0,we=ie=Ut=null,Ca=!1,Jo=Uu=0,Na=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ut.memoizedState=we=e:we=we.next=e,we}function Re(){if(ie===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var i=we===null?Ut.memoizedState:we.next;if(i!==null)we=i,ie=e;else{if(e===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},we===null?Ut.memoizedState=we=e:we=we.next=e}return we}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var i=Jo;return Jo+=1,Na===null&&(Na=[]),e=lg(Na,e,i),i=Ut,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?$g:Zg),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===at)return tn(e)}throw Error(r(438,String(e)))}function Af(e){var i=null,a=Ut.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ef(),Ut.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function ju(e){var i=Re();return bf(i,ie,e)}function bf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,I=null,j=i,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Yt&$)===$:(Es&$)===$){var H=j.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===wa&&(Y=!0);else if((Es&H)===H){j=j.next,H===wa&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=$,v=d):I=I.next=$,Ut.lanes|=H,Cs|=H;$=j.action,Ur&&a(d,$),d=j.hasEagerState?j.eagerState:a(d,$)}else H={lane:$,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=H,v=d):I=I.next=H,Ut.lanes|=$,Cs|=$;j=j.next}while(j!==null&&j!==i);if(I===null?v=d:I.next=E,!_n(d,e.memoizedState)&&(ze=!0,Y&&(a=Ra,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Sf(e){var i=Re(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);_n(d,i.memoizedState)||(ze=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gg(e,i,a){var l=Ut,h=Re(),d=Zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!_n((ie||h).memoizedState,a);v&&(h.memoizedState=a,ze=!0),h=h.queue;var E=vg.bind(null,l,h,e);if(el(2048,8,E,[e]),h.getSnapshot!==i||v||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Da(9,zu(),_g.bind(null,l,h,a,i),null),oe===null)throw Error(r(349));d||(Es&124)!==0||yg(l,i,a)}return a}function yg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ut.updateQueue,i===null?(i=Ef(),Ut.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function _g(e,i,a,l){i.value=a,i.getSnapshot=l,Tg(i)&&Eg(e)}function vg(e,i,a){return a(function(){Tg(i)&&Eg(e)})}function Tg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function Eg(e){var i=Ea(e,2);i!==null&&Sn(i,e,2)}function wf(e){var i=hn();if(typeof e=="function"){var a=e;if(e=a(),Ur){ot(!0);try{a()}finally{ot(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function Ag(e,i,a,l){return e.baseState=a,bf(e,ie,typeof l=="function"?l:Gi)}function kT(e,i,a,l,h){if(Hu(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,bg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function bg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var E=a(h,l),I=K.S;I!==null&&I(v,E),Sg(e,i,E)}catch(j){Rf(e,i,j)}finally{K.T=d}}else try{d=a(h,l),Sg(e,i,d)}catch(j){Rf(e,i,j)}}function Sg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wg(e,i,l)},function(l){return Rf(e,i,l)}):wg(e,i,a)}function wg(e,i,a){i.status="fulfilled",i.value=a,Rg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,bg(e,a)))}function Rf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Rg(i),i=i.next;while(i!==l)}e.action=null}function Rg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ig(e,i){return i}function Cg(e,i){if(Zt){var a=oe.formState;if(a!==null){t:{var l=Ut;if(Zt){if(ye){e:{for(var h=ye,d=li;h.nodeType!==8;){if(!d){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ye=Qn(h.nextSibling),l=h.data==="F!";break t}}kr(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:i},a.queue=l,a=Qg.bind(null,Ut,l),l.dispatch=a,l=wf(!1),d=xf.bind(null,Ut,!1,l.queue),l=hn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=kT.bind(null,Ut,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Ng(e){var i=Re();return Dg(i,ie,e)}function Dg(e,i,a){if(i=bf(e,i,Ig)[0],e=ju(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(v){throw v===Yo?ku:v}else l=i;i=Re();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ut.flags|=2048,Da(9,zu(),MT.bind(null,h,a),null)),[l,d,e]}function MT(e,i){e.action=i}function xg(e){var i=Re(),a=ie;if(a!==null)return Dg(i,a,e);Re(),i=i.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Da(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ut.updateQueue,i===null&&(i=Ef(),Ut.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function zu(){return{destroy:void 0,resource:void 0}}function Og(){return Re().memoizedState}function Bu(e,i,a,l){var h=hn();l=l===void 0?null:l,Ut.flags|=e,h.memoizedState=Da(1|i,zu(),a,l)}function el(e,i,a,l){var h=Re();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&gf(l,ie.memoizedState.deps)?h.memoizedState=Da(i,d,a,l):(Ut.flags|=e,h.memoizedState=Da(1|i,d,a,l))}function kg(e,i){Bu(8390656,8,e,i)}function Mg(e,i){el(2048,8,e,i)}function Vg(e,i){return el(4,2,e,i)}function Pg(e,i){return el(4,4,e,i)}function Ug(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Lg(e,i,a){a=a!=null?a.concat([e]):null,el(4,4,Ug.bind(null,i,e),a)}function If(){}function jg(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&gf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function zg(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&gf(i,l[1]))return l[0];if(l=e(),Ur){ot(!0);try{e()}finally{ot(!1)}}return a.memoizedState=[l,i],l}function Cf(e,i,a){return a===void 0||(Es&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=qy(),Ut.lanes|=e,Cs|=e,a)}function Bg(e,i,a,l){return _n(a,i)?a:Ia.current!==null?(e=Cf(e,a,l),_n(e,i)||(ze=!0),e):(Es&42)===0?(ze=!0,e.memoizedState=a):(e=qy(),Ut.lanes|=e,Cs|=e,i)}function Hg(e,i,a,l,h){var d=tt.p;tt.p=d!==0&&8>d?d:8;var v=K.T,E={};K.T=E,xf(e,!1,i,a);try{var I=h(),j=K.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=DT(I,l);nl(e,i,Y,bn(e))}else nl(e,i,l,bn(e))}catch($){nl(e,i,{then:function(){},status:"rejected",reason:$},bn())}finally{tt.p=d,K.T=v}}function VT(){}function Nf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=qg(e).queue;Hg(e,h,i,ft,a===null?VT:function(){return Fg(e),a(l)})}function qg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Fg(e){var i=qg(e).next.queue;nl(e,i,{},bn())}function Df(){return tn(Tl)}function Gg(){return Re().memoizedState}function Kg(){return Re().memoizedState}function PT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=vs(a);var l=Ts(i,e,a);l!==null&&(Sn(l,i,a),$o(l,i,a)),i={cache:af()},e.payload=i;return}i=i.return}}function UT(e,i,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Yg(i,a):(a=Xh(e,i,a,l),a!==null&&(Sn(a,e,l),Xg(a,i,l)))}function Qg(e,i,a){var l=bn();nl(e,i,a,l)}function nl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Yg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,v))return wu(e,i,h,0),oe===null&&Su(),!1}catch{}finally{}if(a=Xh(e,i,h,l),a!==null)return Sn(a,e,l),Xg(a,i,l),!0}return!1}function xf(e,i,a,l){if(l={lane:2,revertLane:ud(),action:l,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(i)throw Error(r(479))}else i=Xh(e,a,l,2),i!==null&&Sn(i,e,2)}function Hu(e){var i=e.alternate;return e===Ut||i!==null&&i===Ut}function Yg(e,i){Ca=Pu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Xg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,So(e,a)}}var qu={readContext:tn,use:Lu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},$g={readContext:tn,use:Lu,useCallback:function(e,i){return hn().memoizedState=[e,i===void 0?null:i],e},useContext:tn,useEffect:kg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Bu(4194308,4,Ug.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Bu(4194308,4,e,i)},useInsertionEffect:function(e,i){Bu(4,2,e,i)},useMemo:function(e,i){var a=hn();i=i===void 0?null:i;var l=e();if(Ur){ot(!0);try{e()}finally{ot(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=hn();if(a!==void 0){var h=a(i);if(Ur){ot(!0);try{a(i)}finally{ot(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=UT.bind(null,Ut,e),[l.memoizedState,e]},useRef:function(e){var i=hn();return e={current:e},i.memoizedState=e},useState:function(e){e=wf(e);var i=e.queue,a=Qg.bind(null,Ut,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,i){var a=hn();return Cf(a,e,i)},useTransition:function(){var e=wf(!1);return e=Hg.bind(null,Ut,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ut,h=hn();if(Zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),oe===null)throw Error(r(349));(Yt&124)!==0||yg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,kg(vg.bind(null,l,d,e),[e]),l.flags|=2048,Da(9,zu(),_g.bind(null,l,d,a,i),null),a},useId:function(){var e=hn(),i=oe.identifierPrefix;if(Zt){var a=Hi,l=Bi;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Uu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=xT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Df,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var i=hn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,Ut,!0,a),a.dispatch=i,[e,i]},useMemoCache:Af,useCacheRefresh:function(){return hn().memoizedState=PT.bind(null,Ut)}},Zg={readContext:tn,use:Lu,useCallback:jg,useContext:tn,useEffect:Mg,useImperativeHandle:Lg,useInsertionEffect:Vg,useLayoutEffect:Pg,useMemo:zg,useReducer:ju,useRef:Og,useState:function(){return ju(Gi)},useDebugValue:If,useDeferredValue:function(e,i){var a=Re();return Bg(a,ie.memoizedState,e,i)},useTransition:function(){var e=ju(Gi)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Df,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,i){var a=Re();return Ag(a,ie,e,i)},useMemoCache:Af,useCacheRefresh:Kg},LT={readContext:tn,use:Lu,useCallback:jg,useContext:tn,useEffect:Mg,useImperativeHandle:Lg,useInsertionEffect:Vg,useLayoutEffect:Pg,useMemo:zg,useReducer:Sf,useRef:Og,useState:function(){return Sf(Gi)},useDebugValue:If,useDeferredValue:function(e,i){var a=Re();return ie===null?Cf(a,e,i):Bg(a,ie.memoizedState,e,i)},useTransition:function(){var e=Sf(Gi)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Df,useFormState:xg,useActionState:xg,useOptimistic:function(e,i){var a=Re();return ie!==null?Ag(a,ie,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Kg},xa=null,il=0;function Fu(e){var i=il;return il+=1,xa===null&&(xa=[]),lg(xa,e,i)}function sl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Gu(e,i){throw i.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Wg(e){var i=e._init;return i(e._payload)}function Jg(e){function i(P,O){if(e){var L=P.deletions;L===null?(P.deletions=[O],P.flags|=16):L.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=zi(P,O),P.index=0,P.sibling=null,P}function d(P,O,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<O?(P.flags|=67108866,O):L):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,L,X){return O===null||O.tag!==6?(O=Zh(L,P.mode,X),O.return=P,O):(O=h(O,L),O.return=P,O)}function I(P,O,L,X){var ht=L.type;return ht===z?Y(P,O,L.props.children,X,L.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Wg(ht)===O.type)?(O=h(O,L.props),sl(O,L),O.return=P,O):(O=Iu(L.type,L.key,L.props,null,P.mode,X),sl(O,L),O.return=P,O)}function j(P,O,L,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Wh(L,P.mode,X),O.return=P,O):(O=h(O,L.children||[]),O.return=P,O)}function Y(P,O,L,X,ht){return O===null||O.tag!==7?(O=Nr(L,P.mode,X,ht),O.return=P,O):(O=h(O,L),O.return=P,O)}function $(P,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zh(""+O,P.mode,L),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case N:return L=Iu(O.type,O.key,O.props,null,P.mode,L),sl(L,O),L.return=P,L;case B:return O=Wh(O,P.mode,L),O.return=P,O;case w:var X=O._init;return O=X(O._payload),$(P,O,L)}if(xt(O)||V(O))return O=Nr(O,P.mode,L,null),O.return=P,O;if(typeof O.then=="function")return $(P,Fu(O),L);if(O.$$typeof===at)return $(P,xu(P,O),L);Gu(P,O)}return null}function H(P,O,L,X){var ht=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(P,O,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===ht?I(P,O,L,X):null;case B:return L.key===ht?j(P,O,L,X):null;case w:return ht=L._init,L=ht(L._payload),H(P,O,L,X)}if(xt(L)||V(L))return ht!==null?null:Y(P,O,L,X,null);if(typeof L.then=="function")return H(P,O,Fu(L),X);if(L.$$typeof===at)return H(P,O,xu(P,L),X);Gu(P,L)}return null}function q(P,O,L,X,ht){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(L)||null,E(O,P,""+X,ht);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return P=P.get(X.key===null?L:X.key)||null,I(O,P,X,ht);case B:return P=P.get(X.key===null?L:X.key)||null,j(O,P,X,ht);case w:var zt=X._init;return X=zt(X._payload),q(P,O,L,X,ht)}if(xt(X)||V(X))return P=P.get(L)||null,Y(O,P,X,ht,null);if(typeof X.then=="function")return q(P,O,L,Fu(X),ht);if(X.$$typeof===at)return q(P,O,L,xu(O,X),ht);Gu(O,X)}return null}function Ct(P,O,L,X){for(var ht=null,zt=null,yt=O,Rt=O=0,He=null;yt!==null&&Rt<L.length;Rt++){yt.index>Rt?(He=yt,yt=null):He=yt.sibling;var $t=H(P,yt,L[Rt],X);if($t===null){yt===null&&(yt=He);break}e&&yt&&$t.alternate===null&&i(P,yt),O=d($t,O,Rt),zt===null?ht=$t:zt.sibling=$t,zt=$t,yt=He}if(Rt===L.length)return a(P,yt),Zt&&xr(P,Rt),ht;if(yt===null){for(;Rt<L.length;Rt++)yt=$(P,L[Rt],X),yt!==null&&(O=d(yt,O,Rt),zt===null?ht=yt:zt.sibling=yt,zt=yt);return Zt&&xr(P,Rt),ht}for(yt=l(yt);Rt<L.length;Rt++)He=q(yt,P,Rt,L[Rt],X),He!==null&&(e&&He.alternate!==null&&yt.delete(He.key===null?Rt:He.key),O=d(He,O,Rt),zt===null?ht=He:zt.sibling=He,zt=He);return e&&yt.forEach(function(Us){return i(P,Us)}),Zt&&xr(P,Rt),ht}function wt(P,O,L,X){if(L==null)throw Error(r(151));for(var ht=null,zt=null,yt=O,Rt=O=0,He=null,$t=L.next();yt!==null&&!$t.done;Rt++,$t=L.next()){yt.index>Rt?(He=yt,yt=null):He=yt.sibling;var Us=H(P,yt,$t.value,X);if(Us===null){yt===null&&(yt=He);break}e&&yt&&Us.alternate===null&&i(P,yt),O=d(Us,O,Rt),zt===null?ht=Us:zt.sibling=Us,zt=Us,yt=He}if($t.done)return a(P,yt),Zt&&xr(P,Rt),ht;if(yt===null){for(;!$t.done;Rt++,$t=L.next())$t=$(P,$t.value,X),$t!==null&&(O=d($t,O,Rt),zt===null?ht=$t:zt.sibling=$t,zt=$t);return Zt&&xr(P,Rt),ht}for(yt=l(yt);!$t.done;Rt++,$t=L.next())$t=q(yt,P,Rt,$t.value,X),$t!==null&&(e&&$t.alternate!==null&&yt.delete($t.key===null?Rt:$t.key),O=d($t,O,Rt),zt===null?ht=$t:zt.sibling=$t,zt=$t);return e&&yt.forEach(function(jE){return i(P,jE)}),Zt&&xr(P,Rt),ht}function re(P,O,L,X){if(typeof L=="object"&&L!==null&&L.type===z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:t:{for(var ht=L.key;O!==null;){if(O.key===ht){if(ht=L.type,ht===z){if(O.tag===7){a(P,O.sibling),X=h(O,L.props.children),X.return=P,P=X;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Wg(ht)===O.type){a(P,O.sibling),X=h(O,L.props),sl(X,L),X.return=P,P=X;break t}a(P,O);break}else i(P,O);O=O.sibling}L.type===z?(X=Nr(L.props.children,P.mode,X,L.key),X.return=P,P=X):(X=Iu(L.type,L.key,L.props,null,P.mode,X),sl(X,L),X.return=P,P=X)}return v(P);case B:t:{for(ht=L.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(P,O.sibling),X=h(O,L.children||[]),X.return=P,P=X;break t}else{a(P,O);break}else i(P,O);O=O.sibling}X=Wh(L,P.mode,X),X.return=P,P=X}return v(P);case w:return ht=L._init,L=ht(L._payload),re(P,O,L,X)}if(xt(L))return Ct(P,O,L,X);if(V(L)){if(ht=V(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),wt(P,O,L,X)}if(typeof L.then=="function")return re(P,O,Fu(L),X);if(L.$$typeof===at)return re(P,O,xu(P,L),X);Gu(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(P,O.sibling),X=h(O,L),X.return=P,P=X):(a(P,O),X=Zh(L,P.mode,X),X.return=P,P=X),v(P)):a(P,O)}return function(P,O,L,X){try{il=0;var ht=re(P,O,L,X);return xa=null,ht}catch(yt){if(yt===Yo||yt===ku)throw yt;var zt=vn(29,yt,null,P.mode);return zt.lanes=X,zt.return=P,zt}finally{}}}var Oa=Jg(!0),ty=Jg(!1),Un=W(null),ui=null;function As(e){var i=e.alternate;nt(Oe,Oe.current&1),nt(Un,e),ui===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(ui=e)}function ey(e){if(e.tag===22){if(nt(Oe,Oe.current),nt(Un,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else bs()}function bs(){nt(Oe,Oe.current),nt(Un,Un.current)}function Ki(e){rt(Un),ui===e&&(ui=null),rt(Oe)}var Oe=W(0);function Ku(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ed(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Of(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=bn(),h=vs(l);h.payload=i,a!=null&&(h.callback=a),i=Ts(e,h,l),i!==null&&(Sn(i,e,l),$o(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=bn(),h=vs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ts(e,h,l),i!==null&&(Sn(i,e,l),$o(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),l=vs(a);l.tag=2,i!=null&&(l.callback=i),i=Ts(e,l,a),i!==null&&(Sn(i,e,a),$o(i,e,a))}};function ny(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function iy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&kf.enqueueReplaceState(i,i.state,null)}function Lr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sy(e){Qu(e)}function ry(e){console.error(e)}function ay(e){Qu(e)}function Yu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function oy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,i,a){return a=vs(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(e,i)},a}function ly(e){return e=vs(e),e.tag=3,e}function uy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){oy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){oy(i,a,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function jT(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Go(i,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 13:return ui===null?sd():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ad(e,l,h)),!1;case 22:return a.flags|=65536,l===uf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ad(e,l,h)),!1}throw Error(r(435,a.tag))}return ad(e,l,h),sd(),!1}if(Zt)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ef&&(e=Error(r(422),{cause:l}),Fo(kn(e,a)))):(l!==ef&&(i=Error(r(423),{cause:l}),Fo(kn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=kn(l,a),h=Mf(e.stateNode,l,h),ff(e,h),_e!==4&&(_e=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,a),hl===null?hl=[d]:hl.push(d),_e!==4&&(_e=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,l,e),ff(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ns===null||!Ns.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ly(h),uy(h,e,a,l),ff(a,h),!1}a=a.return}while(a!==null);return!1}var cy=Error(r(461)),ze=!1;function Ke(e,i,a,l){i.child=e===null?ty(i,null,a,l):Oa(i,e.child,a,l)}function hy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Vr(i),l=yf(e,i,a,v,d,h),E=_f(),e!==null&&!ze?(vf(e,i,h),Qi(e,i,h)):(Zt&&E&&Jh(i),i.flags|=1,Ke(e,i,l,h),i.child)}function fy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!$h(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,dy(e,i,d,l,h)):(e=Iu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Hf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(v,l)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=zi(d,l),e.ref=i.ref,e.return=i,i.child=e}function dy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(zo(d,l)&&e.ref===i.ref)if(ze=!1,i.pendingProps=l=d,Hf(e,h))(e.flags&131072)!==0&&(ze=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return Vf(e,i,a,l,h)}function my(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return py(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(i,d!==null?d.cachePool:null),d!==null?dg(i,d):mf(),ey(i);else return i.lanes=i.childLanes=536870912,py(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ou(i,d.cachePool),dg(i,d),bs(),i.memoizedState=null):(e!==null&&Ou(i,null),mf(),bs());return Ke(e,i,h,a),i.child}function py(e,i,a,l){var h=lf();return h=h===null?null:{parent:xe._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ou(i,null),mf(),ey(i),e!==null&&Go(e,i,l,!0),null}function Xu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Vf(e,i,a,l,h){return Vr(i),a=yf(e,i,a,l,void 0,h),l=_f(),e!==null&&!ze?(vf(e,i,h),Qi(e,i,h)):(Zt&&l&&Jh(i),i.flags|=1,Ke(e,i,a,h),i.child)}function gy(e,i,a,l,h,d){return Vr(i),i.updateQueue=null,a=pg(i,l,a,h),mg(e),l=_f(),e!==null&&!ze?(vf(e,i,d),Qi(e,i,d)):(Zt&&l&&Jh(i),i.flags|=1,Ke(e,i,a,d),i.child)}function yy(e,i,a,l,h){if(Vr(i),i.stateNode===null){var d=Aa,v=a.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},cf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?tn(v):Aa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Of(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&kf.enqueueReplaceState(d,d.state,null),Wo(i,l,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,I=Lr(a,E);d.props=I;var j=d.context,Y=a.contextType;v=Aa,typeof Y=="object"&&Y!==null&&(v=tn(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==v)&&iy(i,d,l,v),_s=!1;var H=i.memoizedState;d.state=H,Wo(i,l,d,h),Zo(),j=i.memoizedState,E||H!==j||_s?(typeof $=="function"&&(Of(i,a,$,l),j=i.memoizedState),(I=_s||ny(i,a,I,l,H,j,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,hf(e,i),v=i.memoizedProps,Y=Lr(a,v),d.props=Y,$=i.pendingProps,H=d.context,j=a.contextType,I=Aa,typeof j=="object"&&j!==null&&(I=tn(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||H!==I)&&iy(i,d,l,I),_s=!1,H=i.memoizedState,d.state=H,Wo(i,l,d,h),Zo();var q=i.memoizedState;v!==$||H!==q||_s||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Of(i,a,E,l),q=i.memoizedState),(Y=_s||ny(i,a,Y,l,H,q,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Xu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Oa(i,e.child,null,h),i.child=Oa(i,null,a,h)):Ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Qi(e,i,h),e}function _y(e,i,a,l){return qo(),i.flags|=256,Ke(e,i,a,l),i.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:rg()}}function Lf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Ln),e}function vy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Zt){if(h?As(i):bs(),Zt){var E=ye,I;if(I=E){t:{for(I=E,E=li;I.nodeType!==8;){if(!E){E=null;break t}if(I=Qn(I.nextSibling),I===null){E=null;break t}}E=I}E!==null?(i.memoizedState={dehydrated:E,treeContext:Dr!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},I=vn(18,null,null,0),I.stateNode=E,I.return=i,i.child=I,cn=i,ye=null,I=!0):I=!1}I||kr(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ed(E)?i.lanes=32:i.lanes=536870912,null;Ki(i)}return E=l.children,l=l.fallback,h?(bs(),h=i.mode,E=$u({mode:"hidden",children:E},h),l=Nr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Uf(a),h.childLanes=Lf(e,v,a),i.memoizedState=Pf,l):(As(i),jf(i,E))}if(I=e.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(d)i.flags&256?(As(i),i.flags&=-257,i=zf(e,i,a)):i.memoizedState!==null?(bs(),i.child=e.child,i.flags|=128,i=null):(bs(),h=l.fallback,E=i.mode,l=$u({mode:"visible",children:l.children},E),h=Nr(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Oa(i,e.child,null,a),l=i.child,l.memoizedState=Uf(a),l.childLanes=Lf(e,v,a),i.memoizedState=Pf,i=h);else if(As(i),Ed(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(r(419)),l.stack="",l.digest=v,Fo({value:l,source:null,stack:null}),i=zf(e,i,a)}else if(ze||Go(e,i,a,!1),v=(a&e.childLanes)!==0,ze||v){if(v=oe,v!==null&&(l=a&-a,l=(l&42)!==0?1:cs(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ea(e,l),Sn(v,e,l),cy;E.data==="$?"||sd(),i=zf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ye=Qn(E.nextSibling),cn=i,Zt=!0,Or=null,li=!1,e!==null&&(Vn[Pn++]=Bi,Vn[Pn++]=Hi,Vn[Pn++]=Dr,Bi=e.id,Hi=e.overflow,Dr=i),i=jf(i,l.children),i.flags|=4096);return i}return h?(bs(),h=l.fallback,E=i.mode,I=e.child,j=I.sibling,l=zi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?h=zi(j,h):(h=Nr(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Uf(a):(I=E.cachePool,I!==null?(j=xe._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=rg(),E={baseLanes:E.baseLanes|a,cachePool:I}),h.memoizedState=E,h.childLanes=Lf(e,v,a),i.memoizedState=Pf,l):(As(i),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function jf(e,i){return i=$u({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function $u(e,i){return e=vn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function zf(e,i,a){return Oa(i,e.child,null,a),e=jf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ty(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),sf(e.return,i,a)}function Bf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ey(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ke(e,i,l.children,a),l=Oe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ty(e,a,i);else if(e.tag===19)Ty(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(nt(Oe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ku(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Bf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ku(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Bf(i,!0,a,null,d);break;case"together":Bf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Cs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Go(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=zi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Hf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function zT(e,i,a){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),ys(i,xe,e.memoizedState.cache),qo();break;case 27:case 5:Ot(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:ys(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(As(i),i.flags|=128,null):(a&i.child.childLanes)!==0?vy(e,i,a):(As(i),e=Qi(e,i,a),e!==null?e.sibling:null);As(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Go(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ey(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Oe,Oe.current),l)break;return null;case 22:case 23:return i.lanes=0,my(e,i,a);case 24:ys(i,xe,e.memoizedState.cache)}return Qi(e,i,a)}function Ay(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ze=!0;else{if(!Hf(e,a)&&(i.flags&128)===0)return ze=!1,zT(e,i,a);ze=(e.flags&131072)!==0}else ze=!1,Zt&&(i.flags&1048576)!==0&&Wp(i,Nu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")$h(l)?(e=Lr(l,e),i.tag=1,i=yy(null,i,l,e,a)):(i.tag=0,i=Vf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===_t){i.tag=11,i=hy(null,i,l,e,a);break t}else if(h===k){i.tag=14,i=fy(null,i,l,e,a);break t}}throw i=Pt(l)||l,Error(r(306,i,""))}}return i;case 0:return Vf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Lr(l,i.pendingProps),yy(e,i,l,h,a);case 3:t:{if(it(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,hf(e,i),Wo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ys(i,xe,l),l!==d.cache&&rf(i,[xe],a,!0),Zo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=_y(e,i,l,a);break t}else if(l!==h){h=kn(Error(r(424)),i),Fo(h),i=_y(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ye=Qn(e.firstChild),cn=i,Zt=!0,Or=null,li=!0,a=ty(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qo(),l===h){i=Qi(e,i,a);break t}Ke(e,i,l,a)}i=i.child}return i;case 26:return Xu(e,i),e===null?(a=R_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Zt||(a=i.type,e=i.pendingProps,l=cc(bt.current).createElement(a),l[Ce]=i,l[be]=e,Ye(l,a,e),ve(l),i.stateNode=l):i.memoizedState=R_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ot(i),e===null&&Zt&&(l=i.stateNode=b_(i.type,i.pendingProps,bt.current),cn=i,li=!0,h=ye,Os(i.type)?(Ad=h,ye=Qn(l.firstChild)):ye=h),Ke(e,i,i.pendingProps.children,a),Xu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Zt&&((h=l=ye)&&(l=mE(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,cn=i,ye=Qn(l.firstChild),li=!1,h=!0):h=!1),h||kr(i)),Ot(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,_d(h,d)?l=null:v!==null&&_d(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=yf(e,i,OT,null,null,a),Tl._currentValue=h),Xu(e,i),Ke(e,i,l,a),i.child;case 6:return e===null&&Zt&&((e=a=ye)&&(a=pE(a,i.pendingProps,li),a!==null?(i.stateNode=a,cn=i,ye=null,e=!0):e=!1),e||kr(i)),null;case 13:return vy(e,i,a);case 4:return it(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Oa(i,null,l,a):Ke(e,i,l,a),i.child;case 11:return hy(e,i,i.type,i.pendingProps,a);case 7:return Ke(e,i,i.pendingProps,a),i.child;case 8:return Ke(e,i,i.pendingProps.children,a),i.child;case 12:return Ke(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ys(i,i.type,l.value),Ke(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vr(i),h=tn(h),l=l(h),i.flags|=1,Ke(e,i,l,a),i.child;case 14:return fy(e,i,i.type,i.pendingProps,a);case 15:return dy(e,i,i.type,i.pendingProps,a);case 19:return Ey(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=$u(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=zi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return my(e,i,a);case 24:return Vr(i),l=tn(xe),e===null?(h=lf(),h===null&&(h=oe,d=af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},cf(i),ys(i,xe,h)):((e.lanes&a)!==0&&(hf(e,i),Wo(i,null,null,a),Zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ys(i,xe,l)):(l=d.cache,ys(i,xe,l),l!==h.cache&&rf(i,[xe],a,!0))),Ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Yi(e){e.flags|=4}function by(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x_(i)){if(i=Un.current,i!==null&&((Yt&4194048)===Yt?ui!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||i!==ui))throw Xo=uf,ag;e.flags|=8192}}function Zu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ao():536870912,e.lanes|=i,Pa|=i)}function rl(e,i){if(!Zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function de(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function BT(e,i,a){var l=i.pendingProps;switch(tf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(i),null;case 1:return de(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(xe),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ho(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,eg())),de(i),null;case 26:return a=i.memoizedState,e===null?(Yi(i),a!==null?(de(i),by(i,a)):(de(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Yi(i),de(i),by(i,a)):(de(i),i.flags&=-16777217):(e.memoizedProps!==l&&Yi(i),de(i),i.flags&=-16777217),null;case 27:pt(i),a=bt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return de(i),null}e=dt.current,Ho(i)?Jp(i):(e=b_(h,l,a),i.stateNode=e,Yi(i))}return de(i),null;case 5:if(pt(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return de(i),null}if(e=dt.current,Ho(i))Jp(i);else{switch(h=cc(bt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ce]=i,e[be]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ye(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Yi(i)}}return de(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=bt.current,Ho(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||g_(e.nodeValue,a)),e||kr(i)}else e=cc(e).createTextNode(l),e[Ce]=i,i.stateNode=e}return de(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ho(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ce]=i}else qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;de(i),h=!1}else h=eg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ki(i),i):(Ki(i),null)}if(Ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Zu(i,i.updateQueue),de(i),null;case 4:return ct(),e===null&&dd(i.stateNode.containerInfo),de(i),null;case 10:return Fi(i.type),de(i),null;case 19:if(rt(Oe),h=i.memoizedState,h===null)return de(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)rl(h,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Ku(e),d!==null){for(i.flags|=128,rl(h,!1),e=d.updateQueue,i.updateQueue=e,Zu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Zp(a,e),a=a.sibling;return nt(Oe,Oe.current&1|2),i.child}e=e.sibling}h.tail!==null&&Je()>tc&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Ku(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Zu(i,e),rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Zt)return de(i),null}else 2*Je()-h.renderingStartTime>tc&&a!==536870912&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Je(),i.sibling=null,e=Oe.current,nt(Oe,l?e&1|2:e&1),i):(de(i),null);case 22:case 23:return Ki(i),pf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(de(i),i.subtreeFlags&6&&(i.flags|=8192)):de(i),a=i.updateQueue,a!==null&&Zu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&rt(Pr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(xe),de(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function HT(e,i){switch(tf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Fi(xe),ct(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return pt(i),null;case 13:if(Ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));qo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return rt(Oe),null;case 4:return ct(),null;case 10:return Fi(i.type),null;case 22:case 23:return Ki(i),pf(),e!==null&&rt(Pr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Fi(xe),null;case 25:return null;default:return null}}function Sy(e,i){switch(tf(i),i.tag){case 3:Fi(xe),ct();break;case 26:case 27:case 5:pt(i);break;case 4:ct();break;case 13:Ki(i);break;case 19:rt(Oe);break;case 10:Fi(i.type);break;case 22:case 23:Ki(i),pf(),e!==null&&rt(Pr);break;case 24:Fi(xe)}}function al(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){ae(i,i.return,E)}}function Ss(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var I=a,j=E;try{j()}catch(Y){ae(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){ae(i,i.return,Y)}}function wy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{fg(i,a)}catch(l){ae(e,e.return,l)}}}function Ry(e,i,a){a.props=Lr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ae(e,i,l)}}function ol(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ae(e,i,h)}}function ci(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ae(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(e,i,h)}else a.current=null}function Iy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ae(e,e.return,h)}}function qf(e,i,a){try{var l=e.stateNode;uE(l,e.type,a,i),l[be]=i}catch(h){ae(e,e.return,h)}}function Cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uc));else if(l!==4&&(l===27&&Os(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Gf(e,i,a),e=e.sibling;e!==null;)Gf(e,i,a),e=e.sibling}function Wu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Os(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,i,a),e=e.sibling;e!==null;)Wu(e,i,a),e=e.sibling}function Ny(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,l,a),i[Ce]=e,i[be]=a}catch(d){ae(e,e.return,d)}}var Xi=!1,Ee=!1,Kf=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Be=null;function qT(e,i){if(e=e.containerInfo,gd=gc,e=Bp(e),qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,I=-1,j=0,Y=0,$=e,H=null;e:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(E=v+h),$!==d||l!==0&&$.nodeType!==3||(I=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(q=$.firstChild)!==null;)H=$,$=q;for(;;){if($===e)break e;if(H===a&&++j===h&&(E=v),H===d&&++Y===l&&(I=v),(q=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:e,selectionRange:a},gc=!1,Be=i;Be!==null;)if(i=Be,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Be=e;else for(;Be!==null;){switch(i=Be,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ct=Lr(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(wt){ae(a,a.return,wt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Be=e;break}Be=i.return}}function xy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ws(e,a),l&4&&al(5,a);break;case 1:if(ws(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ae(a,a.return,v)}else{var h=Lr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ae(a,a.return,v)}}l&64&&wy(a),l&512&&ol(a,a.return);break;case 3:if(ws(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{fg(e,i)}catch(v){ae(a,a.return,v)}}break;case 27:i===null&&l&4&&Ny(a);case 26:case 5:ws(e,a),i===null&&l&4&&Iy(a),l&512&&ol(a,a.return);break;case 12:ws(e,a);break;case 13:ws(e,a),l&4&&My(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=WT.bind(null,a),gE(e,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ee,h=Xi;var d=Ee;Xi=l,(Ee=i)&&!d?Rs(e,a,(a.subtreeFlags&8772)!==0):ws(e,a),Xi=h,Ee=d}break;case 30:break;default:ws(e,a)}}function Oy(e){var i=e.alternate;i!==null&&(e.alternate=null,Oy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ds(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,fn=!1;function $i(e,i,a){for(a=a.child;a!==null;)ky(e,i,a),a=a.sibling}function ky(e,i,a){if(F&&typeof F.onCommitFiberUnmount=="function")try{F.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:Ee||ci(a,i),$i(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||ci(a,i);var l=ce,h=fn;Os(a.type)&&(ce=a.stateNode,fn=!1),$i(e,i,a),gl(a.stateNode),ce=l,fn=h;break;case 5:Ee||ci(a,i);case 6:if(l=ce,h=fn,ce=null,$i(e,i,a),ce=l,fn=h,ce!==null)if(fn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){ae(a,i,d)}else try{ce.removeChild(a.stateNode)}catch(d){ae(a,i,d)}break;case 18:ce!==null&&(fn?(e=ce,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Sl(e)):E_(ce,a.stateNode));break;case 4:l=ce,h=fn,ce=a.stateNode.containerInfo,fn=!0,$i(e,i,a),ce=l,fn=h;break;case 0:case 11:case 14:case 15:Ee||Ss(2,a,i),Ee||Ss(4,a,i),$i(e,i,a);break;case 1:Ee||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ry(a,i,l)),$i(e,i,a);break;case 21:$i(e,i,a);break;case 22:Ee=(l=Ee)||a.memoizedState!==null,$i(e,i,a),Ee=l;break;default:$i(e,i,a)}}function My(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sl(e)}catch(a){ae(i,i.return,a)}}function FT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Dy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Dy),i;default:throw Error(r(435,e.tag))}}function Qf(e,i){var a=FT(e);i.forEach(function(l){var h=JT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Tn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ce=E.stateNode,fn=!1;break t}break;case 5:ce=E.stateNode,fn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(ce===null)throw Error(r(160));ky(d,v,h),ce=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vy(i,e),i=i.sibling}var Kn=null;function Vy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(i,e),En(e),l&4&&(Ss(3,e,e.return),al(3,e),Ss(5,e,e.return));break;case 1:Tn(i,e),En(e),l&512&&(Ee||a===null||ci(a,a.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(Tn(i,e),En(e),l&512&&(Ee||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[dr]||d[Ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ye(d,l,a),d[Ce]=e,ve(d),l=d;break t;case"link":var v=N_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),Ye(d,l,a),h.head.appendChild(d);break;case"meta":if(v=N_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),Ye(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ce]=e,ve(d),l=d}e.stateNode=l}else D_(h,e.type,e.stateNode);else e.stateNode=C_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?D_(h,e.type,e.stateNode):C_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,e),En(e),l&512&&(Ee||a===null||ci(a,a.return)),a!==null&&l&4&&qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,e),En(e),l&512&&(Ee||a===null||ci(a,a.return)),e.flags&32){h=e.stateNode;try{Nn(h,"")}catch(q){ae(e,e.return,q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(Tn(i,e),En(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){ae(e,e.return,q)}}break;case 3:if(dc=null,h=Kn,Kn=hc(i.containerInfo),Tn(i,e),Kn=h,En(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(q){ae(e,e.return,q)}Kf&&(Kf=!1,Py(e));break;case 4:l=Kn,Kn=hc(e.stateNode.containerInfo),Tn(i,e),En(e),Kn=l;break;case 12:Tn(i,e),En(e);break;case 13:Tn(i,e),En(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jf=Je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qf(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Xi,Y=Ee;if(Xi=j||h,Ee=Y||I,Tn(i,e),Ee=Y,Xi=j,En(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Xi||Ee||jr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){ae(I,I.return,q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){ae(I,I.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qf(e,a))));break;case 19:Tn(i,e),En(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qf(e,l)));break;case 30:break;case 21:break;default:Tn(i,e),En(e)}}function En(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Cy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Ff(e);Wu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Nn(v,""),a.flags&=-33);var E=Ff(e);Wu(e,E,v);break;case 3:case 4:var I=a.stateNode.containerInfo,j=Ff(e);Gf(e,j,I);break;default:throw Error(r(161))}}catch(Y){ae(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ws(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xy(e,i.alternate,i),i=i.sibling}function jr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ss(4,i,i.return),jr(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ry(i,i.return,a),jr(i);break;case 27:gl(i.stateNode);case 26:case 5:ci(i,i.return),jr(i);break;case 22:i.memoizedState===null&&jr(i);break;case 30:jr(i);break;default:jr(i)}e=e.sibling}}function Rs(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rs(h,d,a),al(4,d);break;case 1:if(Rs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ae(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)hg(I[h],E)}catch(j){ae(l,l.return,j)}}a&&v&64&&wy(d),ol(d,d.return);break;case 27:Ny(d);case 26:case 5:Rs(h,d,a),a&&l===null&&v&4&&Iy(d),ol(d,d.return);break;case 12:Rs(h,d,a);break;case 13:Rs(h,d,a),a&&v&4&&My(h,d);break;case 22:d.memoizedState===null&&Rs(h,d,a),ol(d,d.return);break;case 30:break;default:Rs(h,d,a)}i=i.sibling}}function Yf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ko(a))}function Xf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e))}function hi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uy(e,i,a,l),i=i.sibling}function Uy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(e,i,a,l),h&2048&&al(9,i);break;case 1:hi(e,i,a,l);break;case 3:hi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){hi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ae(i,i.return,I)}}else hi(e,i,a,l);break;case 13:hi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?hi(e,i,a,l):ll(e,i):d._visibility&2?hi(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Yf(v,i);break;case 24:hi(e,i,a,l),h&2048&&Xf(i.alternate,i);break;default:hi(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,I=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:ka(d,v,E,I,h),al(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?ka(d,v,E,I,h):ll(d,v):(Y._visibility|=2,ka(d,v,E,I,h)),h&&j&2048&&Yf(v.alternate,v);break;case 24:ka(d,v,E,I,h),h&&j&2048&&Xf(v.alternate,v);break;default:ka(d,v,E,I,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&Yf(l.alternate,l);break;case 24:ll(a,l),h&2048&&Xf(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Ma(e){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 26:Ma(e),e.flags&ul&&e.memoizedState!==null&&NE(Kn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e);break;case 3:case 4:var i=Kn;Kn=hc(e.stateNode.containerInfo),Ma(e),Kn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ul,ul=16777216,Ma(e),ul=i):Ma(e));break;default:Ma(e)}}function jy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,By(l,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zy(e),e=e.sibling}function zy(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ju(e)):cl(e);break;default:cl(e)}}function Ju(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,By(l,e)}jy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ss(8,i,i.return),Ju(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ju(i));break;default:Ju(i)}e=e.sibling}}function By(e,i){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Ss(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=e;Be!==null;){l=Be;var h=l.sibling,d=l.return;if(Oy(l),l===a){Be=null;break t}if(h!==null){h.return=d,Be=h;break t}Be=d}}}var GT={getCacheForType:function(e){var i=tn(xe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},KT=typeof WeakMap=="function"?WeakMap:Map,te=0,oe=null,Bt=null,Yt=0,ee=0,An=null,Is=!1,Va=!1,$f=!1,Zi=0,_e=0,Cs=0,zr=0,Zf=0,Ln=0,Pa=0,hl=null,dn=null,Wf=!1,Jf=0,tc=1/0,ec=null,Ns=null,Qe=0,Ds=null,Ua=null,La=0,td=0,ed=null,Hy=null,fl=0,nd=null;function bn(){if((te&2)!==0&&Yt!==0)return Yt&-Yt;if(K.T!==null){var e=wa;return e!==0?e:ud()}return hs()}function qy(){Ln===0&&(Ln=(Yt&536870912)===0||Zt?Eo():536870912);var e=Un.current;return e!==null&&(e.flags|=32),Ln}function Sn(e,i,a){(e===oe&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(ja(e,0),xs(e,Yt,Ln,!1)),Ni(e,a),((te&2)===0||e!==oe)&&(e===oe&&((te&2)===0&&(zr|=a),_e===4&&xs(e,Yt,Ln,!1)),fi(e))}function Fy(e,i,a){if((te&6)!==0)throw Error(r(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||fr(e,i),h=l?XT(e,i):rd(e,i,!0),d=l;do{if(h===0){Va&&!l&&xs(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!QT(a)){h=rd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=hl;var I=E.current.memoizedState.isDehydrated;if(I&&(ja(E,v).flags|=256),v=rd(E,v,!1),v!==2){if($f&&!I){E.errorRecoveryDisabledLanes|=d,zr|=d,h=4;break t}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ja(e,0),xs(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:xs(l,i,Ln,!Is);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Jf+300-Je(),10<h)){if(xs(l,i,Ln,!Is),na(l,0,!0)!==0)break t;l.timeoutHandle=v_(Gy.bind(null,l,a,dn,ec,Wf,i,Ln,zr,Pa,Is,d,2,-0,0),h);break t}Gy(l,a,dn,ec,Wf,i,Ln,zr,Pa,Is,d,0,-0,0)}}break}while(!0);fi(e)}function Gy(e,i,a,l,h,d,v,E,I,j,Y,$,H,q){if(e.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(vl={stylesheets:null,count:0,unsuspend:CE},Ly(i),$=DE(),$!==null)){e.cancelPendingCommit=$(Wy.bind(null,e,i,d,a,l,h,v,E,I,Y,1,H,q)),xs(e,d,v,!j);return}Wy(e,i,d,a,l,h,v,E,I)}function QT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xs(e,i,a,l){i&=~Zf,i&=~zr,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-vt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Zn(e,a,i)}function nc(){return(te&6)===0?(dl(0),!1):!0}function id(){if(Bt!==null){if(ee===0)var e=Bt.return;else e=Bt,qi=Mr=null,Tf(e),xa=null,il=0,e=Bt;for(;e!==null;)Sy(e.alternate,e),e=e.return;Bt=null}}function ja(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hE(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),id(),oe=e,Bt=a=zi(e.current,null),Yt=i,ee=0,An=null,Is=!1,Va=fr(e,i),$f=!1,Pa=Ln=Zf=zr=Cs=_e=0,dn=hl=null,Wf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-vt(l),d=1<<h;i|=e[h],l&=~d}return Zi=i,Su(),a}function Ky(e,i){Ut=null,K.H=qu,i===Yo||i===ku?(i=ug(),ee=3):i===ag?(i=ug(),ee=4):ee=i===cy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Bt===null&&(_e=1,Yu(e,kn(i,e.current)))}function Qy(){var e=K.H;return K.H=qu,e===null?qu:e}function Yy(){var e=K.A;return K.A=GT,e}function sd(){_e=4,Is||(Yt&4194048)!==Yt&&Un.current!==null||(Va=!0),(Cs&134217727)===0&&(zr&134217727)===0||oe===null||xs(oe,Yt,Ln,!1)}function rd(e,i,a){var l=te;te|=2;var h=Qy(),d=Yy();(oe!==e||Yt!==i)&&(ec=null,ja(e,i)),i=!1;var v=_e;t:do try{if(ee!==0&&Bt!==null){var E=Bt,I=An;switch(ee){case 8:id(),v=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var j=ee;if(ee=0,An=null,za(e,E,I,j),a&&Va){v=0;break t}break;default:j=ee,ee=0,An=null,za(e,E,I,j)}}YT(),v=_e;break}catch(Y){Ky(e,Y)}while(!0);return i&&e.shellSuspendCounter++,qi=Mr=null,te=l,K.H=h,K.A=d,Bt===null&&(oe=null,Yt=0,Su()),v}function YT(){for(;Bt!==null;)Xy(Bt)}function XT(e,i){var a=te;te|=2;var l=Qy(),h=Yy();oe!==e||Yt!==i?(ec=null,tc=Je()+500,ja(e,i)):Va=fr(e,i);t:do try{if(ee!==0&&Bt!==null){i=Bt;var d=An;e:switch(ee){case 1:ee=0,An=null,za(e,i,d,1);break;case 2:case 9:if(og(d)){ee=0,An=null,$y(i);break}i=function(){ee!==2&&ee!==9||oe!==e||(ee=7),fi(e)},d.then(i,i);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:og(d)?(ee=0,An=null,$y(i)):(ee=0,An=null,za(e,i,d,7));break;case 5:var v=null;switch(Bt.tag){case 26:v=Bt.memoizedState;case 5:case 27:var E=Bt;if(!v||x_(v)){ee=0,An=null;var I=E.sibling;if(I!==null)Bt=I;else{var j=E.return;j!==null?(Bt=j,ic(j)):Bt=null}break e}}ee=0,An=null,za(e,i,d,5);break;case 6:ee=0,An=null,za(e,i,d,6);break;case 8:id(),_e=6;break t;default:throw Error(r(462))}}$T();break}catch(Y){Ky(e,Y)}while(!0);return qi=Mr=null,K.H=l,K.A=h,te=a,Bt!==null?0:(oe=null,Yt=0,Su(),_e)}function $T(){for(;Bt!==null&&!zn();)Xy(Bt)}function Xy(e){var i=Ay(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?ic(e):Bt=i}function $y(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=gy(a,i,i.pendingProps,i.type,void 0,Yt);break;case 11:i=gy(a,i,i.pendingProps,i.type.render,i.ref,Yt);break;case 5:Tf(i);default:Sy(a,i),i=Bt=Zp(i,Zi),i=Ay(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?ic(e):Bt=i}function za(e,i,a,l){qi=Mr=null,Tf(i),xa=null,il=0;var h=i.return;try{if(jT(e,h,i,a,Yt)){_e=1,Yu(e,kn(a,e.current)),Bt=null;return}}catch(d){if(h!==null)throw Bt=h,d;_e=1,Yu(e,kn(a,e.current)),Bt=null;return}i.flags&32768?(Zt||l===1?e=!0:Va||(Yt&536870912)!==0?e=!1:(Is=e=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zy(i,e)):ic(i)}function ic(e){var i=e;do{if((i.flags&32768)!==0){Zy(i,Is);return}e=i.return;var a=BT(i.alternate,i,Zi);if(a!==null){Bt=a;return}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=e}while(i!==null);_e===0&&(_e=5)}function Zy(e,i){do{var a=HT(e.alternate,e);if(a!==null){a.flags&=32767,Bt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=a}while(e!==null);_e=6,Bt=null}function Wy(e,i,a,l,h,d,v,E,I){e.cancelPendingCommit=null;do sc();while(Qe!==0);if((te&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Yh,bo(e,a,d,v,E,I),e===oe&&(Bt=oe=null,Yt=0),Ua=i,Ds=e,La=a,td=d,ed=h,Hy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tE(Ii,function(){return i_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=tt.p,tt.p=2,v=te,te|=4;try{qT(e,i,a)}finally{te=v,tt.p=h,K.T=l}}Qe=1,Jy(),t_(),e_()}}function Jy(){if(Qe===1){Qe=0;var e=Ds,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=tt.p;tt.p=2;var h=te;te|=4;try{Vy(i,e);var d=yd,v=Bp(e.containerInfo),E=d.focusedElem,I=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&zp(E.ownerDocument.documentElement,E)){if(I!==null&&qh(E)){var j=I.start,Y=I.end;if(Y===void 0&&(Y=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var q=H.getSelection(),Ct=E.textContent.length,wt=Math.min(I.start,Ct),re=I.end===void 0?wt:Math.min(I.end,Ct);!q.extend&&wt>re&&(v=re,re=wt,wt=v);var P=jp(E,wt),O=jp(E,re);if(P&&O&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=$.createRange();L.setStart(P.node,P.offset),q.removeAllRanges(),wt>re?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}gc=!!gd,yd=gd=null}finally{te=h,tt.p=l,K.T=a}}e.current=i,Qe=2}}function t_(){if(Qe===2){Qe=0;var e=Ds,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=tt.p;tt.p=2;var h=te;te|=4;try{xy(e,i.alternate,i)}finally{te=h,tt.p=l,K.T=a}}Qe=3}}function e_(){if(Qe===4||Qe===3){Qe=0,os();var e=Ds,i=Ua,a=La,l=Hy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qe=5:(Qe=0,Ua=Ds=null,n_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),ia(a),i=i.stateNode,F&&typeof F.onCommitFiberRoot=="function")try{F.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=tt.p,tt.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{K.T=i,tt.p=h}}(La&3)!==0&&sc(),fi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===nd?fl++:(fl=0,nd=e):fl=0,dl(0)}}function n_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ko(i)))}function sc(e){return Jy(),t_(),e_(),i_()}function i_(){if(Qe!==5)return!1;var e=Ds,i=td;td=0;var a=ia(La),l=K.T,h=tt.p;try{tt.p=32>a?32:a,K.T=null,a=ed,ed=null;var d=Ds,v=La;if(Qe=0,Ua=Ds=null,La=0,(te&6)!==0)throw Error(r(331));var E=te;if(te|=4,zy(d.current),Uy(d,d.current,v,a),te=E,dl(0,!1),F&&typeof F.onPostCommitFiberRoot=="function")try{F.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{tt.p=h,K.T=l,n_(e,i)}}function s_(e,i,a){i=kn(a,i),i=Mf(e.stateNode,i,2),e=Ts(e,i,2),e!==null&&(Ni(e,2),fi(e))}function ae(e,i,a){if(e.tag===3)s_(e,e,a);else for(;i!==null;){if(i.tag===3){s_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=kn(a,e),a=ly(2),l=Ts(i,a,2),l!==null&&(uy(a,l,i,e),Ni(l,2),fi(l));break}}i=i.return}}function ad(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new KT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||($f=!0,h.add(a),e=ZT.bind(null,e,i,a),i.then(e,e))}function ZT(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(Yt&a)===a&&(_e===4||_e===3&&(Yt&62914560)===Yt&&300>Je()-Jf?(te&2)===0&&ja(e,0):Zf|=a,Pa===Yt&&(Pa=0)),fi(e)}function r_(e,i){i===0&&(i=Ao()),e=Ea(e,i),e!==null&&(Ni(e,i),fi(e))}function WT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),r_(e,a)}function JT(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),r_(e,a)}function tE(e,i){return fe(e,i)}var rc=null,Ba=null,od=!1,ac=!1,ld=!1,Br=0;function fi(e){e!==Ba&&e.next===null&&(Ba===null?rc=Ba=e:Ba=Ba.next=e),ac=!0,od||(od=!0,nE())}function dl(e,i){if(!ld&&ac){ld=!0;do for(var a=!1,l=rc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-vt(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,u_(l,d))}else d=Yt,d=na(l,l===oe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fr(l,d)||(a=!0,u_(l,d));l=l.next}while(a);ld=!1}}function eE(){a_()}function a_(){ac=od=!1;var e=0;Br!==0&&(cE()&&(e=Br),Br=0);for(var i=Je(),a=null,l=rc;l!==null;){var h=l.next,d=o_(l,i);d===0?(l.next=null,a===null?rc=h:a.next=h,h===null&&(Ba=a)):(a=l,(e!==0||(d&3)!==0)&&(ac=!0)),l=h}dl(e)}function o_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-vt(d),E=1<<v,I=h[v];I===-1?((E&a)===0||(E&l)!==0)&&(h[v]=To(E,i)):I<=i&&(e.expiredLanes|=E),d&=~E}if(i=oe,a=Yt,a=na(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&We(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||fr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&We(l),ia(a)){case 2:case 8:a=Bn;break;case 32:a=Ii;break;case 268435456:a=ls;break;default:a=Ii}return l=l_.bind(null,e),a=fe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&We(l),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,i){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(sc()&&e.callbackNode!==a)return null;var l=Yt;return l=na(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Fy(e,l,i),o_(e,Je()),e.callbackNode!=null&&e.callbackNode===a?l_.bind(null,e):null)}function u_(e,i){if(sc())return null;Fy(e,i,!0)}function nE(){fE(function(){(te&6)!==0?fe(or,eE):a_()})}function ud(){return Br===0&&(Br=Eo()),Br}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function h_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function iE(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=c_((h[be]||null).action),v=l.submitter;v&&(i=(i=v[be]||null)?c_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ca("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var I=v?h_(h,v):new FormData(h);Nf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=v?h_(h,v):new FormData(h),Nf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var cd=0;cd<Qh.length;cd++){var hd=Qh[cd],sE=hd.toLowerCase(),rE=hd[0].toUpperCase()+hd.slice(1);Gn(sE,"on"+rE)}Gn(Fp,"onAnimationEnd"),Gn(Gp,"onAnimationIteration"),Gn(Kp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(AT,"onTransitionRun"),Gn(bT,"onTransitionStart"),Gn(ST,"onTransitionCancel"),Gn(Qp,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function f_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(Y){Qu(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(E=l[v],I=E.instance,j=E.currentTarget,E=E.listener,I!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(Y){Qu(Y)}h.currentTarget=null,d=I}}}}function Ht(e,i){var a=i[wo];a===void 0&&(a=i[wo]=new Set);var l=e+"__bubble";a.has(l)||(d_(i,e,2,!1),a.add(l))}function fd(e,i,a){var l=0;i&&(l|=4),d_(a,e,l,i)}var oc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[oc]){e[oc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||fd(a,!1,e),fd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[oc]||(i[oc]=!0,fd("selectionchange",!1,i))}}function d_(e,i,a,l){switch(U_(i)){case 2:var h=kE;break;case 8:h=ME;break;default:h=Id}a=h.bind(null,i,a,e),h=void 0,!xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function md(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Di(E),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}E=E.parentNode}}l=l.return}uu(function(){var j=d,Y=Dn(a),$=[];t:{var H=Yp.get(e);if(H!==void 0){var q=ca,Ct=e;switch(e){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":q=ga;break;case"focusin":Ct="focus",q=da;break;case"focusout":Ct="blur",q=da;break;case"beforeblur":case"afterblur":q=da;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yu;break;case Fp:case Gp:case Kp:q=ma;break;case Qp:q=vu;break;case"scroll":case"scrollend":q=cu;break;case"wheel":q=ya;break;case"copy":case"cut":case"paste":q=pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Lo;break;case"toggle":case"beforetoggle":q=Eu}var wt=(i&4)!==0,re=!wt&&(e==="scroll"||e==="scrollend"),P=wt?H!==null?H+"Capture":null:H;wt=[];for(var O=j,L;O!==null;){var X=O;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||P===null||(X=Tr(O,P),X!=null&&wt.push(pl(O,X,L))),re)break;O=O.return}0<wt.length&&(H=new q(H,Ct,null,a,Y),$.push({event:H,listeners:wt}))}}if((i&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",H&&a!==Mi&&(Ct=a.relatedTarget||a.fromElement)&&(Di(Ct)||Ct[Cn]))break t;if((q||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,q?(Ct=a.relatedTarget||a.toElement,q=j,Ct=Ct?Di(Ct):null,Ct!==null&&(re=u(Ct),wt=Ct.tag,Ct!==re||wt!==5&&wt!==27&&wt!==6)&&(Ct=null)):(q=null,Ct=j),q!==Ct)){if(wt=On,X="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(wt=Lo,X="onPointerLeave",P="onPointerEnter",O="pointer"),re=q==null?H:Jn(q),L=Ct==null?H:Jn(Ct),H=new wt(X,O+"leave",q,a,Y),H.target=re,H.relatedTarget=L,X=null,Di(Y)===j&&(wt=new wt(P,O+"enter",Ct,a,Y),wt.target=L,wt.relatedTarget=re,X=wt),re=X,q&&Ct)e:{for(wt=q,P=Ct,O=0,L=wt;L;L=Ha(L))O++;for(L=0,X=P;X;X=Ha(X))L++;for(;0<O-L;)wt=Ha(wt),O--;for(;0<L-O;)P=Ha(P),L--;for(;O--;){if(wt===P||P!==null&&wt===P.alternate)break e;wt=Ha(wt),P=Ha(P)}wt=null}else wt=null;q!==null&&m_($,H,q,wt,!1),Ct!==null&&re!==null&&m_($,re,Ct,wt,!0)}}t:{if(H=j?Jn(j):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ht=kp;else if(De(H))if(Mp)ht=vT;else{ht=yT;var zt=gT}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&xo(j.elementType)&&(ht=kp):ht=_T;if(ht&&(ht=ht(e,j))){ji($,ht,a,Y);break t}zt&&zt(e,H,j),e==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&ps(H,"number",H.value)}switch(zt=j?Jn(j):window,e){case"focusin":(De(zt)||zt.contentEditable==="true")&&(_a=zt,Fh=j,Bo=null);break;case"focusout":Bo=Fh=_a=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Hp($,a,Y);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":Hp($,a,Y)}var yt;if(ai)t:{switch(e){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else Kt?G(e,a)&&(Rt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Rt="onCompositionStart");Rt&&(_&&a.locale!=="ko"&&(Kt||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Kt&&(yt=ko()):(ni=Y,gs="value"in ni?ni.value:ni.textContent,Kt=!0)),zt=lc(j,Rt),0<zt.length&&(Rt=new Po(Rt,e,null,a,Y),$.push({event:Rt,listeners:zt}),yt?Rt.data=yt:(yt=st(a),yt!==null&&(Rt.data=yt)))),(yt=p?Ne(e,a):Qt(e,a))&&(Rt=lc(j,"onBeforeInput"),0<Rt.length&&(zt=new Po("onBeforeInput","beforeinput",null,a,Y),$.push({event:zt,listeners:Rt}),zt.data=yt)),iE($,e,j,a,Y)}f_($,i)})}function pl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function lc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Tr(e,a),h!=null&&l.unshift(pl(e,h,d)),h=Tr(e,i),h!=null&&l.push(pl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=Tr(a,d),j!=null&&v.unshift(pl(a,j,I))):h||(j=Tr(a,d),j!=null&&v.push(pl(a,j,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var oE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(oE,`
`).replace(lE,"")}function g_(e,i){return i=p_(i),p_(e)===i}function uc(){}function se(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(e,""+l);break;case"className":ti(e,"class",l);break;case"tabIndex":ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,a,l);break;case"style":Do(e,l,d);break;case"data":if(i!=="object"){ti(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ua(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&se(e,i,"name",h.name,h,null),se(e,i,"formEncType",h.formEncType,h,null),se(e,i,"formMethod",h.formMethod,h,null),se(e,i,"formTarget",h.formTarget,h,null)):(se(e,i,"encType",h.encType,h,null),se(e,i,"method",h.method,h,null),se(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ua(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=uc);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),ms(e,"popover",l);break;case"xlinkActuate":Fe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ms(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uh.get(a)||a,ms(e,a,l))}}function pd(e,i,a,l,h,d){switch(a){case"style":Do(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Nn(e,l):(typeof l=="number"||typeof l=="bigint")&&Nn(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[be]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ms(e,a,l)}}}function Ye(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:se(e,i,d,v,a,null)}}h&&se(e,i,"srcSet",a.srcSet,a,null),l&&se(e,i,"src",a.src,a,null);return;case"input":Ht("invalid",e);var E=d=v=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":j=Y;break;case"value":d=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:se(e,i,l,Y,a,null)}}yr(e,d,E,I,j,v,h,!1),la(e);return;case"select":Ht("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:se(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?ki(e,!!l,i,!1):a!=null&&ki(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:se(e,i,v,E,a,null)}_r(e,l,h,d),la(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(e,i,I,l,a,null)}return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<ml.length;l++)Ht(ml[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:se(e,i,j,l,a,null)}return;default:if(xo(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&pd(e,i,Y,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&se(e,i,E,l,a,null))}function uE(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,I=null,j=null,Y=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(q)||se(e,i,q,null,l,$)}}for(var H in l){var q=l[H];if($=a[H],l.hasOwnProperty(H)&&(q!=null||$!=null))switch(H){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==$&&se(e,i,H,q,l,$)}}yn(e,v,E,I,j,Y,d,h);return;case"select":q=v=E=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(d)||se(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==I&&se(e,i,h,d,l,I)}i=E,a=v,l=q,H!=null?ki(e,!!a,H,!1):!!l!=!!a&&(i!=null?ki(e,!!a,i,!0):ki(e,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&se(e,i,v,h,l,d)}ne(e,H,q);return;case"option":for(var Ct in a)if(H=a[Ct],a.hasOwnProperty(Ct)&&H!=null&&!l.hasOwnProperty(Ct))switch(Ct){case"selected":e.selected=!1;break;default:se(e,i,Ct,null,l,H)}for(I in l)if(H=l[I],q=a[I],l.hasOwnProperty(I)&&H!==q&&(H!=null||q!=null))switch(I){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:se(e,i,I,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)H=a[wt],a.hasOwnProperty(wt)&&H!=null&&!l.hasOwnProperty(wt)&&se(e,i,wt,null,l,H);for(j in l)if(H=l[j],q=a[j],l.hasOwnProperty(j)&&H!==q&&(H!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:se(e,i,j,H,l,q)}return;default:if(xo(i)){for(var re in a)H=a[re],a.hasOwnProperty(re)&&H!==void 0&&!l.hasOwnProperty(re)&&pd(e,i,re,void 0,l,H);for(Y in l)H=l[Y],q=a[Y],!l.hasOwnProperty(Y)||H===q||H===void 0&&q===void 0||pd(e,i,Y,H,l,q);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&se(e,i,P,null,l,H);for($ in l)H=l[$],q=a[$],!l.hasOwnProperty($)||H===q||H==null&&q==null||se(e,i,$,H,l,q)}var gd=null,yd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function _d(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vd=null;function cE(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(e){return T_.resolve(null).then(e).catch(dE)}:v_;function dE(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function E_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&gl(v.documentElement),a&2&&gl(v.body),a&4)for(a=v.head,gl(a),v=a.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[dr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),Sl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Sl(i)}function Td(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mE(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[dr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function pE(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gE(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Ad=null;function A_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function b_(e,i,a){switch(i=cc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function gl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ds(e)}var jn=new Map,S_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=tt.d;tt.d={f:yE,r:_E,D:vE,C:TE,L:EE,m:AE,X:SE,S:bE,M:wE};function yE(){var e=Wi.f(),i=nc();return e||i}function _E(e){var i=Wn(e);i!==null&&i.tag===5&&i.type==="form"?Fg(i):Wi.r(e)}var qa=typeof document>"u"?null:document;function w_(e,i,a){var l=qa;if(l&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),S_.has(h)||(S_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ye(i,"link",e),ve(i),l.head.appendChild(i)))}}function vE(e){Wi.D(e),w_("dns-prefetch",e,null)}function TE(e,i){Wi.C(e,i),w_("preconnect",e,i)}function EE(e,i,a){Wi.L(e,i,a);var l=qa;if(l&&e&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(e)+'"]';var d=h;switch(i){case"style":d=Fa(e);break;case"script":d=Ga(e)}jn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),jn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),Ye(i,"link",e),ve(i),l.head.appendChild(i)))}}function AE(e,i){Wi.m(e,i);var a=qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(e)}if(!jn.has(d)&&(e=A({rel:"modulepreload",href:e},i),jn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Ye(l,"link",e),ve(l),a.head.appendChild(l)}}}function bE(e,i,a){Wi.S(e,i,a);var l=qa;if(l&&e){var h=on(l).hoistableStyles,d=Fa(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(yl(d)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=jn.get(d))&&bd(e,a);var I=v=l.createElement("link");ve(I),Ye(I,"link",e),I._p=new Promise(function(j,Y){I.onload=j,I.onerror=Y}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function SE(e,i){Wi.X(e,i);var a=qa;if(a&&e){var l=on(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(e=A({src:e,async:!0},i),(i=jn.get(h))&&Sd(e,i),d=a.createElement("script"),ve(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function wE(e,i){Wi.M(e,i);var a=qa;if(a&&e){var l=on(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=jn.get(h))&&Sd(e,i),d=a.createElement("script"),ve(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function R_(e,i,a,l){var h=(h=bt.current)?hc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=on(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var d=on(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(yl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),d||RE(h,e,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=on(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+Se(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function RE(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ye(i,"link",a),ve(i),e.head.appendChild(i))}function Ga(e){return'[src="'+Se(e)+'"]'}function _l(e){return"script[async]"+e}function C_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return i.instance=l,ve(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ve(l),Ye(l,"style",h),fc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Fa(a.href);var d=e.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,ve(d),d;l=I_(a),(h=jn.get(h))&&bd(l,h),d=(e.ownerDocument||e).createElement("link"),ve(d);var v=d;return v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),Ye(d,"link",l),i.state.loading|=4,fc(d,a.precedence,e),i.instance=d;case"script":return d=Ga(a.src),(h=e.querySelector(_l(d)))?(i.instance=h,ve(h),h):(l=a,(h=jn.get(d))&&(l=A({},a),Sd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Ye(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fc(l,a.precedence,e));return i.instance}function fc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Sd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var dc=null;function N_(e,i,a){if(dc===null){var l=new Map,h=dc=new Map;h.set(a,l)}else h=dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[dr]||d[Ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function D_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function IE(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vl=null;function CE(){}function NE(e,i,a){if(vl===null)throw Error(r(475));var l=vl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Fa(a.href),d=e.querySelector(yl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=mc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ve(d);return}d=e.ownerDocument||e,a=I_(a),(h=jn.get(h))&&bd(a,h),d=d.createElement("link"),ve(d);var v=d;v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),Ye(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=mc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function DE(){if(vl===null)throw Error(r(475));var e=vl;return e.stylesheets&&e.count===0&&wd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&wd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function wd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,i.forEach(xE,e),pc=null,mc.call(e))}function xE(e,i){if(!(i.state.loading&4)){var a=pc.get(e);if(a)var l=a.get(null);else{a=new Map,pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Tl={$$typeof:at,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function OE(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function O_(e,i,a,l,h,d,v,E,I,j,Y,$){return e=new OE(e,i,a,v,E,I,j,$),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),e.current=d,d.stateNode=e,i=af(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},cf(d),e}function k_(e){return e?(e=Aa,e):Aa}function M_(e,i,a,l,h,d){h=k_(h),l.context===null?l.context=h:l.pendingContext=h,l=vs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ts(e,l,i),a!==null&&(Sn(a,e,i),$o(a,e,i))}function V_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Rd(e,i){V_(e,i),(e=e.alternate)&&V_(e,i)}function P_(e){if(e.tag===13){var i=Ea(e,67108864);i!==null&&Sn(i,e,67108864),Rd(e,67108864)}}var gc=!0;function kE(e,i,a,l){var h=K.T;K.T=null;var d=tt.p;try{tt.p=2,Id(e,i,a,l)}finally{tt.p=d,K.T=h}}function ME(e,i,a,l){var h=K.T;K.T=null;var d=tt.p;try{tt.p=8,Id(e,i,a,l)}finally{tt.p=d,K.T=h}}function Id(e,i,a,l){if(gc){var h=Cd(l);if(h===null)md(e,i,l,yc,a),L_(e,l);else if(PE(h,e,i,a,l))l.stopPropagation();else if(L_(e,l),i&4&&-1<VE.indexOf(e)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Hn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var I=1<<31-vt(v);E.entanglements[1]|=I,v&=~I}fi(d),(te&6)===0&&(tc=Je()+500,dl(0))}}break;case 13:E=Ea(d,2),E!==null&&Sn(E,d,2),nc(),Rd(d,2)}if(d=Cd(l),d===null&&md(e,i,l,yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else md(e,i,l,null,a)}}function Cd(e){return e=Dn(e),Nd(e)}var yc=null;function Nd(e){if(yc=null,e=Di(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return yc=e,null}function U_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ri()){case or:return 2;case Bn:return 8;case Ii:case vo:return 32;case ls:return 268435456;default:return 32}default:return 32}}var Dd=!1,ks=null,Ms=null,Vs=null,El=new Map,Al=new Map,Ps=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(e,i){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function bl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&P_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function PE(e,i,a,l,h){switch(i){case"focusin":return ks=bl(ks,e,i,a,l,h),!0;case"dragenter":return Ms=bl(Ms,e,i,a,l,h),!0;case"mouseover":return Vs=bl(Vs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,bl(El.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,bl(Al.get(d)||null,e,i,a,l,h)),!0}return!1}function j_(e){var i=Di(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,nu(e.priority,function(){if(a.tag===13){var l=bn();l=cs(l);var h=Ea(a,l);h!==null&&Sn(h,a,l),Rd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Cd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Mi=l,a.target.dispatchEvent(l),Mi=null}else return i=Wn(a),i!==null&&P_(i),e.blockedOn=a,!1;i.shift()}return!0}function z_(e,i,a){_c(e)&&a.delete(i)}function UE(){Dd=!1,ks!==null&&_c(ks)&&(ks=null),Ms!==null&&_c(Ms)&&(Ms=null),Vs!==null&&_c(Vs)&&(Vs=null),El.forEach(z_),Al.forEach(z_)}function vc(e,i){e.blockedOn===i&&(e.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,UE)))}var Tc=null;function B_(e){Tc!==e&&(Tc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Nd(l||a)===null)continue;break}var d=Wn(a);d!==null&&(e.splice(i,3),i-=3,Nf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sl(e){function i(I){return vc(I,e)}ks!==null&&vc(ks,e),Ms!==null&&vc(Ms,e),Vs!==null&&vc(Vs,e),El.forEach(i),Al.forEach(i);for(var a=0;a<Ps.length;a++){var l=Ps[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ps.length&&(a=Ps[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&Ps.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[be]||null;if(typeof d=="function")v||B_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[be]||null)E=v.formAction;else if(Nd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),B_(a)}}}function xd(e){this._internalRoot=e}Ec.prototype.render=xd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=bn();M_(a,l,e,i,null,null)},Ec.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;M_(e.current,2,null,e,null,null),nc(),i[Cn]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var i=hs();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ps.length&&i!==0&&i<Ps[a].priority;a++);Ps.splice(a,0,e),a===0&&j_(e)}};var H_=t.version;if(H_!=="19.1.0")throw Error(r(527,H_,"19.1.0"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var LE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{le=Ac.inject(LE),F=Ac}catch{}}return Rl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=sy,d=ry,v=ay,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=O_(e,1,!1,null,null,a,l,h,d,v,E,null),e[Cn]=i.current,dd(e),new xd(i)},Rl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=sy,v=ry,E=ay,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=O_(e,1,!0,i,a??null,l,h,d,v,E,I,j),i.context=k_(null),a=i.current,l=bn(),l=cs(l),h=vs(l),h.callback=null,Ts(a,h,l),a=l,i.current.lanes=a,Ni(i,a),fi(i),e[Cn]=i.current,dd(e),new Ec(i)},Rl.version="19.1.0",Rl}var W_;function XE(){if(W_)return Md.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=YE(),Md.exports}var $E=XE(),Vv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},J_=Fr.createContext&&Fr.createContext(Vv),ZE=["attr","size","title"];function WE(s,t){if(s==null)return{};var n=JE(s,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}function JE(s,t){if(s==null)return{};var n={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;n[r]=s[r]}return n}function zc(){return zc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},zc.apply(this,arguments)}function t0(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,r)}return n}function Bc(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(n),!0).forEach(function(r){t4(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function t4(s,t,n){return t=e4(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function e4(s){var t=n4(s,"string");return typeof t=="symbol"?t:t+""}function n4(s,t){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var r=n.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Pv(s){return s&&s.map((t,n)=>Fr.createElement(t.tag,Bc({key:n},t.attr),Pv(t.child)))}function qt(s){return t=>Fr.createElement(i4,zc({attr:Bc({},s.attr)},t),Pv(s.child))}function i4(s){var t=n=>{var{attr:r,size:o,title:u}=s,f=WE(s,ZE),m=o||n.size||"1em",g;return n.className&&(g=n.className),s.className&&(g=(g?g+" ":"")+s.className),Fr.createElement("svg",zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,f,{className:g,style:Bc(Bc({color:s.color||n.color},n.style),s.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Fr.createElement("title",null,u),s.children)};return J_!==void 0?Fr.createElement(J_.Consumer,null,n=>t(n)):t(Vv)}function s4(s){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(s)}function Hc(s){return qt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(s)}function r4(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(s)}function Nm(s){return qt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(s)}function Wa(s){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(s)}function a4(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(s)}function o4(s){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(s)}function Dm(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(s)}function l4(s){return qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(s)}function u4(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(s)}function mi(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(s)}function Uv(s){return qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(s)}function Lv(s){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(s)}function xm(s){return qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 192H473.26c12.69 29.59 7.12 65.2-17 89.32L320 417.58V464c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48V240c0-26.51-21.49-48-48-48zM480 376c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24zm-46.37-186.7L258.7 14.37c-19.16-19.16-50.23-19.16-69.39 0L14.37 189.3c-19.16 19.16-19.16 50.23 0 69.39L189.3 433.63c19.16 19.16 50.23 19.16 69.39 0L433.63 258.7c19.16-19.17 19.16-50.24 0-69.4zM96 248c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24zm128 128c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24zm0-128c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24zm0-128c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24zm128 128c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(s)}function Om(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"},child:[]}]})(s)}function km(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(s)}function c4(s){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(s)}function Mm(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"},child:[]}]})(s)}function Vm(s){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(s)}function Pm(s){return qt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(s)}function Um(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(s)}function jv(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(s)}function Lm(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"},child:[]}]})(s)}function zv(s){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(s)}function h4(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(s)}function jm(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(s)}function f4(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(s)}function Ja(s){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(s)}function d4(s){return qt({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(s)}function Jd(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(s)}function zm(s){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(s)}function m4(s){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(s)}function Bm(s){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(s)}function hh(s){return qt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(s)}function tm(s){return qt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(s)}function em(s){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(s)}function p4(s){return qt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(s)}const g4=()=>{};var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},y4=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,A=u>>2,R=(u&3)<<4|m>>4;let N=(m&15)<<2|y>>6,B=y&63;g||(B=64,f||(N=64)),r.push(n[A],n[R],n[N],n[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Bv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):y4(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const R=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||R==null)throw new _4;const N=u<<2|m>>4;if(r.push(N),y!==64){const B=m<<4&240|y>>2;if(r.push(B),R!==64){const z=y<<6&192|R;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class _4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v4=function(s){const t=Bv(s);return Hv.encodeByteArray(t,!0)},qc=function(s){return v4(s).replace(/\./g,"")},qv=function(s){try{return Hv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=()=>T4().__FIREBASE_DEFAULTS__,A4=()=>{if(typeof process>"u"||typeof e0>"u")return;const s=e0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},b4=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&qv(s[1]);return t&&JSON.parse(t)},fh=()=>{try{return g4()||E4()||A4()||b4()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Fv=s=>{var t,n;return(n=(t=fh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[s]},Gv=s=>{const t=Fv(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Kv=()=>{var s;return(s=fh())===null||s===void 0?void 0:s.config},Qv=s=>{var t;return(t=fh())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[qc(JSON.stringify(n)),qc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function R4(){var s;const t=(s=fh())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C4(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function N4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D4(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function x4(){return!R4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O4(){try{return typeof indexedDB=="object"}catch{return!1}}function k4(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="FirebaseError";class Si extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=M4,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?V4(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Si(o,m,r)}}function V4(s,t){return s.replace(P4,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const P4=/\{\$([^}]+)}/g;function U4(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Gr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(n0(u)&&n0(f)){if(!Gr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function n0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Il(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Cl(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function L4(s,t){const n=new j4(s,t);return n.subscribe.bind(n)}class j4{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");z4(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z4(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(s){return s&&s._delegate?s._delegate:s}class Zs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new S4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(q4(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H4(s){return s===Hr?void 0:s}function q4(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new B4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ft||(Ft={}));const G4={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},K4=Ft.INFO,Q4={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},Y4=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=Q4[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hm{constructor(t){this.name=t,this._logLevel=K4,this._logHandler=Y4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?G4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const X4=(s,t)=>t.some(n=>s instanceof n);let i0,s0;function $4(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z4(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xv=new WeakMap,nm=new WeakMap,$v=new WeakMap,jd=new WeakMap,qm=new WeakMap;function W4(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Ks(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Xv.set(n,s)}).catch(()=>{}),qm.set(t,s),t}function J4(s){if(nm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});nm.set(s,t)}let im={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return nm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||$v.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function tA(s){im=s(im)}function eA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(zd(this),t,...n);return $v.set(r,t.sort?t.sort():[t]),Ks(r)}:Z4().includes(s)?function(...t){return s.apply(zd(this),t),Ks(Xv.get(this))}:function(...t){return Ks(s.apply(zd(this),t))}}function nA(s){return typeof s=="function"?eA(s):(s instanceof IDBTransaction&&J4(s),X4(s,$4())?new Proxy(s,im):s)}function Ks(s){if(s instanceof IDBRequest)return W4(s);if(jd.has(s))return jd.get(s);const t=nA(s);return t!==s&&(jd.set(s,t),qm.set(t,s)),t}const zd=s=>qm.get(s);function iA(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=Ks(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Ks(f.result),g.oldVersion,g.newVersion,Ks(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const sA=["get","getKey","getAll","getAllKeys","count"],rA=["put","add","delete","clear"],Bd=new Map;function r0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=rA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||sA.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Bd.set(t,u),u}tA(s=>({...s,get:(t,n,r)=>r0(t,n)||s.get(t,n,r),has:(t,n)=>!!r0(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oA(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sm="@firebase/app",a0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Hm("@firebase/app"),lA="@firebase/app-compat",uA="@firebase/analytics-compat",cA="@firebase/analytics",hA="@firebase/app-check-compat",fA="@firebase/app-check",dA="@firebase/auth",mA="@firebase/auth-compat",pA="@firebase/database",gA="@firebase/data-connect",yA="@firebase/database-compat",_A="@firebase/functions",vA="@firebase/functions-compat",TA="@firebase/installations",EA="@firebase/installations-compat",AA="@firebase/messaging",bA="@firebase/messaging-compat",SA="@firebase/performance",wA="@firebase/performance-compat",RA="@firebase/remote-config",IA="@firebase/remote-config-compat",CA="@firebase/storage",NA="@firebase/storage-compat",DA="@firebase/firestore",xA="@firebase/vertexai",OA="@firebase/firestore-compat",kA="firebase",MA="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",VA={[sm]:"fire-core",[lA]:"fire-core-compat",[cA]:"fire-analytics",[uA]:"fire-analytics-compat",[fA]:"fire-app-check",[hA]:"fire-app-check-compat",[dA]:"fire-auth",[mA]:"fire-auth-compat",[pA]:"fire-rtdb",[gA]:"fire-data-connect",[yA]:"fire-rtdb-compat",[_A]:"fire-fn",[vA]:"fire-fn-compat",[TA]:"fire-iid",[EA]:"fire-iid-compat",[AA]:"fire-fcm",[bA]:"fire-fcm-compat",[SA]:"fire-perf",[wA]:"fire-perf-compat",[RA]:"fire-rc",[IA]:"fire-rc-compat",[CA]:"fire-gcs",[NA]:"fire-gcs-compat",[DA]:"fire-fst",[OA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,PA=new Map,am=new Map;function o0(s,t){try{s.container.addComponent(t)}catch(n){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Kr(s){const t=s.name;if(am.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;am.set(t,s);for(const n of Fc.values())o0(n,s);for(const n of PA.values())o0(n,s);return!0}function dh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function wn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Gl("app","Firebase",UA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=MA;function Zv(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:rm,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(n||(n=Kv()),!n)throw Qs.create("no-options");const u=Fc.get(o);if(u){if(Gr(n,u.options)&&Gr(r,u.config))return u;throw Qs.create("duplicate-app",{appName:o})}const f=new F4(o);for(const g of am.values())f.addComponent(g);const m=new LA(n,r,f);return Fc.set(o,m),m}function Fm(s=rm){const t=Fc.get(s);if(!t&&s===rm&&Kv())return Zv();if(!t)throw Qs.create("no-app",{appName:s});return t}function pi(s,t,n){var r;let o=(r=VA[s])!==null&&r!==void 0?r:s;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(m.join(" "));return}Kr(new Zs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebase-heartbeat-database",zA=1,Ul="firebase-heartbeat-store";let Hd=null;function Wv(){return Hd||(Hd=iA(jA,zA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function BA(s){try{const n=(await Wv()).transaction(Ul),r=await n.objectStore(Ul).get(Jv(s));return await n.done,r}catch(t){if(t instanceof Si)ns.warn(t.message);else{const n=Qs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ns.warn(n.message)}}}async function l0(s,t){try{const r=(await Wv()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(t,Jv(s)),await r.done}catch(n){if(n instanceof Si)ns.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function Jv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,qA=30;class FA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=u0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>qA){const f=QA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u0(),{heartbeatsToSend:r,unsentEntries:o}=GA(this._heartbeatsCache.heartbeats),u=qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ns.warn(n),""}}}function u0(){return new Date().toISOString().substring(0,10)}function GA(s,t=HA){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),c0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),c0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O4()?k4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return l0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return l0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function c0(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function QA(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(s){Kr(new Zs("platform-logger",t=>new aA(t),"PRIVATE")),Kr(new Zs("heartbeat",t=>new FA(t),"PRIVATE")),pi(sm,a0,s),pi(sm,a0,"esm2017"),pi("fire-js","")}YA("");var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,t1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,w){function C(){}C.prototype=w.prototype,k.D=w.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(x,M,V){for(var S=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)S[Pt-2]=arguments[Pt];return w.prototype[M].apply(x,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,w,C){C||(C=0);var x=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)x[M]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(M=0;16>M;++M)x[M]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=k.g[0],C=k.g[1],M=k.g[2];var V=k.g[3],S=w+(V^C&(M^V))+x[0]+3614090360&4294967295;w=C+(S<<7&4294967295|S>>>25),S=V+(M^w&(C^M))+x[1]+3905402710&4294967295,V=w+(S<<12&4294967295|S>>>20),S=M+(C^V&(w^C))+x[2]+606105819&4294967295,M=V+(S<<17&4294967295|S>>>15),S=C+(w^M&(V^w))+x[3]+3250441966&4294967295,C=M+(S<<22&4294967295|S>>>10),S=w+(V^C&(M^V))+x[4]+4118548399&4294967295,w=C+(S<<7&4294967295|S>>>25),S=V+(M^w&(C^M))+x[5]+1200080426&4294967295,V=w+(S<<12&4294967295|S>>>20),S=M+(C^V&(w^C))+x[6]+2821735955&4294967295,M=V+(S<<17&4294967295|S>>>15),S=C+(w^M&(V^w))+x[7]+4249261313&4294967295,C=M+(S<<22&4294967295|S>>>10),S=w+(V^C&(M^V))+x[8]+1770035416&4294967295,w=C+(S<<7&4294967295|S>>>25),S=V+(M^w&(C^M))+x[9]+2336552879&4294967295,V=w+(S<<12&4294967295|S>>>20),S=M+(C^V&(w^C))+x[10]+4294925233&4294967295,M=V+(S<<17&4294967295|S>>>15),S=C+(w^M&(V^w))+x[11]+2304563134&4294967295,C=M+(S<<22&4294967295|S>>>10),S=w+(V^C&(M^V))+x[12]+1804603682&4294967295,w=C+(S<<7&4294967295|S>>>25),S=V+(M^w&(C^M))+x[13]+4254626195&4294967295,V=w+(S<<12&4294967295|S>>>20),S=M+(C^V&(w^C))+x[14]+2792965006&4294967295,M=V+(S<<17&4294967295|S>>>15),S=C+(w^M&(V^w))+x[15]+1236535329&4294967295,C=M+(S<<22&4294967295|S>>>10),S=w+(M^V&(C^M))+x[1]+4129170786&4294967295,w=C+(S<<5&4294967295|S>>>27),S=V+(C^M&(w^C))+x[6]+3225465664&4294967295,V=w+(S<<9&4294967295|S>>>23),S=M+(w^C&(V^w))+x[11]+643717713&4294967295,M=V+(S<<14&4294967295|S>>>18),S=C+(V^w&(M^V))+x[0]+3921069994&4294967295,C=M+(S<<20&4294967295|S>>>12),S=w+(M^V&(C^M))+x[5]+3593408605&4294967295,w=C+(S<<5&4294967295|S>>>27),S=V+(C^M&(w^C))+x[10]+38016083&4294967295,V=w+(S<<9&4294967295|S>>>23),S=M+(w^C&(V^w))+x[15]+3634488961&4294967295,M=V+(S<<14&4294967295|S>>>18),S=C+(V^w&(M^V))+x[4]+3889429448&4294967295,C=M+(S<<20&4294967295|S>>>12),S=w+(M^V&(C^M))+x[9]+568446438&4294967295,w=C+(S<<5&4294967295|S>>>27),S=V+(C^M&(w^C))+x[14]+3275163606&4294967295,V=w+(S<<9&4294967295|S>>>23),S=M+(w^C&(V^w))+x[3]+4107603335&4294967295,M=V+(S<<14&4294967295|S>>>18),S=C+(V^w&(M^V))+x[8]+1163531501&4294967295,C=M+(S<<20&4294967295|S>>>12),S=w+(M^V&(C^M))+x[13]+2850285829&4294967295,w=C+(S<<5&4294967295|S>>>27),S=V+(C^M&(w^C))+x[2]+4243563512&4294967295,V=w+(S<<9&4294967295|S>>>23),S=M+(w^C&(V^w))+x[7]+1735328473&4294967295,M=V+(S<<14&4294967295|S>>>18),S=C+(V^w&(M^V))+x[12]+2368359562&4294967295,C=M+(S<<20&4294967295|S>>>12),S=w+(C^M^V)+x[5]+4294588738&4294967295,w=C+(S<<4&4294967295|S>>>28),S=V+(w^C^M)+x[8]+2272392833&4294967295,V=w+(S<<11&4294967295|S>>>21),S=M+(V^w^C)+x[11]+1839030562&4294967295,M=V+(S<<16&4294967295|S>>>16),S=C+(M^V^w)+x[14]+4259657740&4294967295,C=M+(S<<23&4294967295|S>>>9),S=w+(C^M^V)+x[1]+2763975236&4294967295,w=C+(S<<4&4294967295|S>>>28),S=V+(w^C^M)+x[4]+1272893353&4294967295,V=w+(S<<11&4294967295|S>>>21),S=M+(V^w^C)+x[7]+4139469664&4294967295,M=V+(S<<16&4294967295|S>>>16),S=C+(M^V^w)+x[10]+3200236656&4294967295,C=M+(S<<23&4294967295|S>>>9),S=w+(C^M^V)+x[13]+681279174&4294967295,w=C+(S<<4&4294967295|S>>>28),S=V+(w^C^M)+x[0]+3936430074&4294967295,V=w+(S<<11&4294967295|S>>>21),S=M+(V^w^C)+x[3]+3572445317&4294967295,M=V+(S<<16&4294967295|S>>>16),S=C+(M^V^w)+x[6]+76029189&4294967295,C=M+(S<<23&4294967295|S>>>9),S=w+(C^M^V)+x[9]+3654602809&4294967295,w=C+(S<<4&4294967295|S>>>28),S=V+(w^C^M)+x[12]+3873151461&4294967295,V=w+(S<<11&4294967295|S>>>21),S=M+(V^w^C)+x[15]+530742520&4294967295,M=V+(S<<16&4294967295|S>>>16),S=C+(M^V^w)+x[2]+3299628645&4294967295,C=M+(S<<23&4294967295|S>>>9),S=w+(M^(C|~V))+x[0]+4096336452&4294967295,w=C+(S<<6&4294967295|S>>>26),S=V+(C^(w|~M))+x[7]+1126891415&4294967295,V=w+(S<<10&4294967295|S>>>22),S=M+(w^(V|~C))+x[14]+2878612391&4294967295,M=V+(S<<15&4294967295|S>>>17),S=C+(V^(M|~w))+x[5]+4237533241&4294967295,C=M+(S<<21&4294967295|S>>>11),S=w+(M^(C|~V))+x[12]+1700485571&4294967295,w=C+(S<<6&4294967295|S>>>26),S=V+(C^(w|~M))+x[3]+2399980690&4294967295,V=w+(S<<10&4294967295|S>>>22),S=M+(w^(V|~C))+x[10]+4293915773&4294967295,M=V+(S<<15&4294967295|S>>>17),S=C+(V^(M|~w))+x[1]+2240044497&4294967295,C=M+(S<<21&4294967295|S>>>11),S=w+(M^(C|~V))+x[8]+1873313359&4294967295,w=C+(S<<6&4294967295|S>>>26),S=V+(C^(w|~M))+x[15]+4264355552&4294967295,V=w+(S<<10&4294967295|S>>>22),S=M+(w^(V|~C))+x[6]+2734768916&4294967295,M=V+(S<<15&4294967295|S>>>17),S=C+(V^(M|~w))+x[13]+1309151649&4294967295,C=M+(S<<21&4294967295|S>>>11),S=w+(M^(C|~V))+x[4]+4149444226&4294967295,w=C+(S<<6&4294967295|S>>>26),S=V+(C^(w|~M))+x[11]+3174756917&4294967295,V=w+(S<<10&4294967295|S>>>22),S=M+(w^(V|~C))+x[2]+718787259&4294967295,M=V+(S<<15&4294967295|S>>>17),S=C+(V^(M|~w))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(M+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+V&4294967295}r.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var C=w-this.blockSize,x=this.B,M=this.h,V=0;V<w;){if(M==0)for(;V<=C;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<w;)if(x[M++]=k.charCodeAt(V++),M==this.blockSize){o(this,x),M=0;break}}else for(;V<w;)if(x[M++]=k[V++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=w},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var C=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=C&255,C/=256;for(this.u(k),k=Array(16),w=C=0;4>w;++w)for(var x=0;32>x;x+=8)k[C++]=this.g[w]>>>x&255;return k};function u(k,w){var C=m;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=w(k)}function f(k,w){this.h=w;for(var C=[],x=!0,M=k.length-1;0<=M;M--){var V=k[M]|0;x&&V==w||(C[M]=V,x=!1)}this.g=C}var m={};function g(k){return-128<=k&&128>k?u(k,function(w){return new f([w|0],0>w?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return R;if(0>k)return Q(y(-k));for(var w=[],C=1,x=0;k>=C;x++)w[x]=k/C|0,C*=4294967296;return new f(w,0)}function A(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return Q(A(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(w,8)),x=R,M=0;M<k.length;M+=8){var V=Math.min(8,k.length-M),S=parseInt(k.substring(M,M+V),w);8>V?(V=y(Math.pow(w,V)),x=x.j(V).add(y(S))):(x=x.j(C),x=x.add(y(S)))}return x}var R=g(0),N=g(1),B=g(16777216);s=f.prototype,s.m=function(){if(J(this))return-Q(this).m();for(var k=0,w=1,C=0;C<this.g.length;C++){var x=this.i(C);k+=(0<=x?x:4294967296+x)*w,w*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(z(this))return"0";if(J(this))return"-"+Q(this).toString(k);for(var w=y(Math.pow(k,6)),C=this,x="";;){var M=_t(C,w).g;C=mt(C,M.j(w));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=M,z(C))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function z(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function J(k){return k.h==-1}s.l=function(k){return k=mt(this,k),J(k)?-1:z(k)?0:1};function Q(k){for(var w=k.g.length,C=[],x=0;x<w;x++)C[x]=~k.g[x];return new f(C,~k.h).add(N)}s.abs=function(){return J(this)?Q(this):this},s.add=function(k){for(var w=Math.max(this.g.length,k.g.length),C=[],x=0,M=0;M<=w;M++){var V=x+(this.i(M)&65535)+(k.i(M)&65535),S=(V>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);x=S>>>16,V&=65535,S&=65535,C[M]=S<<16|V}return new f(C,C[C.length-1]&-2147483648?-1:0)};function mt(k,w){return k.add(Q(w))}s.j=function(k){if(z(this)||z(k))return R;if(J(this))return J(k)?Q(this).j(Q(k)):Q(Q(this).j(k));if(J(k))return Q(this.j(Q(k)));if(0>this.l(B)&&0>k.l(B))return y(this.m()*k.m());for(var w=this.g.length+k.g.length,C=[],x=0;x<2*w;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<k.g.length;M++){var V=this.i(x)>>>16,S=this.i(x)&65535,Pt=k.i(M)>>>16,xt=k.i(M)&65535;C[2*x+2*M]+=S*xt,Et(C,2*x+2*M),C[2*x+2*M+1]+=V*xt,Et(C,2*x+2*M+1),C[2*x+2*M+1]+=S*Pt,Et(C,2*x+2*M+1),C[2*x+2*M+2]+=V*Pt,Et(C,2*x+2*M+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new f(C,0)};function Et(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function at(k,w){this.g=k,this.h=w}function _t(k,w){if(z(w))throw Error("division by zero");if(z(k))return new at(R,R);if(J(k))return w=_t(Q(k),w),new at(Q(w.g),Q(w.h));if(J(w))return w=_t(k,Q(w)),new at(Q(w.g),w.h);if(30<k.g.length){if(J(k)||J(w))throw Error("slowDivide_ only works with positive integers.");for(var C=N,x=w;0>=x.l(k);)C=ut(C),x=ut(x);var M=Tt(C,1),V=Tt(x,1);for(x=Tt(x,2),C=Tt(C,2);!z(x);){var S=V.add(x);0>=S.l(k)&&(M=M.add(C),V=S),x=Tt(x,1),C=Tt(C,1)}return w=mt(k,M.j(w)),new at(M,w)}for(M=R;0<=k.l(w);){for(C=Math.max(1,Math.floor(k.m()/w.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=y(C),S=V.j(w);J(S)||0<S.l(k);)C-=x,V=y(C),S=V.j(w);z(V)&&(V=N),M=M.add(V),k=mt(k,S)}return new at(M,k)}s.A=function(k){return _t(this,k).h},s.and=function(k){for(var w=Math.max(this.g.length,k.g.length),C=[],x=0;x<w;x++)C[x]=this.i(x)&k.i(x);return new f(C,this.h&k.h)},s.or=function(k){for(var w=Math.max(this.g.length,k.g.length),C=[],x=0;x<w;x++)C[x]=this.i(x)|k.i(x);return new f(C,this.h|k.h)},s.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),C=[],x=0;x<w;x++)C[x]=this.i(x)^k.i(x);return new f(C,this.h^k.h)};function ut(k){for(var w=k.g.length+1,C=[],x=0;x<w;x++)C[x]=k.i(x)<<1|k.i(x-1)>>>31;return new f(C,k.h)}function Tt(k,w){var C=w>>5;w%=32;for(var x=k.g.length-C,M=[],V=0;V<x;V++)M[V]=0<w?k.i(V+C)>>>w|k.i(V+C+1)<<32-w:k.i(V+C);return new f(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,t1=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=A,Ys=f}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,Nl,n1,xc,om,i1,s1,r1;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)t:{var _=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in _))break t;_=_[U]}c=c[c.length-1],b=_[c],p=p(b),p!=b&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,b=!1,U={next:function(){if(!b&&_<c.length){var G=_++;return{value:p(G,c[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function A(c,p,_){return c.call.apply(c.bind,arguments)}function R(c,p,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function N(c,p,_){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,N.apply(null,arguments)}function B(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function z(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,U,G){for(var st=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)st[Kt-2]=arguments[Kt];return p.prototype[U].apply(b,st)}}function J(c){const p=c.length;if(0<p){const _=Array(p);for(let b=0;b<p;b++)_[b]=c[b];return _}return[]}function Q(c,p){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const U=c.length||0,G=b.length||0;c.length=U+G;for(let st=0;st<G;st++)c[U+st]=b[st]}else c.push(b)}}class mt{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Et(c){return/^[\s\xa0]*$/.test(c)}function at(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function _t(c){return _t[" "](c),c}_t[" "]=function(){};var ut=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function Tt(c,p,_){for(const b in c)p.call(_,c[b],b,c)}function k(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,p){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)c[_]=b[_];for(let G=0;G<C.length;G++)_=C[G],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function M(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function V(c){m.setTimeout(()=>{throw c},0)}function S(){var c=jt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Pt{constructor(){this.h=this.g=null}add(p,_){const b=xt.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var xt=new mt(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ft=!1,jt=new Pt,D=()=>{const c=m.Promise.resolve(void 0);tt=()=>{c.then(W)}};var W=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(_){V(_)}var p=xt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ft=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Mt(c,p){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ut){t:{try{_t(p.nodeName);var U=!0;break t}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Mt.aa.h.call(this)}}z(Mt,nt);var bt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),it=0;function ct(c,p,_,b,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=U,this.key=++it,this.da=this.fa=!1}function Ot(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pt(c){this.src=c,this.g={},this.h=0}pt.prototype.add=function(c,p,_,b,U){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var st=fe(c,p,b,U);return-1<st?(p=c[st],_||(p.fa=!1)):(p=new ct(p,this.src,G,!!b,U),p.fa=_,c.push(p)),p};function ge(c,p){var _=p.type;if(_ in c.g){var b=c.g[_],U=Array.prototype.indexOf.call(b,p,void 0),G;(G=0<=U)&&Array.prototype.splice.call(b,U,1),G&&(Ot(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function fe(c,p,_,b){for(var U=0;U<c.length;++U){var G=c[U];if(!G.da&&G.listener==p&&G.capture==!!_&&G.ha==b)return U}return-1}var We="closure_lm_"+(1e6*Math.random()|0),zn={};function os(c,p,_,b,U){if(Array.isArray(p)){for(var G=0;G<p.length;G++)os(c,p[G],_,b,U);return null}return _=lr(_),c&&c[pe]?c.K(p,_,y(b)?!!b.capture:!1,U):Je(c,p,_,!1,b,U)}function Je(c,p,_,b,U,G){if(!p)throw Error("Invalid event type");var st=y(U)?!!U.capture:!!U,Kt=ls(c);if(Kt||(c[We]=Kt=new pt(c)),_=Kt.add(p,_,b,st,G),_.proxy)return _;if(b=Ri(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)dt||(U=st),U===void 0&&(U=!1),c.addEventListener(p.toString(),b,U);else if(c.attachEvent)c.attachEvent(Ii(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ri(){function c(_){return p.call(c.src,c.listener,_)}const p=vo;return c}function or(c,p,_,b,U){if(Array.isArray(p))for(var G=0;G<p.length;G++)or(c,p[G],_,b,U);else b=y(b)?!!b.capture:!!b,_=lr(_),c&&c[pe]?(c=c.i,p=String(p).toString(),p in c.g&&(G=c.g[p],_=fe(G,_,b,U),-1<_&&(Ot(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[p],c.h--)))):c&&(c=ls(c))&&(p=c.g[p.toString()],c=-1,p&&(c=fe(p,_,b,U)),(_=-1<c?p[c]:null)&&Bn(_))}function Bn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[pe])ge(p.i,c);else{var _=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(_,b,c.capture):p.detachEvent?p.detachEvent(Ii(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=ls(p))?(ge(_,c),_.h==0&&(_.src=null,p[We]=null)):Ot(c)}}}function Ii(c){return c in zn?zn[c]:zn[c]="on"+c}function vo(c,p){if(c.da)c=!0;else{p=new Mt(p,this);var _=c.listener,b=c.ha||c.src;c.fa&&Bn(c),c=_.call(b,p)}return c}function ls(c){return c=c[We],c instanceof pt?c:null}var us="__closure_events_fn_"+(1e9*Math.random()>>>0);function lr(c){return typeof c=="function"?c:(c[us]||(c[us]=function(p){return c.handleEvent(p)}),c[us])}function le(){rt.call(this),this.i=new pt(this),this.M=this,this.F=null}z(le,rt),le.prototype[pe]=!0,le.prototype.removeEventListener=function(c,p,_,b){or(this,c,p,_,b)};function F(c,p){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new nt(p,c);else if(p instanceof nt)p.target=p.target||c;else{var U=p;p=new nt(b,c),x(p,U)}if(U=!0,_)for(var G=_.length-1;0<=G;G--){var st=p.g=_[G];U=ot(st,b,!0,p)&&U}if(st=p.g=c,U=ot(st,b,!0,p)&&U,U=ot(st,b,!1,p)&&U,_)for(G=0;G<_.length;G++)st=p.g=_[G],U=ot(st,b,!1,p)&&U}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],b=0;b<_.length;b++)Ot(_[b]);delete c.g[p],c.h--}}this.F=null},le.prototype.K=function(c,p,_,b){return this.i.add(String(c),p,!1,_,b)},le.prototype.L=function(c,p,_,b){return this.i.add(String(c),p,!0,_,b)};function ot(c,p,_,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,G=0;G<p.length;++G){var st=p[G];if(st&&!st.da&&st.capture==_){var Kt=st.listener,Ne=st.ha||st.src;st.fa&&ge(c.i,st),U=Kt.call(Ne,b)!==!1&&U}}return U&&!b.defaultPrevented}function vt(c,p,_){if(typeof c=="function")_&&(c=N(c,_));else if(c&&typeof c.handleEvent=="function")c=N(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Ue(c){c.g=vt(()=>{c.g=null,c.i&&(c.i=!1,Ue(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class In extends rt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(c){rt.call(this),this.h=c,this.g={}}z(ur,rt);var cr=[];function hr(c){Tt(c.g,function(p,_){this.g.hasOwnProperty(_)&&Bn(p)},c),c.g={}}ur.prototype.N=function(){ur.aa.N.call(this),hr(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,na=m.JSON.parse,fr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function To(){}To.prototype.h=null;function Eo(c){return c.h||(c.h=c.i())}function Ao(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){nt.call(this,"d")}z(Ni,nt);function bo(){nt.call(this,"c")}z(bo,nt);var Zn={},So=null;function cs(){return So=So||new le}Zn.La="serverreachability";function ia(c){nt.call(this,Zn.La,c)}z(ia,nt);function hs(c){const p=cs();F(p,new ia(p))}Zn.STAT_EVENT="statevent";function nu(c,p){nt.call(this,Zn.STAT_EVENT,c),this.stat=p}z(nu,nt);function ue(c){const p=cs();F(p,new nu(p,c))}Zn.Ma="timingevent";function Ce(c,p){nt.call(this,Zn.Ma,c),this.size=p}z(Ce,nt);function be(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function wo(c,p,_,b,U,G){c.info(function(){if(c.g)if(G)for(var st="",Kt=G.split("&"),Ne=0;Ne<Kt.length;Ne++){var Qt=Kt[Ne].split("=");if(1<Qt.length){var je=Qt[0];Qt=Qt[1];var De=je.split("_");st=2<=De.length&&De[1]=="type"?st+(je+"="+Qt+"&"):st+(je+"=redacted&")}}else st=null;else st=G;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+p+`
`+_+`
`+st})}function Mh(c,p,_,b,U,G,st){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+p+`
`+_+`
`+G+" "+st})}function fs(c,p,_,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+dr(c,_)+(b?" "+b:"")})}function iu(c,p){c.info(function(){return"TIMEOUT: "+p})}Cn.prototype.info=function(){};function dr(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var st=1;st<U.length;st++)U[st]=""}}}}return Hn(_)}catch{return p}}var ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Jn(){}z(Jn,To),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Wn=new Jn;function on(c,p,_,b){this.j=c,this.i=p,this.l=_,this.R=b||1,this.U=new ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var Ro={},sa={};function qn(c,p,_){c.L=1,c.v=_r(yn(p)),c.m=_,c.P=!0,xi(c,null)}function xi(c,p){c.F=Date.now(),mr(c),c.A=yn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Oo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ve,c.g=vu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new In(N(c.Y,c,c.g),c.O)),p=c.U,_=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(cr[0]=U.toString()),U=cr);for(var G=0;G<U.length;G++){var st=os(_,U[G],b||p.handleEvent,!1,p.h||p);if(!st)break;p.g[st.key]=st}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),hs(),wo(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const p=this.M;p&&On(c)==3?p.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)t:{const De=On(this.g);var p=this.g.Ba();const ji=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||De!=4||p==7||(p==8||0>=ji?hs(3):hs(2)),ms(this);var _=this.g.Z();this.X=_;e:if(su(this)){var b=hu(this.g);c="";var U=b.length,G=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),ti(this);var st="";break e}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(G&&p==U-1)});b.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,Mh(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,Ne=this.g;if((Kt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(Kt)){var Qt=Kt;break e}}Qt=null}if(_=Qt)fs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,_);else{this.o=!1,this.s=3,ue(12),Fe(this),ti(this);break t}}if(this.P){_=!0;let Ge;for(;!this.J&&this.C<st.length;)if(Ge=ru(this,st),Ge==sa){De==4&&(this.s=4,ue(14),_=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==Ro){this.s=4,ue(15),fs(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else fs(this.i,this.l,Ge,null),pr(this,Ge);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||st.length!=0||this.h.h||(this.s=1,ue(16),_=!1),this.o=this.o&&_,!_)fs(this.i,this.l,st,"[Invalid Chunked Response]"),Fe(this),ti(this);else if(0<st.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Rr(je),je.M=!0,ue(11))}}else fs(this.i,this.l,st,null),pr(this,st);De==4&&Fe(this),this.o&&!this.J&&(De==4?gu(this.j,this):(this.o=!1,mr(this)))}else jh(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),Fe(this),ti(this)}}}catch{}finally{}};function su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ru(c,p){var _=c.C,b=p.indexOf(`
`,_);return b==-1?sa:(_=Number(p.substring(_,b)),isNaN(_)?Ro:(b+=1,b+_>p.length?sa:(p=p.slice(b,b+_),c.C=b+_,p)))}on.prototype.cancel=function(){this.J=!0,Fe(this)};function mr(c){c.S=Date.now()+c.I,au(c,c.I)}function au(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=be(N(c.ba,c),p)}function ms(c){c.B&&(m.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(iu(this.i,this.A),this.L!=2&&(hs(),ue(17)),Fe(this),this.s=2,ti(this)):au(this,this.S-c)};function ti(c){c.j.G==0||c.J||gu(c.j,c)}function Fe(c){ms(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,hr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function pr(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Io(_.h,c))){if(!c.K&&Io(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ga(_),ma(_);else break t;Uo(_),ue(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=be(N(_.Za,_),6e3));if(1>=aa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Li(_,11)}else if((c.K||_.g==c)&&ga(_),!Et(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let Qt=U[p];if(_.T=Qt[0],Qt=Qt[1],_.G==2)if(Qt[0]=="c"){_.K=Qt[1],_.ia=Qt[2];const je=Qt[3];je!=null&&(_.la=je,_.j.info("VER="+_.la));const De=Qt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const ji=Qt[5];ji!=null&&typeof ji=="number"&&0<ji&&(b=1.5*ji,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ge=c.g;if(Ge){const oi=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var G=b.h;G.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(oa(G,G.h),G.h=null))}if(b.D){const jo=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(b.ya=jo,ne(b.I,b.D,jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var st=c;if(b.qa=_u(b,b.J?b.ia:null,b.W),st.K){ln(b.h,st);var Kt=st,Ne=b.L;Ne&&(Kt.I=Ne),Kt.B&&(ms(Kt),mr(Kt)),b.g=st}else mu(b);0<_.i.length&&pa(_)}else Qt[0]!="stop"&&Qt[0]!="close"||Li(_,7);else _.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Li(_,7):Vo(_):Qt[0]!="noop"&&_.l&&_.l.ta(Qt),_.v=0)}}hs(4)}catch{}}var ou=class{constructor(c,p){this.g=c,this.map=p}};function Oi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aa(c){return c.h?1:c.g?c.g.size:0}function Io(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function oa(c,p){c.g?c.g.add(p):c.h=p}function ln(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Oi.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return J(c.i)}function Vh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,b=0;b<_;b++)p.push(c[b]);return p}p=[],_=0;for(b in c)p[_++]=c[b];return p}function la(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const b in c)p[_++]=b;return p}}}function No(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=la(c),b=Vh(c),U=b.length,G=0;G<U;G++)p.call(void 0,b[G],_&&_[G],c)}var gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ph(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),U=null;if(0<=b){var G=c[_].substring(0,b);U=c[_].substring(b+1)}else G=c[_];p(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,yr(this,c.j),this.o=c.o,this.g=c.g,ps(this,c.s),this.l=c.l;var p=c.i,_=new Mi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),ki(this,_),this.m=c.m}else c&&(p=String(c).match(gr))?(this.h=!1,yr(this,p[1]||"",!0),this.o=Nn(p[2]||""),this.g=Nn(p[3]||"",!0),ps(this,p[4]),this.l=Nn(p[5]||"",!0),ki(this,p[6]||"",!0),this.m=Nn(p[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Se.prototype.toString=function(){var c=[],p=this.j;p&&c.push(vr(p,Do,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(vr(p,Do,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vr(_,_.charAt(0)=="/"?Uh:xo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vr(_,ua)),c.join("")};function yn(c){return new Se(c)}function yr(c,p,_){c.j=_?Nn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ps(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function ki(c,p,_){p instanceof Mi?(c.i=p,uu(c.i,c.h)):(_||(p=vr(p,Lh)),c.i=new Mi(p,c.h))}function ne(c,p,_){c.i.set(p,_)}function _r(c){return ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vr(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,lu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Do=/[#\/\?@]/g,xo=/[#\?:]/g,Uh=/[#\?]/g,Lh=/[#\?@]/g,ua=/#/g;function Mi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ph(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}s=Mi.prototype,s.add=function(c,p){Dn(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Vi(c,p){Dn(c),p=ei(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Pi(c,p){return Dn(c),p=ei(c,p),c.g.has(p)}s.forEach=function(c,p){Dn(this),this.g.forEach(function(_,b){_.forEach(function(U){c.call(p,U,b,this)},this)},this)},s.na=function(){Dn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let b=0;b<p.length;b++){const U=c[b];for(let G=0;G<U.length;G++)_.push(p[b])}return _},s.V=function(c){Dn(this);let p=[];if(typeof c=="string")Pi(this,c)&&(p=p.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},s.set=function(c,p){return Dn(this),this.i=null,c=ei(this,c),Pi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Oo(c,p,_){Vi(c,p),0<_.length&&(c.i=null,c.g.set(ei(c,p),J(_)),c.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var b=p[_];const G=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var U=G;st[b]!==""&&(U+="="+encodeURIComponent(String(st[b]))),c.push(U)}}return this.i=c.join("&")};function ei(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function uu(c,p){p&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(Vi(this,b),Oo(this,U,_))},c)),c.j=p}function Tr(c,p){const _=new Cn;if(m.Image){const b=new Image;b.onload=B(xn,_,"TestLoadImage: loaded",!0,p,b),b.onerror=B(xn,_,"TestLoadImage: error",!1,p,b),b.onabort=B(xn,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=B(xn,_,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function Fn(c,p){const _=new Cn,b=new AbortController,U=setTimeout(()=>{b.abort(),xn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(U),G.ok?xn(_,"TestPingServer: ok",!0,p):xn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),xn(_,"TestPingServer: error",!1,p)})}function xn(c,p,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Er(){this.g=new fr}function ni(c,p,_){const b=_||"";try{No(c,function(U,G){let st=U;y(U)&&(st=Hn(U)),p.push(b+G+"="+encodeURIComponent(st))})}catch(U){throw p.push(b+"type="+encodeURIComponent("_badmap")),U}}function gs(c){this.l=c.Ub||null,this.j=c.eb||!1}z(gs,To),gs.prototype.g=function(){return new Ui(this.l,this.j)},gs.prototype.i=function(c){return function(){return c}}({});function Ui(c,p){le.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Ui,le),s=Ui.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,si(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ii(this):si(this),this.readyState==3&&ko(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},s.Qa=function(c){this.g&&(this.response=c,ii(this))},s.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}s.setRequestHeader=function(c,p){this.u.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let p="";return Tt(c,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function Le(c,p,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Mo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ne(c,p,_))}function Wt(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Wt,le);var ca=/^https?$/i,Ar=["POST","PUT"];s=Wt.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Eo(this.o):Eo(Wn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){cu(this,G);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())_.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ar,p,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,st]of _)this.g.setRequestHeader(G,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{br(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){cu(this,G)}};function cu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ha(c),ri(c)}function ha(c){c.A||(c.A=!0,F(c,"complete"),F(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,F(this,"complete"),F(this,"abort"),ri(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Wt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},s.bb=function(){fa(this)};function fa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)vt(c.Ea,0,c);else if(F(c,"readystatechange"),On(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var b;if(b=st===0){var U=String(c.D).match(gr)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),b=!ca.test(U?U.toLowerCase():"")}_=b}if(_)F(c,"complete"),F(c,"success");else{c.m=6;try{var G=2<On(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ha(c)}}finally{ri(c)}}}}function ri(c,p){if(c.g){br(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||F(c,"ready");try{_.onreadystatechange=b}catch{}}}function br(c){c.I&&(m.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),na(p)}};function hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jh(c){const p={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Et(c[b]))continue;var _=M(c[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=p[U]||[];p[U]=G,G.push(_)}k(p,function(b){return b.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function da(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,c),this.cb=Sr("retryDelaySeedMs",1e4,c),this.Wa=Sr("forwardChannelMaxRetries",2,c),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(c&&c.concurrentRequestLimit),this.Da=new Er,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=da.prototype,s.la=8,s.G=1,s.connect=function(c,p,_,b){ue(0),this.W=c,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=_u(this,null,this.W),pa(this)};function Vo(c){if(fu(c),c.G==3){var p=c.U++,_=yn(c.I);if(ne(_,"SID",c.K),ne(_,"RID",p),ne(_,"TYPE","terminate"),wr(c,_),p=new on(c,c.j,p),p.L=2,p.v=_r(yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=vu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),mr(p)}yu(c)}function ma(c){c.g&&(Rr(c),c.g.cancel(),c.g=null)}function fu(c){ma(c),c.u&&(m.clearTimeout(c.u),c.u=null),ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function pa(c){if(!ra(c.h)&&!c.s){c.s=!0;var p=c.Ga;tt||D(),ft||(tt(),ft=!0),jt.add(p,c),c.B=0}}function zh(c,p){return aa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=be(N(c.Ga,c,p),Lo(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new on(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=du(this,U,p),_=yn(this.I),ne(_,"RID",c),ne(_,"CVER",22),this.D&&ne(_,"X-HTTP-Session-Id",this.D),wr(this,_),G&&(this.O?p="headers="+encodeURIComponent(String(Mo(G)))+"&"+p:this.m&&Le(_,this.m,G)),oa(this.h,U),this.Ua&&ne(_,"TYPE","init"),this.P?(ne(_,"$req",p),ne(_,"SID","null"),U.T=!0,qn(U,_,null)):qn(U,_,p),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||ra(this.h)||Po(this))};function Po(c,p){var _;p?_=p.l:_=c.U++;const b=yn(c.I);ne(b,"SID",c.K),ne(b,"RID",_),ne(b,"AID",c.T),wr(c,b),c.m&&c.o&&Le(b,c.m,c.o),_=new on(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=du(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),oa(c.h,_),qn(_,b,p)}function wr(c,p){c.H&&Tt(c.H,function(_,b){ne(p,b,_)}),c.l&&No({},function(_,b){ne(p,b,_)})}function du(c,p,_){_=Math.min(c.i.length,_);var b=c.l?N(c.l.Na,c.l,c):null;t:{var U=c.i;let G=-1;for(;;){const st=["count="+_];G==-1?0<_?(G=U[0].g,st.push("ofs="+G)):G=0:st.push("ofs="+G);let Kt=!0;for(let Ne=0;Ne<_;Ne++){let Qt=U[Ne].g;const je=U[Ne].map;if(Qt-=G,0>Qt)G=Math.max(0,U[Ne].g-100),Kt=!1;else try{ni(je,st,"req"+Qt+"_")}catch{b&&b(je)}}if(Kt){b=st.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,b}function mu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;tt||D(),ft||(tt(),ft=!0),jt.add(p,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=be(N(c.Fa,c),Lo(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=be(N(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),ma(this),pu(this))};function Rr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function pu(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=yn(c.qa);ne(p,"RID","rpc"),ne(p,"SID",c.K),ne(p,"AID",c.T),ne(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&ne(p,"TO",c.ja),ne(p,"TYPE","xmlhttp"),wr(c,p),c.m&&c.o&&Le(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_r(yn(p)),_.m=null,_.P=!0,xi(_,c)}s.Za=function(){this.C!=null&&(this.C=null,ma(this),Uo(this),ue(19))};function ga(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function gu(c,p){var _=null;if(c.g==p){ga(c),Rr(c),c.g=null;var b=2}else if(Io(c.h,p))_=p.D,ln(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;b=cs(),F(b,new Ce(b,_)),pa(c)}else mu(c);else if(U=p.s,U==3||U==0&&0<p.X||!(b==1&&zh(c,p)||b==2&&Uo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),U){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function Lo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Li(c,p){if(c.j.info("Error code "+p),p==2){var _=N(c.fb,c),b=c.Xa;const U=!b;b=new Se(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||yr(b,"https"),_r(b),U?Tr(b.toString(),_):Fn(b.toString(),_)}else ue(2);c.G=0,c.l&&c.l.sa(p),yu(c),fu(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function yu(c){if(c.G=0,c.ka=[],c.l){const p=Co(c.h);(p.length!=0||c.i.length!=0)&&(Q(c.ka,p),Q(c.ka,c.i),c.h.i.length=0,J(c.i),c.i.length=0),c.l.ra()}}function _u(c,p,_){var b=_ instanceof Se?yn(_):new Se(_);if(b.g!="")p&&(b.g=p+"."+b.g),ps(b,b.s);else{var U=m.location;b=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var G=new Se(null);b&&yr(G,b),p&&(G.g=p),U&&ps(G,U),_&&(G.l=_),b=G}return _=c.D,p=c.ya,_&&p&&ne(b,_,p),ne(b,"VER",c.la),wr(c,b),b}function vu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Wt(new gs({eb:_})):new Wt(c.pa),p.Ha(c.J),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ya(){}ya.prototype.g=function(c,p){return new un(c,p)};function un(c,p){le.call(this),this.g=new da(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!Et(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Et(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ai(this)}z(un,le),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Vo(this.g)},un.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);p.i.push(new ou(p.Ya++,c)),p.G==3&&pa(p)},un.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,un.aa.N.call(this)};function Eu(c){Ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}z(Eu,Ni);function Au(){bo.call(this),this.status=1}z(Au,bo);function ai(c){this.g=c}z(ai,Tu),ai.prototype.ua=function(){F(this.g,"a")},ai.prototype.ta=function(c){F(this.g,new Eu(c))},ai.prototype.sa=function(c){F(this.g,new Au)},ai.prototype.ra=function(){F(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,r1=function(){return new ya},s1=function(){return cs()},i1=Zn,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,xc=ds,Di.COMPLETE="complete",n1=Di,Ao.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",le.prototype.listen=le.prototype.K,Nl=Ao,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,e1=Wt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const f0="@firebase/firestore",d0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Hm("@firebase/firestore");function Ka(){return Qr.logLevel}function lt(s,...t){if(Qr.logLevel<=Ft.DEBUG){const n=t.map(Gm);Qr.debug(`Firestore (${fo}): ${s}`,...n)}}function is(s,...t){if(Qr.logLevel<=Ft.ERROR){const n=t.map(Gm);Qr.error(`Firestore (${fo}): ${s}`,...n)}}function so(s,...t){if(Qr.logLevel<=Ft.WARN){const n=t.map(Gm);Qr.warn(`Firestore (${fo}): ${s}`,...n)}}function Gm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(s="Unexpected state"){const t=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+s;throw is(t),new Error(t)}function Jt(s,t){s||Nt()}function kt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Si{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class $A{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZA{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xs,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xs)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string"),new a1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string"),new sn(t)}}class WA{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JA{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new WA(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tb{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0);const r=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new m0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Jt(typeof n.token=="string"),this.R=n.token,new m0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=eb(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Lt(s,t){return s<t?-1:s>t?1:0}function lm(s,t){let n=0;for(;n<s.length&&n<t.length;){const r=s.codePointAt(n),o=t.codePointAt(n);if(r!==o){if(r<128&&o<128)return Lt(r,o);{const u=o1(),f=nb(u.encode(p0(s,n)),u.encode(p0(t,n)));return f!==0?f:Lt(r,o)}}n+=r>65535?2:1}return Lt(s.length,t.length)}function p0(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function nb(s,t){for(let n=0;n<s.length&&n<t.length;++n)if(s[n]!==t[n])return Lt(s[n],t[n]);return Lt(s.length,t.length)}function ro(s,t,n){return s.length===t.length&&s.every((r,o)=>n(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=-62135596800,y0=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*y0);return new Me(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new At(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<g0)throw new At(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y0}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-g0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Me(0,0))}static max(){return new Dt(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="__name__";class di{constructor(t,n,r){n===void 0?n=0:n>t.length&&Nt(),r===void 0?r=t.length-n:r>t.length-n&&Nt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Lt(t.length,n.length)}static compareSegments(t,n){const r=di.isNumericId(t),o=di.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?di.extractNumericId(t).compare(di.extractNumericId(n)):lm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class he extends di{construct(t,n,r){return new he(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new At(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new he(n)}static emptyPath(){return new he([])}}const ib=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends di{construct(t,n,r){return new $e(t,n,r)}static isValidIdentifier(t){return ib.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new $e([_0])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new At(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new At(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new At(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new At(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.path=t}static fromPath(t){return new St(he.fromString(t))}static fromName(t){return new St(he.fromString(t).popFirst(5))}static empty(){return new St(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return he.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new he(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function sb(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Ws(o,St.empty(),t)}function rb(s){return new Ws(s.readTime,s.key,Ll)}class Ws{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(Dt.min(),St.empty(),Ll)}static max(){return new Ws(Dt.max(),St.empty(),Ll)}}function ab(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=St.comparator(s.documentKey,t.documentKey),n!==0?n:Lt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(s){if(s.code!==et.FAILED_PRECONDITION||s.message!==ob)throw s;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,r)=>{n(t)})}static reject(t){return new Z((n,r)=>{r(t)})}static waitFor(t){return new Z((n,r)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>r(g))}),f=!0,u===o&&n()})}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next(o=>o?Z.resolve(o):r());return n}static forEach(t,n){const r=[];return t.forEach((o,u)=>{r.push(n.call(this,o,u))}),this.waitFor(r)}static mapArray(t,n){return new Z((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(A=>{f[y]=A,++m,m===u&&r(f)},A=>o(A))}})}static doWhile(t,n){return new Z((r,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):r()};u()})}}function ub(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=-1;function ph(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function cb(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="";function hb(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=v0(t)),t=fb(s.get(n),t);return v0(t)}function fb(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case u1:n+="";break;default:n+=u}}return n}function v0(s){return s+u1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function sr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function c1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Xe(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const t=this.left.check();if(t!==this.right.check())throw Nt();return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(t,n,r,o,u){return this}insert(t,n,r){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(t){return new E0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class E0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Rn([])}unionWith(t){let n=new Ve($e.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new h1("Invalid base64 string: "+u):u}}(t);return new Ze(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(s){if(Jt(!!s),typeof s=="string"){let t=0;const n=db.exec(s);if(Jt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ae(s.seconds),nanos:Ae(s.nanos)}}function Ae(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Ze.fromBase64String(s):Ze.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="server_timestamp",d1="__type__",m1="__previous_value__",p1="__local_write_time__";function Qm(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[d1])===null||n===void 0?void 0:n.stringValue)===f1}function gh(s){const t=s.mapValue.fields[m1];return Qm(t)?gh(t):t}function jl(s){const t=Js(s.mapValue.fields[p1].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,n,r,o,u,f,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Kc="(default)";class zl{constructor(t,n){this.projectId=t,this.database=n||Kc}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__type__",pb="__max__",wc={mapValue:{}},y1="__vector__",Qc="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:yb(s)?9007199254740991:gb(s)?10:11:Nt()}function Ei(s,t){if(s===t)return!0;const n=er(s);if(n!==er(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return jl(s).isEqual(jl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Js(o.timestampValue),m=Js(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(o,u){return tr(o.bytesValue).isEqual(tr(u.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(o,u){return Ae(o.geoPointValue.latitude)===Ae(u.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(u.geoPointValue.longitude)}(s,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ae(o.integerValue)===Ae(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ae(o.doubleValue),m=Ae(u.doubleValue);return f===m?Gc(f)===Gc(m):isNaN(f)&&isNaN(m)}return!1}(s,t);case 9:return ro(s.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(T0(f)!==T0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Ei(f[g],m[g])))return!1;return!0}(s,t);default:return Nt()}}function Bl(s,t){return(s.values||[]).find(n=>Ei(n,t))!==void 0}function ao(s,t){if(s===t)return 0;const n=er(s),r=er(t);if(n!==r)return Lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(s.booleanValue,t.booleanValue);case 2:return function(u,f){const m=Ae(u.integerValue||u.doubleValue),g=Ae(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(s,t);case 3:return A0(s.timestampValue,t.timestampValue);case 4:return A0(jl(s),jl(t));case 5:return lm(s.stringValue,t.stringValue);case 6:return function(u,f){const m=tr(u),g=tr(f);return m.compareTo(g)}(s.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const A=Lt(m[y],g[y]);if(A!==0)return A}return Lt(m.length,g.length)}(s.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Lt(Ae(u.latitude),Ae(f.latitude));return m!==0?m:Lt(Ae(u.longitude),Ae(f.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return b0(s.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,A;const R=u.fields||{},N=f.fields||{},B=(m=R[Qc])===null||m===void 0?void 0:m.arrayValue,z=(g=N[Qc])===null||g===void 0?void 0:g.arrayValue,J=Lt(((y=B==null?void 0:B.values)===null||y===void 0?void 0:y.length)||0,((A=z==null?void 0:z.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:b0(B,z)}(s.mapValue,t.mapValue);case 11:return function(u,f){if(u===wc.mapValue&&f===wc.mapValue)return 0;if(u===wc.mapValue)return 1;if(f===wc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},A=Object.keys(y);g.sort(),A.sort();for(let R=0;R<g.length&&R<A.length;++R){const N=lm(g[R],A[R]);if(N!==0)return N;const B=ao(m[g[R]],y[A[R]]);if(B!==0)return B}return Lt(g.length,A.length)}(s.mapValue,t.mapValue);default:throw Nt()}}function A0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Lt(s,t);const n=Js(s),r=Js(t),o=Lt(n.seconds,r.seconds);return o!==0?o:Lt(n.nanos,r.nanos)}function b0(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ao(n[o],r[o]);if(u)return u}return Lt(n.length,r.length)}function oo(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return tr(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return St.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=um(u);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${um(n.fields[f])}`;return o+"}"}(s.mapValue):Nt()}function Oc(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+Oc(t):16;case 5:return 2*s.stringValue.length;case 6:return tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Oc(u),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return sr(r.fields,(u,f)=>{o+=u.length+Oc(f)}),o}(s.mapValue);default:throw Nt()}}function cm(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function S0(s){return!!s&&"nullValue"in s}function w0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function gb(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[g1])===null||n===void 0?void 0:n.stringValue)===y1}function Ol(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return sr(s.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ol(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ol(s.arrayValue.values[n]);return t}return Object.assign({},s)}function yb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!kc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(n)}setAll(t){let n=$e.emptyPath(),r={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Ol(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){sr(n,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new pn(Ol(this.value))}}function _1(s){const t=[];return sr(s.fields,(n,r)=>{const o=new $e([n]);if(kc(r)){const u=_1(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,n,r,o,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new rn(t,0,Dt.min(),Dt.min(),Dt.min(),pn.empty(),0)}static newFoundDocument(t,n,r,o){return new rn(t,1,n,Dt.min(),r,o,0)}static newNoDocument(t,n){return new rn(t,2,n,Dt.min(),Dt.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,Dt.min(),Dt.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){this.position=t,this.inclusive=n}}function R0(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=St.comparator(St.fromName(f.referenceValue),n.key):r=ao(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function I0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ei(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n="asc"){this.field=t,this.dir=n}}function _b(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{}class ke extends v1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Tb(t,n,r):n==="array-contains"?new bb(t,r):n==="in"?new Sb(t,r):n==="not-in"?new wb(t,r):n==="array-contains-any"?new Rb(t,r):new ke(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Eb(t,r):new Ab(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&er(this.value)===er(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends v1{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Ai(t,n)}matches(t){return T1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function T1(s){return s.op==="and"}function E1(s){return vb(s)&&T1(s)}function vb(s){for(const t of s.filters)if(t instanceof Ai)return!1;return!0}function hm(s){if(s instanceof ke)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(E1(s))return s.filters.map(t=>hm(t)).join(",");{const t=s.filters.map(n=>hm(n)).join(",");return`${s.op}(${t})`}}function A1(s,t){return s instanceof ke?function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)}(s,t):s instanceof Ai?function(r,o){return o instanceof Ai&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,f,m)=>u&&A1(f,o.filters[m]),!0):!1}(s,t):void Nt()}function b1(s){return s instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(s):s instanceof Ai?function(n){return n.op.toString()+" {"+n.getFilters().map(b1).join(" ,")+"}"}(s):"Filter"}class Tb extends ke{constructor(t,n,r){super(t,n,r),this.key=St.fromName(r.referenceValue)}matches(t){const n=St.comparator(t.key,this.key);return this.matchesComparison(n)}}class Eb extends ke{constructor(t,n){super(t,"in",n),this.keys=S1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Ab extends ke{constructor(t,n){super(t,"not-in",n),this.keys=S1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function S1(s,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>St.fromName(r.referenceValue))}class bb extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ym(n)&&Bl(n.arrayValue,this.value)}}class Sb extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class wb extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Bl(this.value.arrayValue,n)}}class Rb extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,n=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function C0(s,t=null,n=[],r=[],o=null,u=null,f=null){return new Ib(s,t,n,r,o,u,f)}function Xm(s){const t=kt(s);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>hm(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),ph(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>oo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>oo(r)).join(",")),t.le=n}return t.le}function $m(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!_b(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!A1(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!I0(s.startAt,t.startAt)&&I0(s.endAt,t.endAt)}function fm(s){return St.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n=null,r=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Cb(s,t,n,r,o,u,f,m){return new yh(s,t,n,r,o,u,f,m)}function Zm(s){return new yh(s)}function N0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Nb(s){return s.collectionGroup!==null}function kl(s){const t=kt(s);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ve($e.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new Xc(u,r))}),n.has($e.keyField().canonicalString())||t.he.push(new Xc($e.keyField(),r))}return t.he}function gi(s){const t=kt(s);return t.Pe||(t.Pe=Db(t,kl(s))),t.Pe}function Db(s,t){if(s.limitType==="F")return C0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Xc(o.field,u)});const n=s.endAt?new Yc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Yc(s.startAt.position,s.startAt.inclusive):null;return C0(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function dm(s,t,n){return new yh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function _h(s,t){return $m(gi(s),gi(t))&&s.limitType===t.limitType}function w1(s){return`${Xm(gi(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>b1(o)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>oo(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>oo(o)).join(",")),`Target(${r})`}(gi(s))}; limitType=${s.limitType})`}function vh(s,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):St.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(s,t)&&function(r,o){for(const u of kl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(s,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(s,t)&&function(r,o){return!(r.startAt&&!function(f,m,g){const y=R0(f,m,g);return f.inclusive?y<=0:y<0}(r.startAt,kl(r),o)||r.endAt&&!function(f,m,g){const y=R0(f,m,g);return f.inclusive?y>=0:y>0}(r.endAt,kl(r),o))}(s,t)}function xb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function R1(s){return(t,n)=>{let r=!1;for(const o of kl(s)){const u=Ob(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function Ob(s,t,n){const r=s.field.isKeyField()?St.comparator(t.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ao(g,y):Nt()}(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Nt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sr(this.inner,(n,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return c1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new me(St.comparator);function ss(){return kb}const I1=new me(St.comparator);function Dl(...s){let t=I1;for(const n of s)t=t.insert(n.key,n);return t}function C1(s){let t=I1;return s.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function qr(){return Ml()}function N1(){return Ml()}function Ml(){return new Jr(s=>s.toString(),(s,t)=>s.isEqual(t))}const Mb=new me(St.comparator),Vb=new Ve(St.comparator);function Gt(...s){let t=Vb;for(const n of s)t=t.add(n);return t}const Pb=new Ve(Lt);function Ub(){return Pb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function D1(s){return{integerValue:""+s}}function Lb(s,t){return cb(t)?D1(t):Wm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function jb(s,t,n){return s instanceof $c?function(o,u){const f={fields:{[d1]:{stringValue:f1},[p1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qm(u)&&(u=gh(u)),u&&(f.fields[m1]=u),{mapValue:f}}(n,t):s instanceof Hl?O1(s,t):s instanceof ql?k1(s,t):function(o,u){const f=x1(o,u),m=D0(f)+D0(o.Ie);return cm(f)&&cm(o.Ie)?D1(m):Wm(o.serializer,m)}(s,t)}function zb(s,t,n){return s instanceof Hl?O1(s,t):s instanceof ql?k1(s,t):n}function x1(s,t){return s instanceof Zc?function(r){return cm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class $c extends Th{}class Hl extends Th{constructor(t){super(),this.elements=t}}function O1(s,t){const n=M1(t);for(const r of s.elements)n.some(o=>Ei(o,r))||n.push(r);return{arrayValue:{values:n}}}class ql extends Th{constructor(t){super(),this.elements=t}}function k1(s,t){let n=M1(t);for(const r of s.elements)n=n.filter(o=>!Ei(o,r));return{arrayValue:{values:n}}}class Zc extends Th{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function D0(s){return Ae(s.integerValue||s.doubleValue)}function M1(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Bb(s,t){return s.field.isEqual(t.field)&&function(r,o){return r instanceof Hl&&o instanceof Hl||r instanceof ql&&o instanceof ql?ro(r.elements,o.elements,Ei):r instanceof Zc&&o instanceof Zc?Ei(r.Ie,o.Ie):r instanceof $c&&o instanceof $c}(s.transform,t.transform)}class Hb{constructor(t,n){this.version=t,this.transformResults=n}}class yi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yi}static exists(t){return new yi(void 0,t)}static updateTime(t){return new yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function V1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new U1(s.key,yi.none()):new Ql(s.key,s.data,yi.none());{const n=s.data,r=pn.empty();let o=new Ve($e.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new rr(s.key,r,new Rn(o.toArray()),yi.none())}}function qb(s,t,n){s instanceof Ql?function(o,u,f){const m=o.value.clone(),g=O0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(s,t,n):s instanceof rr?function(o,u,f){if(!Mc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=O0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(P1(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(s,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Vl(s,t,n,r){return s instanceof Ql?function(u,f,m,g){if(!Mc(u.precondition,f))return m;const y=u.value.clone(),A=k0(u.fieldTransforms,g,f);return y.setAll(A),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(s,t,n,r):s instanceof rr?function(u,f,m,g){if(!Mc(u.precondition,f))return m;const y=k0(u.fieldTransforms,g,f),A=f.data;return A.setAll(P1(u)),A.setAll(y),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(s,t,n,r):function(u,f,m){return Mc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(s,t,n)}function Fb(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=x1(r.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(r.field,u))}return n||null}function x0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ro(r,o,(u,f)=>Bb(u,f))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends Eh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rr extends Eh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P1(s){const t=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}}),t}function O0(s,t,n){const r=new Map;Jt(s.length===n.length);for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,zb(f,m,n[o]))}return r}function k0(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,jb(u,f,t))}return r}class U1 extends Eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gb extends Eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&qb(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Vl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Vl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=N1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=V1(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Gt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,(n,r)=>x0(n,r))&&ro(this.baseMutations,t.baseMutations,(n,r)=>x0(n,r))}}class Jm{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Jt(t.mutations.length===r.length);let o=function(){return Mb}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Jm(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,Xt;function Xb(s){switch(s){case et.OK:return Nt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Nt()}}function L1(s){if(s===void 0)return is("GRPC error has no .code"),et.UNKNOWN;switch(s){case Ie.OK:return et.OK;case Ie.CANCELLED:return et.CANCELLED;case Ie.UNKNOWN:return et.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return et.INTERNAL;case Ie.UNAVAILABLE:return et.UNAVAILABLE;case Ie.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ie.NOT_FOUND:return et.NOT_FOUND;case Ie.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ie.ABORTED:return et.ABORTED;case Ie.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ie.DATA_LOSS:return et.DATA_LOSS;default:return Nt()}}(Xt=Ie||(Ie={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Ys([4294967295,4294967295],0);function M0(s){const t=o1().encode(s),n=new t1;return n.update(t),new Uint8Array(n.digest())}function V0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ys([n,r],0),new Ys([o,u],0)]}class tp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Ys.fromNumber(this.Ee)}Ae(t,n,r){let o=t.add(n.multiply(Ys.fromNumber(r)));return o.compare($b)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=M0(t),[r,o]=V0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(r,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new tp(u,o,n);return r.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=M0(t),[r,o]=V0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(r,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ah(Dt.min(),o,new me(Lt),ss(),Gt())}}class Yl{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Yl(r,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,r,o){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=o}}class j1{constructor(t,n){this.targetId=t,this.ge=n}}class z1{constructor(t,n,r=Ze.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class P0{constructor(){this.pe=0,this.ye=U0(),this.we=Ze.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Gt(),n=Gt(),r=Gt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Nt()}}),new Yl(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=U0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Zb{constructor(t){this.ke=t,this.qe=new Map,this.Qe=ss(),this.$e=Rc(),this.Ue=Rc(),this.Ke=new me(Lt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:Nt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,r=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(fm(u))if(r===0){const f=new St(u.path);this.ze(n,f,rn.newNoDocument(f,Dt.min()))}else Jt(r===1);else{const f=this.et(n);if(f!==r){const m=this.tt(t),g=m?this.nt(m,t,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=tr(r).toUint8Array()}catch(g){if(g instanceof h1)return so("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new tp(f,o,u)}catch(g){return so(g instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let o=0;return r.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&fm(m.target)){const g=new St(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,rn.newNoDocument(g,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let r=Gt();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Ah(t,n,this.Ke,this.Qe,r);return this.Qe=ss(),this.$e=Rc(),this.Ue=Rc(),this.Ke=new me(Lt),o}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new P0,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ve(Lt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ve(Lt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new P0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Rc(){return new me(St.comparator)}function U0(){return new me(St.comparator)}const Wb={asc:"ASCENDING",desc:"DESCENDING"},Jb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tS={and:"AND",or:"OR"};class eS{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function mm(s,t){return s.useProto3Json||ph(t)?t:{value:t}}function Wc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function B1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function nS(s,t){return Wc(s,t.toTimestamp())}function _i(s){return Jt(!!s),Dt.fromTimestamp(function(n){const r=Js(n);return new Me(r.seconds,r.nanos)}(s))}function ep(s,t){return pm(s,t).canonicalString()}function pm(s,t){const n=function(o){return new he(["projects",o.projectId,"databases",o.database])}(s).child("documents");return t===void 0?n:n.child(t)}function H1(s){const t=he.fromString(s);return Jt(Q1(t)),t}function gm(s,t){return ep(s.databaseId,t.path)}function qd(s,t){const n=H1(t);if(n.get(1)!==s.databaseId.projectId)throw new At(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new At(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new St(F1(n))}function q1(s,t){return ep(s.databaseId,t)}function iS(s){const t=H1(s);return t.length===4?he.emptyPath():F1(t)}function ym(s){return new he(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function F1(s){return Jt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function L0(s,t,n){return{name:gm(s,t),fields:n.value.mapValue.fields}}function sS(s,t){let n;if("targetChange"in t){t.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Nt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,A){return y.useProto3Json?(Jt(A===void 0||typeof A=="string"),Ze.fromBase64String(A||"")):(Jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Ze.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const A=y.code===void 0?et.UNKNOWN:L1(y.code);return new At(A,y.message||"")}(f);n=new z1(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=qd(s,r.document.name),u=_i(r.document.updateTime),f=r.document.createTime?_i(r.document.createTime):Dt.min(),m=new pn({mapValue:{fields:r.document.fields}}),g=rn.newFoundDocument(o,u,f,m),y=r.targetIds||[],A=r.removedTargetIds||[];n=new Vc(y,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=qd(s,r.document),u=r.readTime?_i(r.readTime):Dt.min(),f=rn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Vc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=qd(s,r.document),u=r.removedTargetIds||[];n=new Vc([],u,o,null)}else{if(!("filter"in t))return Nt();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new Yb(o,u),m=r.targetId;n=new j1(m,f)}}return n}function rS(s,t){let n;if(t instanceof Ql)n={update:L0(s,t.key,t.value)};else if(t instanceof U1)n={delete:gm(s,t.key)};else if(t instanceof rr)n={update:L0(s,t.key,t.data),updateMask:mS(t.fieldMask)};else{if(!(t instanceof Gb))return Nt();n={verify:gm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(u,f){const m=f.transform;if(m instanceof $c)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Zc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Nt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:nS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Nt()}(s,t.precondition)),n}function aS(s,t){return s&&s.length>0?(Jt(t!==void 0),s.map(n=>function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(Dt.min())&&(f=_i(u)),new Hb(f,o.transformResults||[])}(n,t))):[]}function oS(s,t){return{documents:[q1(s,t.path)]}}function lS(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q1(s,o);const u=function(y){if(y.length!==0)return K1(Ai.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(A=>function(N){return{field:Ya(N.field),direction:hS(N.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=mm(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function uS(s){let t=iS(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Jt(r===1);const A=n.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let u=[];n.where&&(u=function(R){const N=G1(R);return N instanceof Ai&&E1(N)?N.getFilters():[N]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(N=>function(z){return new Xc(Xa(z.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(N))}(n.orderBy));let m=null;n.limit&&(m=function(R){let N;return N=typeof R=="object"?R.value:R,ph(N)?null:N}(n.limit));let g=null;n.startAt&&(g=function(R){const N=!!R.before,B=R.values||[];return new Yc(B,N)}(n.startAt));let y=null;return n.endAt&&(y=function(R){const N=!R.before,B=R.values||[];return new Yc(B,N)}(n.endAt)),Cb(t,o,f,u,m,"F",g,y)}function cS(s,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function G1(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return ke.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(s):s.fieldFilter!==void 0?function(n){return ke.create(Xa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Ai.create(n.compositeFilter.filters.map(r=>G1(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Nt()}}(n.compositeFilter.op))}(s):Nt()}function hS(s){return Wb[s]}function fS(s){return Jb[s]}function dS(s){return tS[s]}function Ya(s){return{fieldPath:s.canonicalString()}}function Xa(s){return $e.fromServerFormat(s.fieldPath)}function K1(s){return s instanceof ke?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(S0(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(S0(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:fS(n.op),value:n.value}}}(s):s instanceof Ai?function(n){const r=n.getFilters().map(o=>K1(o));return r.length===1?r[0]:{compositeFilter:{op:dS(n.op),filters:r}}}(s):Nt()}function mS(s){const t=[];return s.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Q1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n,r,o,u=Dt.min(),f=Dt.min(),m=Ze.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.Tt=t}}function gS(s){const t=uS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.Tn=new _S}addToCollectionParentIndex(t,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Ws.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class _S{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ve(he.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ve(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y1=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Y1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new lo(0)}static Kn(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="LruGarbageCollector",vS=1048576;function B0([s,t],[n,r]){const o=Lt(s,n);return o===0?Lt(t,r):o}class TS{constructor(t){this.Hn=t,this.buffer=new Ve(B0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();B0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ES{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){lt(z0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?lt(z0,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.er(3e5)})}}class AS{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(mh.ae);const r=new TS(n);return this.tr.forEachTarget(t,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(j0)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,o,u,f,m,g,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(t,o))).next(R=>(r=R,m=Date.now(),this.removeTargets(t,r,n))).next(R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(t,r))).next(R=>(y=Date.now(),Ka()<=Ft.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(y-g)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}function bS(s,t){return new AS(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.changes=new Jr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(r!==null&&Vl(r.mutation,o,Rn.empty(),Me.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Gt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Gt()){const o=qr();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,r).next(u=>{let f=Dl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const r=qr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Gt()))}populateOverlays(t,n,r){const o=[];return r.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,r,o){let u=ss();const f=Ml(),m=function(){return Ml()}();return n.forEach((g,y)=>{const A=r.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof rr)?u=u.insert(y.key,y):A!==void 0?(f.set(y.key,A.mutation.getFieldMask()),Vl(A.mutation,y,A.mutation.getFieldMask(),Me.now())):f.set(y.key,Rn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,A)=>f.set(y,A)),n.forEach((y,A)=>{var R;return m.set(y,new wS(A,(R=f.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(t,n){const r=Ml();let o=new me((f,m)=>f-m),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let A=r.get(g)||Rn.empty();A=m.applyToLocalView(y,A),r.set(g,A);const R=(o.get(m.batchId)||Gt()).add(g);o=o.insert(m.batchId,R)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,A=g.value,R=N1();A.forEach(N=>{if(!u.has(N)){const B=V1(n.get(N),r.get(N));B!==null&&R.set(N,B),u=u.add(N)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,R))}return Z.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,o){return function(f){return St.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Nb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):Z.resolve(qr());let m=Ll,g=u;return f.next(y=>Z.forEach(y,(A,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next(N=>{g=g.insert(A,N)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Gt())).next(A=>({batchId:m,changes:C1(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new St(n)).next(r=>{let o=Dl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(t,u).next(m=>Z.forEach(m,g=>{const y=function(R,N){return new yh(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next(A=>{A.forEach((R,N)=>{f=f.insert(R,N)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o))).next(f=>{u.forEach((g,y)=>{const A=y.getKey();f.get(A)===null&&(f=f.insert(A,rn.newInvalidDocument(A)))});let m=Dl();return f.forEach((g,y)=>{const A=u.get(g);A!==void 0&&Vl(A.mutation,y,Rn.empty(),Me.now()),vh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:gS(o.bundledQuery),readTime:_i(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.overlays=new me(St.comparator),this.Rr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=qr();return Z.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((o,u)=>{this.Et(t,n,u)}),Z.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const o=qr(),u=n.length+1,f=new St(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new me((y,A)=>y-A);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let A=u.get(y.largestBatchId);A===null&&(A=qr(),u=u.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const m=qr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,A)=>m.set(y,A)),!(m.size()>=o)););return Z.resolve(m)}Et(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Qb(n,r));let u=this.Rr.get(n);u===void 0&&(u=Gt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.Vr=new Ve(qe.mr),this.gr=new Ve(qe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new qe(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new qe(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new St(new he([])),r=new qe(n,t),o=new qe(n,t+1),u=[];return this.gr.forEachInRange([r,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new St(new he([])),r=new qe(n,t),o=new qe(n,t+1);let u=Gt();return this.gr.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new qe(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return St.comparator(t.key,n.key)||Lt(t.Cr,n.Cr)}static pr(t,n){return Lt(t.Cr,n.Cr)||St.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ve(qe.mr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Kb(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Nr(r),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Km:this.Fr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qe(n,0),o=new qe(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([r,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ve(Lt);return n.forEach(o=>{const u=new qe(o,0),f=new qe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{r=r.add(m.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;St.isDocumentKey(u)||(u=u.child(""));const f=new qe(new St(u),0);let m=new Ve(Lt);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(r=>{const o=this.Or(r);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Jt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(n.mutations,o=>{const u=new qe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new qe(n,0),o=this.Mr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.kr=t,this.docs=function(){return new me(St.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let r=ss();return n.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=ss();const f=n.path,m=new St(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:A}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||ab(rb(A),r)<=0||(o.has(A.key)||vh(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Nt()}qr(t,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new OS(this)}getSize(t){return Z.resolve(this.size)}}class OS extends SS{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(r)}),Z.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.persistence=t,this.Qr=new Jr(n=>Xm(n),$m),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new np,this.targetCount=0,this.Kr=lo.Un()}forEachTarget(t,n){return this.Qr.forEach((r,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Z.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new lo(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.zn(n),Z.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new mh(0),this.zr=!1,this.zr=!0,this.jr=new NS,this.referenceDelegate=t(this),this.Hr=new kS(this),this.indexManager=new yS,this.remoteDocumentCache=function(o){return new xS(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new pS(n),this.Yr=new IS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new CS,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new DS(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){lt("MemoryPersistence","Starting transaction:",t);const o=new MS(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class MS extends lb{constructor(t){super(),this.currentSequenceNumber=t}}class ip{constructor(t){this.persistence=t,this.ti=new np,this.ni=null}static ri(t){return new ip(t)}get ii(){if(this.ni)return this.ni;throw Nt()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const o=St.fromPath(r);return this.si(t,o).next(u=>{u||n.removeEntry(o,Dt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Jc{constructor(t,n){this.persistence=t,this.oi=new Jr(r=>hb(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=bS(this,n)}static ri(t,n){return new Jc(t,n)}Zr(){}Xr(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(o=>r+o))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return Z.forEach(this.oi,(r,o)=>this.ar(t,r,o).next(u=>u?Z.resolve():n(o)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(r++,u.removeEntry(f,Dt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Z.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oc(t.data.value)),n}ar(t,n,r){return Z.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=o}static Yi(t,n){let r=Gt(),o=Gt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sp(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return x4()?8:ub(an())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,r).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new VS;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,r,o){return r.documentReadCount<this.es?(Ka()<=Ft.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Ka()<=Ft.DEBUG&&lt("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Ka()<=Ft.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(n))):Z.resolve())}rs(t,n){if(N0(n))return Z.resolve(null);let r=gi(n);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=dm(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const f=Gt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,r).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(t,dm(n,null,"F")):this.hs(t,y,n,g)}))})))}ss(t,n,r,o){return N0(n)||o.isEqual(Dt.min())?Z.resolve(null):this.ns.getDocuments(t,r).next(u=>{const f=this.cs(n,u);return this.ls(n,f,r,o)?Z.resolve(null):(Ka()<=Ft.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.hs(t,f,n,sb(o,Ll)).next(m=>m))})}cs(t,n){let r=new Ve(R1(t));return n.forEach((o,u)=>{vh(t,u)&&(r=r.add(u))}),r}ls(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,r){return Ka()<=Ft.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ns.getDocumentsMatchingQuery(t,n,Ws.min(),r)}hs(t,n,r,o){return this.ns.getDocumentsMatchingQuery(t,r,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="LocalStore",US=3e8;class LS{constructor(t,n,r,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new me(Lt),this.Is=new Jr(u=>Xm(u),$m),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new RS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function jS(s,t,n,r){return new LS(s,t,n,r)}async function $1(s,t){const n=kt(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],m=[];let g=Gt();for(const y of o){f.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}for(const y of u){m.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(r,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function zS(s,t){const n=kt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,A){const R=y.batch,N=R.keys();let B=Z.resolve();return N.forEach(z=>{B=B.next(()=>A.getEntry(g,z)).next(J=>{const Q=y.docVersions.get(z);Jt(Q!==null),J.version.compareTo(Q)<0&&(R.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),A.addEntry(J)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(n,r,t,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let g=Gt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(r,o))})}function Z1(s){const t=kt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function BS(s,t){const n=kt(s),r=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((A,R)=>{const N=o.get(R);if(!N)return;m.push(n.Hr.removeMatchingKeys(u,A.removedDocuments,R).next(()=>n.Hr.addMatchingKeys(u,A.addedDocuments,R)));let B=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(R)!==null?B=B.withResumeToken(Ze.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,r)),o=o.insert(R,B),function(J,Q,mt){return J.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=US?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(N,B,A)&&m.push(n.Hr.updateTargetData(u,B))});let g=ss(),y=Gt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(HS(u,f,t.documentUpdates).next(A=>{g=A.Vs,y=A.fs})),!r.isEqual(Dt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(u).next(R=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function HS(s,t,n){let r=Gt(),o=Gt();return n.forEach(u=>r=r.add(u)),t.getEntries(s,r).next(u=>{let f=ss();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Dt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):lt(rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function qS(s,t){const n=kt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Km),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function FS(s,t){const n=kt(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Hr.getTargetData(r,t).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(r).next(f=>(o=new qs(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function _m(s,t,n){const r=kt(s),o=r.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!po(f))throw f;lt(rp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ts=r.Ts.remove(t),r.Is.delete(o.target)}function H0(s,t,n){const r=kt(s);let o=Dt.min(),u=Gt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,A){const R=kt(g),N=R.Is.get(A);return N!==void 0?Z.resolve(R.Ts.get(N)):R.Hr.getTargetData(y,A)}(r,f,gi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>r.Ps.getDocumentsMatchingQuery(f,t,n?o:Dt.min(),n?u:Gt())).next(m=>(GS(r,xb(t),m),{documents:m,gs:u})))}function GS(s,t,n){let r=s.Es.get(t)||Dt.min();n.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),s.Es.set(t,r)}class q0{constructor(){this.activeTargetIds=Ub()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KS{constructor(){this.ho=new q0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new q0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class G0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(F0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){lt(F0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function vm(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",YS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XS{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===Kc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(t,n,r,o,u){const f=vm(),m=this.bo(t,n.toUriEncodedString());lt(Fd,`Sending RPC '${t}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(t,m,g,r).then(y=>(lt(Fd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw so(Fd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",r),y})}Co(t,n,r,o,u,f){return this.So(t,n,r,o,u)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const r=YS[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class ZS extends XS{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,o){const u=vm();return new Promise((f,m)=>{const g=new e1;g.setWithCredentials(!0),g.listenOnce(n1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case xc.NO_ERROR:const A=g.getResponseJson();lt(nn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),f(A);break;case xc.TIMEOUT:lt(nn,`RPC '${t}' ${u} timed out`),m(new At(et.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const R=g.getStatus();if(lt(nn,`RPC '${t}' ${u} failed with status:`,R,"response text:",g.getResponseText()),R>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const B=N==null?void 0:N.error;if(B&&B.status&&B.message){const z=function(Q){const mt=Q.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(mt)>=0?mt:et.UNKNOWN}(B.status);m(new At(z,B.message))}else m(new At(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new At(et.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{lt(nn,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);lt(nn,`RPC '${t}' ${u} sending request:`,o),g.send(n,"POST",y,r,15)})}Wo(t,n,r){const o=vm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=r1(),m=s1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const A=u.join("");lt(nn,`Creating RPC '${t}' stream ${o}: ${A}`,g);const R=f.createWebChannel(A,g);let N=!1,B=!1;const z=new $S({Fo:Q=>{B?lt(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(N||(lt(nn,`Opening RPC '${t}' stream ${o} transport.`),R.open(),N=!0),lt(nn,`RPC '${t}' stream ${o} sending:`,Q),R.send(Q))},Mo:()=>R.close()}),J=(Q,mt,Et)=>{Q.listen(mt,at=>{try{Et(at)}catch(_t){setTimeout(()=>{throw _t},0)}})};return J(R,Nl.EventType.OPEN,()=>{B||(lt(nn,`RPC '${t}' stream ${o} transport opened.`),z.Qo())}),J(R,Nl.EventType.CLOSE,()=>{B||(B=!0,lt(nn,`RPC '${t}' stream ${o} transport closed`),z.Uo())}),J(R,Nl.EventType.ERROR,Q=>{B||(B=!0,so(nn,`RPC '${t}' stream ${o} transport errored:`,Q),z.Uo(new At(et.UNAVAILABLE,"The operation could not be completed")))}),J(R,Nl.EventType.MESSAGE,Q=>{var mt;if(!B){const Et=Q.data[0];Jt(!!Et);const at=Et,_t=(at==null?void 0:at.error)||((mt=at[0])===null||mt===void 0?void 0:mt.error);if(_t){lt(nn,`RPC '${t}' stream ${o} received error:`,_t);const ut=_t.status;let Tt=function(C){const x=Ie[C];if(x!==void 0)return L1(x)}(ut),k=_t.message;Tt===void 0&&(Tt=et.INTERNAL,k="Unknown error status: "+ut+" with message "+_t.message),B=!0,z.Uo(new At(Tt,k)),R.close()}else lt(nn,`RPC '${t}' stream ${o} received:`,Et),z.Ko(Et)}}),J(m,i1.STAT_EVENT,Q=>{Q.stat===om.PROXY?lt(nn,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===om.NOPROXY&&lt(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(s){return new eS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-r);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="PersistentStream";class J1{constructor(t,n,r,o,u,f,m,g){this.Ti=t,this.n_=r,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new W1(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===n&&this.V_(r,o)},r=>{t(()=>{const o=new At(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return lt(K0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(lt(K0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WS extends J1{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=sS(this.serializer,t),r=function(u){if(!("targetChange"in u))return Dt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Dt.min():f.readTime?_i(f.readTime):Dt.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=ym(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=fm(g)?{documents:oS(u,g)}:{query:lS(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=B1(u,f.resumeToken);const y=mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Dt.min())>0){m.readTime=Wc(u,f.snapshotVersion.toTimestamp());const y=mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const r=cS(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=ym(this.serializer),n.removeTarget=t,this.I_(n)}}class JS extends J1{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Jt(!!t.streamToken),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Jt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=aS(t.writeResults,t.commitTime),r=_i(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=ym(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>rS(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class ew extends tw{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new At(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,pm(n,r),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new At(et.UNKNOWN,u.toString())})}Co(t,n,r,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,pm(n,r),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new At(et.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(is(n),this.N_=!1):lt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="RemoteStore";class iw{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{r.enqueueAndForget(async()=>{ta(this)&&(lt(Yr,"Restarting streams for network reachability change."),await async function(g){const y=kt(g);y.W_.add(4),await Xl(y),y.j_.set("Unknown"),y.W_.delete(4),await Sh(y)}(this))})}),this.j_=new nw(r,o)}}async function Sh(s){if(ta(s))for(const t of s.G_)await t(!0)}async function Xl(s){for(const t of s.G_)await t(!1)}function t2(s,t){const n=kt(s);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),up(n)?lp(n):go(n).c_()&&op(n,t))}function ap(s,t){const n=kt(s),r=go(n);n.K_.delete(t),r.c_()&&e2(n,t),n.K_.size===0&&(r.c_()?r.P_():ta(n)&&n.j_.set("Unknown"))}function op(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}go(s).y_(t)}function e2(s,t){s.H_.Ne(t),go(s).w_(t)}function lp(s){s.H_=new Zb({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.K_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),go(s).start(),s.j_.B_()}function up(s){return ta(s)&&!go(s).u_()&&s.K_.size>0}function ta(s){return kt(s).W_.size===0}function n2(s){s.H_=void 0}async function sw(s){s.j_.set("Online")}async function rw(s){s.K_.forEach((t,n)=>{op(s,t)})}async function aw(s,t){n2(s),up(s)?(s.j_.q_(t),lp(s)):s.j_.set("Unknown")}async function ow(s,t,n){if(s.j_.set("Online"),t instanceof z1&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(s,t)}catch(r){lt(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await th(s,r)}else if(t instanceof Vc?s.H_.We(t):t instanceof j1?s.H_.Ze(t):s.H_.je(t),!n.isEqual(Dt.min()))try{const r=await Z1(s.localStore);n.compareTo(r)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const A=u.K_.get(y);A&&u.K_.set(y,A.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const A=u.K_.get(g);if(!A)return;u.K_.set(g,A.withResumeToken(Ze.EMPTY_BYTE_STRING,A.snapshotVersion)),e2(u,g);const R=new qs(A.target,g,y,A.sequenceNumber);op(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(s,n)}catch(r){lt(Yr,"Failed to raise snapshot:",r),await th(s,r)}}async function th(s,t,n){if(!po(t))throw t;s.W_.add(1),await Xl(s),s.j_.set("Offline"),n||(n=()=>Z1(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{lt(Yr,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await Sh(s)})}function i2(s,t){return t().catch(n=>th(s,n,t))}async function wh(s){const t=kt(s),n=nr(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Km;for(;lw(t);)try{const o=await qS(t.localStore,r);if(o===null){t.U_.length===0&&n.P_();break}r=o.batchId,uw(t,o)}catch(o){await th(t,o)}s2(t)&&r2(t)}function lw(s){return ta(s)&&s.U_.length<10}function uw(s,t){s.U_.push(t);const n=nr(s);n.c_()&&n.S_&&n.b_(t.mutations)}function s2(s){return ta(s)&&!nr(s).u_()&&s.U_.length>0}function r2(s){nr(s).start()}async function cw(s){nr(s).C_()}async function hw(s){const t=nr(s);for(const n of s.U_)t.b_(n.mutations)}async function fw(s,t,n){const r=s.U_.shift(),o=Jm.from(r,t,n);await i2(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await wh(s)}async function dw(s,t){t&&nr(s).S_&&await async function(r,o){if(function(f){return Xb(f)&&f!==et.ABORTED}(o.code)){const u=r.U_.shift();nr(r).h_(),await i2(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await wh(r)}}(s,t),s2(s)&&r2(s)}async function Q0(s,t){const n=kt(s);n.asyncQueue.verifyOperationInProgress(),lt(Yr,"RemoteStore received new credentials");const r=ta(n);n.W_.add(3),await Xl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Sh(n)}async function mw(s,t){const n=kt(s);t?(n.W_.delete(2),await Sh(n)):t||(n.W_.add(2),await Xl(n),n.j_.set("Unknown"))}function go(s){return s.J_||(s.J_=function(n,r,o){const u=kt(n);return u.M_(),new WS(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(s.datastore,s.asyncQueue,{xo:sw.bind(null,s),No:rw.bind(null,s),Lo:aw.bind(null,s),p_:ow.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),up(s)?lp(s):s.j_.set("Unknown")):(await s.J_.stop(),n2(s))})),s.J_}function nr(s){return s.Y_||(s.Y_=function(n,r,o){const u=kt(n);return u.M_(),new JS(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:cw.bind(null,s),Lo:dw.bind(null,s),D_:hw.bind(null,s),v_:fw.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await wh(s)):(await s.Y_.stop(),s.U_.length>0&&(lt(Yr,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,m=new cp(t,n,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(s,t){if(is("AsyncQueue",`${t}: ${s}`),po(s))return new At(et.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||St.comparator(n.key,r.key):(n,r)=>St.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new to;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.Z_=new me(St.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Nt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class uo{constructor(t,n,r,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new uo(t,n,to.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class gw{constructor(){this.queries=X0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const o=kt(n),u=o.queries;o.queries=X0(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(r)})})(this,new At(et.ABORTED,"Firestore shutting down"))}}function X0(){return new Jr(s=>w1(s),_h)}async function yw(s,t){const n=kt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(r=2):(u=new pw,r=t.ra()?0:1);try{switch(r){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=hp(f,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&fp(n)}async function _w(s,t){const n=kt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vw(s,t){const n=kt(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(r=!0);f.ea=o}}r&&fp(n)}function Tw(s,t,n){const r=kt(s),o=r.queries.get(t);if(o)for(const u of o.ta)u.onError(n);r.queries.delete(t)}function fp(s){s.ia.forEach(t=>{t.next()})}var Tm,$0;($0=Tm||(Tm={}))._a="default",$0.Cache="cache";class Ew{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.key=t}}class o2{constructor(t){this.key=t}}class Aw{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Gt(),this.mutatedKeys=Gt(),this.ya=R1(t),this.wa=new to(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new Y0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,R)=>{const N=o.get(A),B=vh(this.query,R)?R:null,z=!!N&&this.mutatedKeys.has(N.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Q=!1;N&&B?N.data.isEqual(B.data)?z!==J&&(r.track({type:3,doc:B}),Q=!0):this.va(N,B)||(r.track({type:2,doc:B}),Q=!0,(g&&this.ya(B,g)>0||y&&this.ya(B,y)<0)&&(m=!0)):!N&&B?(r.track({type:0,doc:B}),Q=!0):N&&!B&&(r.track({type:1,doc:N}),Q=!0,(g||y)&&(m=!0)),Q&&(B?(f=f.add(B),u=J?u.add(A):u.delete(A)):(f=f.delete(A),u=u.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{wa:f,Da:r,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((A,R)=>function(B,z){const J=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return J(B)-J(z)}(A.type,R.type)||this.ya(A.doc,R.doc)),this.Ca(r),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new uo(this.query,t.wa,u,f,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Y0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Gt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new o2(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new a2(r))}),n}Oa(t){this.fa=t.gs,this.pa=Gt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return uo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const dp="SyncEngine";class bw{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Sw{constructor(t){this.key=t,this.Ba=!1}}class ww{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Jr(m=>w1(m),_h),this.qa=new Map,this.Qa=new Set,this.$a=new me(St.comparator),this.Ua=new Map,this.Ka=new np,this.Wa={},this.Ga=new Map,this.za=lo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Rw(s,t,n=!0){const r=d2(s);let o;const u=r.ka.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await l2(r,t,n,!0),o}async function Iw(s,t){const n=d2(s);await l2(n,t,!0,!1)}async function l2(s,t,n,r){const o=await FS(s.localStore,gi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await Cw(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&t2(s.remoteStore,o),m}async function Cw(s,t,n,r,o){s.Ha=(R,N,B)=>async function(J,Q,mt,Et){let at=Q.view.ba(mt);at.ls&&(at=await H0(J.localStore,Q.query,!1).then(({documents:k})=>Q.view.ba(k,at)));const _t=Et&&Et.targetChanges.get(Q.targetId),ut=Et&&Et.targetMismatches.get(Q.targetId)!=null,Tt=Q.view.applyChanges(at,J.isPrimaryClient,_t,ut);return W0(J,Q.targetId,Tt.Ma),Tt.snapshot}(s,R,N,B);const u=await H0(s.localStore,t,!0),f=new Aw(t,u.gs),m=f.ba(u.documents),g=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);W0(s,n,y.Ma);const A=new bw(t,n,f);return s.ka.set(t,A),s.qa.has(n)?s.qa.get(n).push(t):s.qa.set(n,[t]),y.snapshot}async function Nw(s,t,n){const r=kt(s),o=r.ka.get(t),u=r.qa.get(o.targetId);if(u.length>1)return r.qa.set(o.targetId,u.filter(f=>!_h(f,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ap(r.remoteStore,o.targetId),Em(r,o.targetId)}).catch(mo)):(Em(r,o.targetId),await _m(r.localStore,o.targetId,!0))}async function Dw(s,t){const n=kt(s),r=n.ka.get(t),o=n.qa.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ap(n.remoteStore,r.targetId))}async function xw(s,t,n){const r=Lw(s);try{const o=await function(f,m){const g=kt(f),y=Me.now(),A=m.reduce((B,z)=>B.add(z.key),Gt());let R,N;return g.persistence.runTransaction("Locally write mutations","readwrite",B=>{let z=ss(),J=Gt();return g.ds.getEntries(B,A).next(Q=>{z=Q,z.forEach((mt,Et)=>{Et.isValidDocument()||(J=J.add(mt))})}).next(()=>g.localDocuments.getOverlayedDocuments(B,z)).next(Q=>{R=Q;const mt=[];for(const Et of m){const at=Fb(Et,R.get(Et.key).overlayedDocument);at!=null&&mt.push(new rr(Et.key,at,_1(at.value.mapValue),yi.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,mt,m)}).next(Q=>{N=Q;const mt=Q.applyToLocalDocumentSet(R,J);return g.documentOverlayCache.saveOverlays(B,Q.batchId,mt)})}).then(()=>({batchId:N.batchId,changes:C1(R)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new me(Lt)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(r,o.batchId,n),await $l(r,o.changes),await wh(r.remoteStore)}catch(o){const u=hp(o,"Failed to persist write");n.reject(u)}}async function u2(s,t){const n=kt(s);try{const r=await BS(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Jt(f.Ba):o.removedDocuments.size>0&&(Jt(f.Ba),f.Ba=!1))}),await $l(n,r,t)}catch(r){await mo(r)}}function Z0(s,t,n){const r=kt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=kt(f);g.onlineState=m;let y=!1;g.queries.forEach((A,R)=>{for(const N of R.ta)N.sa(m)&&(y=!0)}),y&&fp(g)}(r.eventManager,t),o.length&&r.La.p_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ow(s,t,n){const r=kt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Ua.get(t),u=o&&o.key;if(u){let f=new me(St.comparator);f=f.insert(u,rn.newNoDocument(u,Dt.min()));const m=Gt().add(u),g=new Ah(Dt.min(),new Map,new me(Lt),f,m);await u2(r,g),r.$a=r.$a.remove(u),r.Ua.delete(t),mp(r)}else await _m(r.localStore,t,!1).then(()=>Em(r,t,n)).catch(mo)}async function kw(s,t){const n=kt(s),r=t.batch.batchId;try{const o=await zS(n.localStore,t);h2(n,r,null),c2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $l(n,o)}catch(o){await mo(o)}}async function Mw(s,t,n){const r=kt(s);try{const o=await function(f,m){const g=kt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let A;return g.mutationQueue.lookupMutationBatch(y,m).next(R=>(Jt(R!==null),A=R.keys(),g.mutationQueue.removeMutationBatch(y,R))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,A,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A)).next(()=>g.localDocuments.getDocuments(y,A))})}(r.localStore,t);h2(r,t,n),c2(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $l(r,o)}catch(o){await mo(o)}}function c2(s,t){(s.Ga.get(t)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(t)}function h2(s,t,n){const r=kt(s);let o=r.Wa[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Wa[r.currentUser.toKey()]=o}}function Em(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.qa.get(t))s.ka.delete(r),n&&s.La.Ja(r,n);s.qa.delete(t),s.isPrimaryClient&&s.Ka.br(t).forEach(r=>{s.Ka.containsKey(r)||f2(s,r)})}function f2(s,t){s.Qa.delete(t.path.canonicalString());const n=s.$a.get(t);n!==null&&(ap(s.remoteStore,n),s.$a=s.$a.remove(t),s.Ua.delete(n),mp(s))}function W0(s,t,n){for(const r of n)r instanceof a2?(s.Ka.addReference(r.key,t),Vw(s,r)):r instanceof o2?(lt(dp,"Document no longer in limbo: "+r.key),s.Ka.removeReference(r.key,t),s.Ka.containsKey(r.key)||f2(s,r.key)):Nt()}function Vw(s,t){const n=t.key,r=n.path.canonicalString();s.$a.get(n)||s.Qa.has(r)||(lt(dp,"New document in limbo: "+n),s.Qa.add(r),mp(s))}function mp(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const n=new St(he.fromString(t)),r=s.za.next();s.Ua.set(r,new Sw(n)),s.$a=s.$a.insert(n,r),t2(s.remoteStore,new qs(gi(Zm(n.path)),r,"TargetPurposeLimboResolution",mh.ae))}}async function $l(s,t,n){const r=kt(s),o=[],u=[],f=[];r.ka.isEmpty()||(r.ka.forEach((m,g)=>{f.push(r.Ha(g,t,n).then(y=>{var A;if((y||n)&&r.isPrimaryClient){const R=y?!y.fromCache:(A=n==null?void 0:n.targetChanges.get(g.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(y){o.push(y);const R=sp.Yi(g.targetId,y);u.push(R)}}))}),await Promise.all(f),r.La.p_(o),await async function(g,y){const A=kt(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Z.forEach(y,N=>Z.forEach(N.Hi,B=>A.persistence.referenceDelegate.addReference(R,N.targetId,B)).next(()=>Z.forEach(N.Ji,B=>A.persistence.referenceDelegate.removeReference(R,N.targetId,B)))))}catch(R){if(!po(R))throw R;lt(rp,"Failed to update sequence numbers: "+R)}for(const R of y){const N=R.targetId;if(!R.fromCache){const B=A.Ts.get(N),z=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(z);A.Ts=A.Ts.insert(N,J)}}}(r.localStore,u))}async function Pw(s,t){const n=kt(s);if(!n.currentUser.isEqual(t)){lt(dp,"User change. New user:",t.toKey());const r=await $1(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new At(et.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await $l(n,r.Rs)}}function Uw(s,t){const n=kt(s),r=n.Ua.get(t);if(r&&r.Ba)return Gt().add(r.key);{let o=Gt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function d2(s){const t=kt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=u2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ow.bind(null,t),t.La.p_=vw.bind(null,t.eventManager),t.La.Ja=Tw.bind(null,t.eventManager),t}function Lw(s){const t=kt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mw.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return jS(this.persistence,new PS,t.initialUser,this.serializer)}Xa(t){return new X1(ip.ri,this.serializer)}Za(t){return new KS}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class jw extends eh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Jt(this.persistence.referenceDelegate instanceof Jc);const r=this.persistence.referenceDelegate.garbageCollector;return new ES(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new X1(r=>Jc.ri(r,n),this.serializer)}}class Am{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pw.bind(null,this.syncEngine),await mw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gw}()}createDatastore(t){const n=bh(t.databaseInfo.databaseId),r=function(u){return new ZS(u)}(t.databaseInfo);return function(u,f,m,g){return new ew(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,o,u,f,m){return new iw(r,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Z0(this.syncEngine,n,0),function(){return G0.D()?new G0:new QS}())}createSyncEngine(t,n){return function(o,u,f,m,g,y,A){const R=new ww(o,u,f,m,g,y);return A&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=kt(o);lt(Yr,"RemoteStore shutting down."),u.W_.add(5),await Xl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Am.provider={build:()=>new Am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="FirestoreClient";class Bw{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=l1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async f=>{lt(ir,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(lt(ir,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=hp(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),lt(ir,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await $1(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function J0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await Hw(s);lt(ir,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener(r=>Q0(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>Q0(t.remoteStore,o)),s._onlineComponents=t}async function Hw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(ir,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await Kd(s,new eh)}}else lt(ir,"Using default OfflineComponentProvider"),await Kd(s,new jw(void 0));return s._offlineComponents}async function m2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(ir,"Using user provided OnlineComponentProvider"),await J0(s,s._uninitializedComponentsProvider._online)):(lt(ir,"Using default OnlineComponentProvider"),await J0(s,new Am))),s._onlineComponents}function qw(s){return m2(s).then(t=>t.syncEngine)}async function Fw(s){const t=await m2(s),n=t.eventManager;return n.onListen=Rw.bind(null,t.syncEngine),n.onUnlisten=Nw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Iw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Dw.bind(null,t.syncEngine),n}function Gw(s,t,n={}){const r=new Xs;return s.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const A=new zw({next:N=>{A.su(),f.enqueueAndForget(()=>_w(u,R));const B=N.docs.has(m);!B&&N.fromCache?y.reject(new At(et.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&N.fromCache&&g&&g.source==="server"?y.reject(new At(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),R=new Ew(Zm(m.path),A,{includeMetadataChanges:!0,Ta:!0});return yw(u,R)}(await Fw(s),s.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(s,t,n){if(!n)throw new At(et.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Kw(s,t,n,r){if(t===!0&&r===!0)throw new At(et.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function ev(s){if(!St.isDocumentKey(s))throw new At(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function nv(s){if(St.isDocumentKey(s))throw new At(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Nt()}function Xr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new At(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pp(s);throw new At(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="firestore.googleapis.com",iv=!0;class sv{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new At(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y2,this.ssl=iv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:iv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Y1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vS)throw new At(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Kw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p2((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new At(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new At(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new At(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XA;switch(r.type){case"firstParty":return new JA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new At(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tv.get(n);r&&(lt("ComponentProvider","Removing Datastore"),tv.delete(n),r.terminate())}(this),Promise.resolve()}}function Qw(s,t,n,r={}){var o;const u=(s=Xr(s,Rh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:s._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==y2&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:r});if(!Gr(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=sn.MOCK_USER;else{y=Yv(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new At(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new sn(R)}s._authCredentials=new $A(new a1(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new gp(this.firestore,t,this._query)}}class gn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gn(this.firestore,t,this._key)}}class $s extends gp{constructor(t,n,r){super(t,n,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gn(this.firestore,null,new St(t))}withConverter(t){return new $s(this.firestore,t,this._path)}}function Qd(s,t,...n){if(s=Pe(s),g2("collection","path",t),s instanceof Rh){const r=he.fromString(t,...n);return nv(r),new $s(s,null,r)}{if(!(s instanceof gn||s instanceof $s))throw new At(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(he.fromString(t,...n));return nv(r),new $s(s.firestore,null,r)}}function Fs(s,t,...n){if(s=Pe(s),arguments.length===1&&(t=l1.newId()),g2("doc","path",t),s instanceof Rh){const r=he.fromString(t,...n);return ev(r),new gn(s,null,new St(r))}{if(!(s instanceof gn||s instanceof $s))throw new At(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(he.fromString(t,...n));return ev(r),new gn(s.firestore,s instanceof $s?s.converter:null,new St(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="AsyncQueue";class av{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new W1(this,"async_queue_retry"),this.Su=()=>{const r=Gd();r&&lt(rv,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=Gd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Gd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Xs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!po(t))throw t;lt(rv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(r);throw is("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=cp.createAndSchedule(this,t,n,r,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Nt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Ih extends Rh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new av,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new av(t),this._firestoreClient=void 0,await t}}}function Yw(s,t){const n=typeof s=="object"?s:Fm(),r=typeof s=="string"?s:Kc,o=dh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Gv("firestore");u&&Qw(o,...u)}return o}function _2(s){if(s._terminated)throw new At(et.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Xw(s),s._firestoreClient}function Xw(s){var t,n,r;const o=s._freezeSettings(),u=function(m,g,y,A){return new mb(m,g,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,p2(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new Bw(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this._byteString=t}static fromBase64String(t){try{return new co(Ze.fromBase64String(t))}catch(n){throw new At(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new co(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new At(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new At(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new At(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=/^__.*__$/;class Zw{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(t,this.data,n,this.fieldTransforms)}}class v2{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new rr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function T2(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class Tp{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Tp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:r,Qu:!1});return o.$u(t),o}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return nh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(T2(this.Lu)&&$w.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ww{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||bh(t)}ju(t,n,r,o=!1){return new Tp({Lu:t,methodName:n,zu:r,path:$e.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E2(s){const t=s._freezeSettings(),n=bh(s._databaseId);return new Ww(s._databaseId,!!t.ignoreUndefinedProperties,n)}function Jw(s,t,n,r,o,u={}){const f=s.ju(u.merge||u.mergeFields?2:0,t,n,o);Ep("Data must be an object, but it was:",f,r);const m=A2(r,f);let g,y;if(u.merge)g=new Rn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const A=[];for(const R of u.mergeFields){const N=bm(t,R,n);if(!f.contains(N))throw new At(et.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);S2(A,N)||A.push(N)}g=new Rn(A),y=f.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,y=f.fieldTransforms;return new Zw(new pn(m),g,y)}class Nh extends yp{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nh}}function tR(s,t,n,r){const o=s.ju(1,t,n);Ep("Data must be an object, but it was:",o,r);const u=[],f=pn.empty();sr(r,(g,y)=>{const A=Ap(t,g,n);y=Pe(y);const R=o.Uu(A);if(y instanceof Nh)u.push(A);else{const N=Dh(y,R);N!=null&&(u.push(A),f.set(A,N))}});const m=new Rn(u);return new v2(f,m,o.fieldTransforms)}function eR(s,t,n,r,o,u){const f=s.ju(1,t,n),m=[bm(t,r,n)],g=[o];if(u.length%2!=0)throw new At(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)m.push(bm(t,u[N])),g.push(u[N+1]);const y=[],A=pn.empty();for(let N=m.length-1;N>=0;--N)if(!S2(y,m[N])){const B=m[N];let z=g[N];z=Pe(z);const J=f.Uu(B);if(z instanceof Nh)y.push(B);else{const Q=Dh(z,J);Q!=null&&(y.push(B),A.set(B,Q))}}const R=new Rn(y);return new v2(A,R,f.fieldTransforms)}function Dh(s,t){if(b2(s=Pe(s)))return Ep("Unsupported field value:",t,s),A2(s,t);if(s instanceof yp)return function(r,o){if(!T2(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,o){const u=[];let f=0;for(const m of r){let g=Dh(m,o.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(s,t)}return function(r,o){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Me.fromDate(r);return{timestampValue:Wc(o.serializer,u)}}if(r instanceof Me){const u=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,u)}}if(r instanceof _p)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof co)return{bytesValue:B1(o.serializer,r._byteString)};if(r instanceof gn){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ep(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vp)return function(f,m){return{mapValue:{fields:{[g1]:{stringValue:y1},[Qc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Wm(m.serializer,y)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${pp(r)}`)}(s,t)}function A2(s,t){const n={};return c1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sr(s,(r,o)=>{const u=Dh(o,t.qu(r));u!=null&&(n[r]=u)}),{mapValue:{fields:n}}}function b2(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Me||s instanceof _p||s instanceof co||s instanceof gn||s instanceof yp||s instanceof vp)}function Ep(s,t,n){if(!b2(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=pp(n);throw r==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+r)}}function bm(s,t,n){if((t=Pe(t))instanceof Ch)return t._internalPath;if(typeof t=="string")return Ap(s,t);throw nh("Field path arguments must be of type string or ",s,!1,void 0,n)}const nR=new RegExp("[~\\*/\\[\\]]");function Ap(s,t,n){if(t.search(nR)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ch(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function nh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new At(et.INVALID_ARGUMENT,m+s+g)}function S2(s,t){return s.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(R2("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iR extends w2{data(){return super.data()}}function R2(s,t){return typeof t=="string"?Ap(s,t):t instanceof Ch?t._internalPath:t._delegate._internalPath}class sR{convertValue(t,n="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return sr(t,(o,u)=>{r[o]=this.convertValue(u,n)}),r}convertVectorValue(t){var n,r,o;const u=(o=(r=(n=t.fields)===null||n===void 0?void 0:n[Qc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(f=>Ae(f.doubleValue));return new vp(u)}convertGeoPoint(t){return new _p(Ae(t.latitude),Ae(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=gh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const n=Js(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=he.fromString(t);Jt(Q1(r));const o=new zl(r.get(1),r.get(3)),u=new St(r.popFirst(5));return o.isEqual(n)||is(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class I2 extends w2{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new oR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(R2("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class oR extends I2{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(s){s=Xr(s,gn);const t=Xr(s.firestore,Ih);return Gw(_2(t),s._key).then(n=>cR(t,s,n))}class lR extends sR{constructor(t){super(),this.firestore=t}convertBytes(t){return new co(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function $a(s,t,n){s=Xr(s,gn);const r=Xr(s.firestore,Ih),o=rR(s.converter,t,n);return N2(r,[Jw(E2(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,yi.none())])}function uR(s,t,n,...r){s=Xr(s,gn);const o=Xr(s.firestore,Ih),u=E2(o);let f;return f=typeof(t=Pe(t))=="string"||t instanceof Ch?eR(u,"updateDoc",s._key,t,n,r):tR(u,"updateDoc",s._key,t),N2(o,[f.toMutation(s._key,yi.exists(!0))])}function N2(s,t){return function(r,o){const u=new Xs;return r.asyncQueue.enqueueAndForget(async()=>xw(await qw(r),o,u)),u.promise}(_2(s),t)}function cR(s,t,n){const r=n.docs.get(t._key),o=new lR(s);return new I2(s,o,t._key,r,new aR(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){fo=o})(Wr),Kr(new Zs("firestore",(r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Ih(new ZA(r.getProvider("auth-internal")),new tb(f,r.getProvider("app-check-internal")),function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new At(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,A)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),pi(f0,d0,t),pi(f0,d0,"esm2017")})();var hR="firebase",fR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(hR,fR,"app");function bp(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(n[r[o]]=s[r[o]]);return n}function D2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dR=D2,x2=new Gl("auth","Firebase",D2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Hm("@firebase/auth");function mR(s,...t){ih.logLevel<=Ft.WARN&&ih.warn(`Auth (${Wr}): ${s}`,...t)}function Pc(s,...t){ih.logLevel<=Ft.ERROR&&ih.error(`Auth (${Wr}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(s,...t){throw Sp(s,...t)}function vi(s,...t){return Sp(s,...t)}function O2(s,t,n){const r=Object.assign(Object.assign({},dR()),{[t]:n});return new Gl("auth","Firebase",r).create(t,{appName:s.name})}function es(s){return O2(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sp(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return x2.create(s,...t)}function It(s,t,...n){if(!s)throw Sp(t,...n)}function Ji(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Pc(t),new Error(t)}function rs(s,t){s||Ji(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function pR(){return ov()==="http:"||ov()==="https:"}function ov(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pR()||C4()||"connection"in navigator)?navigator.onLine:!0}function yR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,rs(n>t,"Short delay should be less than long delay!"),this.isMobile=w4()||N4()}get(){return gR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(s,t){rs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TR=new Zl(3e4,6e4);function ar(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function as(s,t,n,r,o={}){return M2(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const m=Kl(Object.assign({key:s.config.apiKey},f)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:t,headers:g},u);return I4()||(y.referrerPolicy="no-referrer"),k2.fetch()(await V2(s,s.config.apiHost,n,m),y)})}async function M2(s,t,n){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},_R),t);try{const o=new AR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Cc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Cc(s,"user-disabled",f);const A=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw O2(s,A,y);$n(s,A)}}catch(o){if(o instanceof Si)throw o;$n(s,"network-request-failed",{message:String(o)})}}async function Wl(s,t,n,r,o={}){const u=await as(s,t,n,r,o);return"mfaPendingCredential"in u&&$n(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function V2(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?wp(s.config,o):`${s.config.apiScheme}://${o}`;return vR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ER(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),TR.get())})}}function Cc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=vi(s,t,r);return o.customData._tokenResponse=n,o}function lv(s){return s!==void 0&&s.enterprise!==void 0}class bR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return ER(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SR(s,t){return as(s,"GET","/v2/recaptchaConfig",ar(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(s,t){return as(s,"POST","/v1/accounts:delete",t)}async function sh(s,t){return as(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function RR(s,t=!1){const n=Pe(s),r=await n.getIdToken(t),o=Rp(r);It(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Pl(Yd(o.auth_time)),issuedAtTime:Pl(Yd(o.iat)),expirationTime:Pl(Yd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Yd(s){return Number(s)*1e3}function Rp(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=qv(n);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function uv(s){const t=Rp(s);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Si&&IR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function IR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(s){var t;const n=s.auth,r=await s.getIdToken(),o=await ho(s,sh(n,{idToken:r}));It(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?P2(u.providerUserInfo):[],m=DR(s.providerData,f),g=s.isAnonymous,y=!(s.email&&u.passwordHash)&&!(m!=null&&m.length),A=g?y:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new wm(u.createdAt,u.lastLoginAt),isAnonymous:A};Object.assign(s,R)}async function NR(s){const t=Pe(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DR(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function P2(s){return s.map(t=>{var{providerId:n}=t,r=bp(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(s,t){const n=await M2(s,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await V2(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",k2.fetch()(f,{method:"POST",headers:m,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OR(s,t){return as(s,"POST","/v2/accounts:revokeToken",ar(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){It(t.length!==0,"internal-error");const n=uv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await xR(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new eo;return r&&(It(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(It(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(It(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(s,t){It(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Yn{constructor(t){var{uid:n,auth:r,stsTokenManager:o}=t,u=bp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await ho(this,this.stsTokenManager.getToken(this.auth,t));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return RR(this,t)}reload(){return NR(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Yn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(es(this.auth));const t=await this.getIdToken();return await ho(this,wR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,o,u,f,m,g,y,A;const R=(r=n.displayName)!==null&&r!==void 0?r:void 0,N=(o=n.email)!==null&&o!==void 0?o:void 0,B=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,J=(m=n.tenantId)!==null&&m!==void 0?m:void 0,Q=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,mt=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Et=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:at,emailVerified:_t,isAnonymous:ut,providerData:Tt,stsTokenManager:k}=n;It(at&&k,t,"internal-error");const w=eo.fromJSON(this.name,k);It(typeof at=="string",t,"internal-error"),Ls(R,t.name),Ls(N,t.name),It(typeof _t=="boolean",t,"internal-error"),It(typeof ut=="boolean",t,"internal-error"),Ls(B,t.name),Ls(z,t.name),Ls(J,t.name),Ls(Q,t.name),Ls(mt,t.name),Ls(Et,t.name);const C=new Yn({uid:at,auth:t,email:N,emailVerified:_t,displayName:R,isAnonymous:ut,photoURL:z,phoneNumber:B,tenantId:J,stsTokenManager:w,createdAt:mt,lastLoginAt:Et});return Tt&&Array.isArray(Tt)&&(C.providerData=Tt.map(x=>Object.assign({},x))),Q&&(C._redirectEventId=Q),C}static async _fromIdTokenResponse(t,n,r=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await rh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];It(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?P2(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new eo;m.updateFromIdToken(r);const g=new Yn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;function ts(s){rs(s instanceof Function,"Expected a class definition");let t=cv.get(s);return t?(rs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,cv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}U2.type="NONE";const hv=U2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(s,t,n){return`firebase:${s}:${t}:${n}`}class no{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Uc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sh(this.auth,{idToken:t}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new no(ts(hv),t,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ts(hv);const f=Uc(r,t.config.apiKey,t.name);let m=null;for(const y of n)try{const A=await y._get(f);if(A){let R;if(typeof A=="string"){const N=await sh(t,{idToken:A}).catch(()=>{});if(!N)break;R=await Yn._fromGetAccountInfoResponse(t,N,A)}else R=Yn._fromJSON(t,A);y!==u&&(m=R),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new no(u,t,r):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new no(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(B2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(L2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(q2(t))return"Blackberry";if(F2(t))return"Webos";if(j2(t))return"Safari";if((t.includes("chrome/")||z2(t))&&!t.includes("edge/"))return"Chrome";if(H2(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function L2(s=an()){return/firefox\//i.test(s)}function j2(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function z2(s=an()){return/crios\//i.test(s)}function B2(s=an()){return/iemobile/i.test(s)}function H2(s=an()){return/android/i.test(s)}function q2(s=an()){return/blackberry/i.test(s)}function F2(s=an()){return/webos/i.test(s)}function Ip(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function kR(s=an()){var t;return Ip(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MR(){return D4()&&document.documentMode===10}function G2(s=an()){return Ip(s)||H2(s)||F2(s)||q2(s)||/windows phone/i.test(s)||B2(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(s,t=[]){let n;switch(s){case"Browser":n=fv(an());break;case"Worker":n=`${fv(an())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(s,t={}){return as(s,"GET","/v2/passwordPolicy",ar(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=6;class LR{constructor(t){var n,r,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:UR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dv(this),this.idTokenSubscription=new dv(this),this.beforeStateQueue=new VR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await no.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sh(this,{idToken:t}),r=await Yn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(wn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wn(this.app))return Promise.reject(es(this));const n=t?Pe(t):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wn(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PR(this),n=new LR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OR(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ts(t)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=K2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&mR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ea(s){return Pe(s)}class dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=L4(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zR(s){xh=s}function Q2(s){return xh.loadJS(s)}function BR(){return xh.recaptchaEnterpriseScript}function HR(){return xh.gapiScript}function qR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class FR{constructor(){this.enterprise=new GR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class GR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const KR="recaptcha-enterprise",Y2="NO_RECAPTCHA";class QR{constructor(t){this.type=KR,this.auth=ea(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{SR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new bR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;lv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(Y2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&lv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=BR();g.length!==0&&(g+=m),Q2(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function mv(s,t,n,r=!1,o=!1){const u=new QR(s);let f;if(o)f=Y2;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Rm(s,t,n,r,o){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await mv(s,t,n,n==="getOobCode");return r(s,f)}else return r(s,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await mv(s,t,n,n==="getOobCode");return r(s,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(s,t){const n=dh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gr(u,t??{}))return o;$n(o,"already-initialized")}return n.initialize({options:t})}function XR(s,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function $R(s,t,n){const r=ea(s);It(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=X2(t),{host:f,port:m}=ZR(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},A=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){It(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),It(Gr(y,r.config.emulator)&&Gr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,WR()}function X2(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function ZR(s){const t=X2(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:pv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:pv(f)}}}function pv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function WR(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,n){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function JR(s,t){return as(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(s,t){return Wl(s,"POST","/v1/accounts:signInWithPassword",ar(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(s,t){return Wl(s,"POST","/v1/accounts:signInWithEmailLink",ar(s,t))}async function n3(s,t){return Wl(s,"POST","/v1/accounts:signInWithEmailLink",ar(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Cp{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Fl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Fl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(t,n,"signInWithPassword",t3);case"emailLink":return e3(t,{email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(t,r,"signUpPassword",JR);case"emailLink":return n3(t,{idToken:n,email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(s,t){return Wl(s,"POST","/v1/accounts:signInWithIdp",ar(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="http://localhost";class $r extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=n,u=bp(n,["providerId","signInMethod"]);if(!r||!o)return null;const f=new $r(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return io(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,io(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,io(t,n)}buildRequest(){const t={requestUri:i3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r3(s){const t=Il(Cl(s)).link,n=t?Il(Cl(t)).deep_link_id:null,r=Il(Cl(s)).deep_link_id;return(r?Il(Cl(r)).link:null)||r||n||t||s}class Np{constructor(t){var n,r,o,u,f,m;const g=Il(Cl(t)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,A=(r=g.oobCode)!==null&&r!==void 0?r:null,R=s3((o=g.mode)!==null&&o!==void 0?o:null);It(y&&A&&R,"argument-error"),this.apiKey=y,this.operation=R,this.code=A,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=r3(t);try{return new Np(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(t,n){return Fl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Np.parseLink(n);return It(r,"argument-error"),Fl._fromEmailAndCode(t,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends $2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Jl{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return $r._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Jl{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Jl{constructor(){super("twitter.com")}static credential(t,n){return $r._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(s,t){return Wl(s,"POST","/v1/accounts:signUp",ar(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await Yn._fromIdTokenResponse(t,r,o),f=gv(r);return new Zr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=gv(r);return new Zr({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function gv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends Si{constructor(t,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new ah(t,n,r,o)}}function Z2(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(s,u,t,r):u})}async function o3(s,t,n=!1){const r=await ho(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Zr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(s,t,n=!1){const{auth:r}=s;if(wn(r.app))return Promise.reject(es(r));const o="reauthenticate";try{const u=await ho(s,Z2(r,o,t,s),n);It(u.idToken,r,"internal-error");const f=Rp(u.idToken);It(f,r,"internal-error");const{sub:m}=f;return It(s.uid===m,r,"user-mismatch"),Zr._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$n(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(s,t,n=!1){if(wn(s.app))return Promise.reject(es(s));const r="signIn",o=await Z2(s,r,t),u=await Zr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function u3(s,t){return W2(ea(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(s){const t=ea(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function c3(s,t,n){if(wn(s.app))return Promise.reject(es(s));const r=ea(s),f=await Rm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a3).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&J2(s),g}),m=await Zr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function h3(s,t,n){return wn(s.app)?Promise.reject(es(s)):u3(Pe(s),yo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J2(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(s,t){return as(s,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(s,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Pe(s),u={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await ho(r,f3(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function m3(s,t,n,r){return Pe(s).onIdTokenChanged(t,n,r)}function p3(s,t,n){return Pe(s).beforeAuthStateChanged(t,n)}function g3(s,t,n,r){return Pe(s).onAuthStateChanged(t,n,r)}function y3(s){return Pe(s).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=1e3,v3=10;class eT extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);MR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,v3):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},_3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}eT.type="LOCAL";const T3=eT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}nT.type="SESSION";const iT=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Oh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await E3(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Dp("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(R){const N=R;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(N.data.response);break;default:clearTimeout(A),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function b3(s){Ti().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function S3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w3(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function R3(){return sT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebaseLocalStorageDb",I3=1,lh="firebaseLocalStorage",aT="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(s,t){return s.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function C3(){const s=indexedDB.deleteDatabase(rT);return new tu(s).toPromise()}function Im(){const s=indexedDB.open(rT,I3);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(lh,{keyPath:aT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(lh)?t(r):(r.close(),await C3(),t(await Im()))})})}async function yv(s,t,n){const r=kh(s,!0).put({[aT]:t,value:n});return new tu(r).toPromise()}async function N3(s,t){const n=kh(s,!1).get(t),r=await new tu(n).toPromise();return r===void 0?null:r.value}function _v(s,t){const n=kh(s,!0).delete(t);return new tu(n).toPromise()}const D3=800,x3=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>x3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(R3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await S3(),!this.activeServiceWorker)return;this.sender=new A3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||w3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Im();return await yv(t,oh,"1"),await _v(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>N3(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_v(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=kh(o,!1).getAll();return new tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const O3=oT;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(s,t){return t?ts(t):(It(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Cp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function M3(s){return W2(s.auth,new xp(s),s.bypassAuthState)}function V3(s){const{auth:t,user:n}=s;return It(n,t,"internal-error"),l3(n,new xp(s),s.bypassAuthState)}async function P3(s){const{auth:t,user:n}=s;return It(n,t,"internal-error"),o3(n,new xp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return M3;case"linkViaPopup":case"linkViaRedirect":return P3;case"reauthViaPopup":case"reauthViaRedirect":return V3;default:$n(this.auth,"internal-error")}}resolve(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new Zl(2e3,1e4);class Za extends lT{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const t=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,U3.get())};t()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="pendingRedirect",Lc=new Map;class j3 extends lT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const r=await z3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z3(s,t){const n=q3(t),r=H3(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function B3(s,t){Lc.set(s._key(),t)}function H3(s){return ts(s._redirectPersistence)}function q3(s){return Uc(L3,s.config.apiKey,s.name)}async function F3(s,t,n=!1){if(wn(s.app))return Promise.reject(es(s));const r=ea(s),o=k3(r,t),f=await new j3(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=10*60*1e3;class K3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Q3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!uT(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=G3&&this.cachedEventUids.clear(),this.cachedEventUids.has(vv(t))}saveEventToCache(t){this.cachedEventUids.add(vv(t)),this.lastProcessedEventTime=Date.now()}}function vv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function uT({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Q3(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(s,t={}){return as(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$3=/^https?/;async function Z3(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Y3(s);for(const n of t)try{if(W3(n))return}catch{}$n(s,"unauthorized-domain")}function W3(s){const t=Sm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!$3.test(n))return!1;if(X3.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new Zl(3e4,6e4);function Tv(){const s=Ti().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function t6(s){return new Promise((t,n)=>{var r,o,u;function f(){Tv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Tv(),n(vi(s,"network-request-failed"))},timeout:J3.get()})}if(!((o=(r=Ti().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)f();else{const m=qR("iframefcb");return Ti()[m]=()=>{gapi.load?f():n(vi(s,"network-request-failed"))},Q2(`${HR()}?onload=${m}`).catch(g=>n(g))}}).catch(t=>{throw jc=null,t})}let jc=null;function e6(s){return jc=jc||t6(s),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Zl(5e3,15e3),i6="__/auth/iframe",s6="emulator/auth/iframe",r6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o6(s){const t=s.config;It(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?wp(t,s6):`https://${s.config.authDomain}/${i6}`,r={apiKey:t.apiKey,appName:s.name,v:Wr},o=a6.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Kl(r).slice(1)}`}async function l6(s){const t=await e6(s),n=Ti().gapi;return It(n,s,"internal-error"),t.open({where:document.body,url:o6(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r6,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=vi(s,"network-request-failed"),m=Ti().setTimeout(()=>{u(f)},n6.get());function g(){Ti().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c6=500,h6=600,f6="_blank",d6="http://localhost";class Ev{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m6(s,t,n,r=c6,o=h6){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g=Object.assign(Object.assign({},u6),{width:r.toString(),height:o.toString(),top:u,left:f}),y=an().toLowerCase();n&&(m=z2(y)?f6:n),L2(y)&&(t=t||d6,g.scrollbars="yes");const A=Object.entries(g).reduce((N,[B,z])=>`${N}${B}=${z},`,"");if(kR(y)&&m!=="_self")return p6(t||"",m),new Ev(null);const R=window.open(t||"",m,A);It(R,s,"popup-blocked");try{R.focus()}catch{}return new Ev(R)}function p6(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="__/auth/handler",y6="emulator/auth/handler",_6=encodeURIComponent("fac");async function Av(s,t,n,r,o,u){It(s.config.authDomain,s,"auth-domain-config-required"),It(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Wr,eventId:o};if(t instanceof $2){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",U4(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries({}))f[A]=R}if(t instanceof Jl){const A=t.getScopes().filter(R=>R!=="");A.length>0&&(f.scopes=A.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const A of Object.keys(m))m[A]===void 0&&delete m[A];const g=await s._getAppCheckToken(),y=g?`#${_6}=${encodeURIComponent(g)}`:"";return`${v6(s)}?${Kl(m).slice(1)}${y}`}function v6({config:s}){return s.emulator?wp(s,y6):`https://${s.authDomain}/${g6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class T6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=F3,this._overrideRedirectResult=B3}async _openPopup(t,n,r,o){var u;rs((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Av(t,n,r,Sm(),o);return m6(t,f,Dp())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await Av(t,n,r,Sm(),o);return b3(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await l6(t),r=new K3(t);return n.register("authEvent",o=>(It(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xd,{type:Xd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Xd];f!==void 0&&n(!!f),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return G2()||j2()||Ip()}}const E6=T6;var bv="@firebase/auth",Sv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S6(s){Kr(new Zs("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;It(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K2(s)},y=new jR(r,o,u,g);return XR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Kr(new Zs("auth-internal",t=>{const n=ea(t.getProvider("auth").getImmediate());return(r=>new A6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(bv,Sv,b6(s)),pi(bv,Sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=5*60,R6=Qv("authIdTokenMaxAge")||w6;let wv=null;const I6=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R6)return;const o=n==null?void 0:n.token;wv!==o&&(wv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function C6(s=Fm()){const t=dh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=YR(s,{popupRedirectResolver:E6,persistence:[O3,T3,iT]}),r=Qv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=I6(u.toString());p3(n,f,()=>f(n.currentUser)),m3(n,m=>f(m))}}const o=Fv("auth");return o&&$R(n,`http://${o}`),n}function N6(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}zR({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=vi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",N6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebasestorage.googleapis.com",D6="storageBucket",x6=2*60*1e3,O6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Si{constructor(t,n,r=0){super($d(t),`Firebase Storage: ${n} (${$d(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $d(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bi;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bi||(bi={}));function $d(s){return"storage/"+s}function k6(){const s="An unknown error occurred, please check the error payload for server response.";return new wi(bi.UNKNOWN,s)}function M6(){return new wi(bi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V6(){return new wi(bi.CANCELED,"User canceled the upload/download.")}function P6(s){return new wi(bi.INVALID_URL,"Invalid URL '"+s+"'.")}function U6(s){return new wi(bi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Rv(s){return new wi(bi.INVALID_ARGUMENT,s)}function hT(){return new wi(bi.APP_DELETED,"The Firebase app was deleted.")}function L6(s){return new wi(bi.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Xn.makeFromUrl(t,n)}catch{return new Xn(t,"")}if(r.path==="")return r;throw U6(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(_t){_t.path.charAt(_t.path.length-1)==="/"&&(_t.path_=_t.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(_t){_t.path_=decodeURIComponent(_t.path)}const A="v[A-Za-z0-9_]+",R=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",B=new RegExp(`^https?://${R}/${A}/b/${o}/o${N}`,"i"),z={bucket:1,path:3},J=n===cT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Q="([^?#]*)",mt=new RegExp(`^https?://${J}/${o}/${Q}`,"i"),at=[{regex:m,indices:g,postModify:u},{regex:B,indices:z,postModify:y},{regex:mt,indices:{bucket:1,path:2},postModify:y}];for(let _t=0;_t<at.length;_t++){const ut=at[_t],Tt=ut.regex.exec(t);if(Tt){const k=Tt[ut.indices.bucket];let w=Tt[ut.indices.path];w||(w=""),r=new Xn(k,w),ut.postModify(r);break}}if(r==null)throw P6(t);return r}}class j6{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(s,t,n){let r=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let y=!1;function A(...Q){y||(y=!0,t.apply(null,Q))}function R(Q){o=setTimeout(()=>{o=null,s(B,g())},Q)}function N(){u&&clearTimeout(u)}function B(Q,...mt){if(y){N();return}if(Q){N(),A.call(null,Q,...mt);return}if(g()||f){N(),A.call(null,Q,...mt);return}r<64&&(r*=2);let at;m===1?(m=2,at=0):at=(r+Math.random())*1e3,R(at)}let z=!1;function J(Q){z||(z=!0,N(),!y&&(o!==null?(Q||(m=2),clearTimeout(o),R(0)):Q||(m=1)))}return R(0),u=setTimeout(()=>{f=!0,J(!0)},n),J}function B6(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(s){return s!==void 0}function Iv(s,t,n,r){if(r<t)throw Rv(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw Rv(`Invalid value for '${s}'. Expected ${n} or less.`)}function q6(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=t(r)+"="+t(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var uh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(uh||(uh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(s,t){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(t,n,r,o,u,f,m,g,y,A,R,N=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=A,this.connectionFactory_=R,this.retry=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,z)=>{this.resolve_=B,this.reject_=z,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Nc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===uh.NO_ERROR,g=u.getStatus();if(!m||F6(g,this.additionalRetryCodes_)&&this.retry){const A=u.getErrorCode()===uh.ABORT;r(!1,new Nc(!1,null,A));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new Nc(y,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());H6(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=k6();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?hT():V6();f(g)}else{const g=M6();f(g)}};this.canceled_?n(!1,new Nc(!1,null,!0)):this.backoffId_=z6(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&B6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function K6(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function Q6(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Y6(s,t){t&&(s["X-Firebase-GMPID"]=t)}function X6(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function $6(s,t,n,r,o,u,f=!0){const m=q6(s.urlParams),g=s.url+m,y=Object.assign({},s.headers);return Y6(y,t),K6(y,n),Q6(y,u),X6(y,r),new G6(g,s.method,y,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function W6(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this._service=t,n instanceof Xn?this._location=n:this._location=Xn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ch(t,n)}get root(){const t=new Xn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W6(this._location.path)}get storage(){return this._service}get parent(){const t=Z6(this._location.path);if(t===null)return null;const n=new Xn(this._location.bucket,t);return new ch(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw L6(t)}}function Cv(s,t){const n=t==null?void 0:t[D6];return n==null?null:Xn.makeFromBucketSpec(n,s)}function J6(s,t,n,r={}){s.host=`${t}:${n}`,s._protocol="http";const{mockUserToken:o}=r;o&&(s._overrideAuthToken=typeof o=="string"?o:Yv(o,s.app.options.projectId))}class tI{constructor(t,n,r,o,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=cT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x6,this._maxUploadRetryTime=O6,this._requests=new Set,o!=null?this._bucket=Xn.makeFromBucketSpec(o,this._host):this._bucket=Cv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,t):this._bucket=Cv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Iv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Iv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ch(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new j6(hT());{const f=$6(t,this._appId,r,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const Nv="@firebase/storage",Dv="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="storage";function eI(s=Fm(),t){s=Pe(s);const r=dh(s,fT).getImmediate({identifier:t}),o=Gv("storage");return o&&nI(r,...o),r}function nI(s,t,n,r={}){J6(s,t,n,r)}function iI(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new tI(n,r,o,t,Wr)}function sI(){Kr(new Zs(fT,iI,"PUBLIC").setMultipleInstances(!0)),pi(Nv,Dv,""),pi(Nv,Dv,"esm2017")}sI();const rI={apiKey:"AIzaSyBmocn-VTp5eP3LxLTt-XD2RJnm3jhrmaE",authDomain:"superdo-e944b.firebaseapp.com",projectId:"superdo-e944b",storageBucket:"superdo-e944b.firebasestorage.app",messagingSenderId:"317852444156",appId:"1:317852444156:web:012e8d05b99c277fbe7e79"},Op=Zv(rI),Dc=C6(Op),Gs=Yw(Op);eI(Op);const dT=gt.createContext(),_o=()=>gt.useContext(dT),aI=({children:s})=>{const[t,n]=gt.useState(null),[r,o]=gt.useState(!0),[u,f]=gt.useState(""),m=async(N,B,z)=>{try{f("");const Q=(await c3(Dc,N,B)).user;return await d3(Q,{displayName:z}),await $a(Fs(Gs,"users",Q.uid),{uid:Q.uid,email:Q.email,username:z,createdAt:new Date().toISOString(),tokens:1250,xp:0,tickets:8,inventory:[],tasks:[],taskBank:[],equippedItems:[null,null,null]}),Q}catch(J){throw f(J.message),J}},g=async(N,B)=>{try{return f(""),(await h3(Dc,N,B)).user}catch(z){throw f(z.message),z}},y=async()=>{try{f(""),await y3(Dc)}catch(N){throw f(N.message),N}},A=async N=>{try{const B=await C2(Fs(Gs,"users",N));return B.exists()?B.data():null}catch(B){throw f(B.message),B}};gt.useEffect(()=>g3(Dc,async B=>{n(B),o(!1)}),[]);const R={currentUser:t,signup:m,login:g,logout:y,getUserData:A,error:u};return T.jsx(dT.Provider,{value:R,children:!r&&s})},xv=()=>new Date().toISOString().split("T")[0],Ov=[{id:1,name:"Lootbox",type:"lootbox",icon:"custom-lootbox",description:"Contains 10-100 XP. Open to boost your productivity journey!",price:150,owned:!1,quantity:0},{id:201,name:"5 Tickets",type:"ticket",icon:"custom-ticket",description:"Use tickets to unlock special rewards",price:600,amount:5,owned:!1,quantity:0},{id:202,name:"20 Tickets",type:"ticket",icon:"custom-ticket",description:"Use tickets to unlock special rewards",price:2e3,amount:20,owned:!1,quantity:0},{id:203,name:"50 Tickets",type:"ticket",icon:"custom-ticket",description:"Use tickets to unlock special rewards",price:4500,amount:50,owned:!1,quantity:0},{id:11,name:"Time Warp",type:"ability",icon:"clock",description:"Reset daily task timers",price:800,owned:!1,quantity:0},{id:12,name:"Double Rewards",type:"ability",icon:"gem",description:"Double tokens for next 5 tasks",price:1200,owned:!1,quantity:0},{id:13,name:"Task Skip",type:"ability",icon:"forward",description:"Skip a difficult task without penalty",price:500,owned:!1,quantity:0},{id:2,name:"Flip Coin",type:"ability",icon:"exchange-alt",description:"Flip for either an easy or hard task",owned:!0},{id:3,name:"Card Monte",type:"ability",icon:"play-circle",description:"Play 3-card monte for a task reward",owned:!0},{id:4,name:"Lootbox",type:"lootbox",icon:"custom-lootbox",description:"Contains 10-100 XP",owned:!0},{id:7,name:"XP Booster",type:"armor",icon:"tachometer-alt",description:"Increase XP gain by 2%",owned:!0,rarity:"common"},{id:8,name:"Token Booster",type:"armor",icon:"coins",description:"Increase token gain by 2%",owned:!0,rarity:"common"},{id:9,name:"Task Eraser",type:"weapon",icon:"eraser",description:"Delete a task (5% success rate)",owned:!0,rarity:"common",cooldown:"daily"},{id:10,name:"Token Generator",type:"weapon",icon:"money-bill",description:"Add 500 tokens (5% success rate)",owned:!0,rarity:"common",cooldown:"daily"}],kv=[],Zd=[{percent:25,reward:50},{percent:50,reward:100},{percent:75,reward:150},{percent:100,reward:300}],mT=gt.createContext(),eu=()=>gt.useContext(mT),oI=({children:s})=>{const{currentUser:t}=_o(),[n,r]=gt.useState(1250),[o,u]=gt.useState(0),[f,m]=gt.useState(8),[g,y]=gt.useState(Ov),[A,R]=gt.useState("all"),[N,B]=gt.useState([null,null,null]),[z,J]=gt.useState({}),[Q,mt]=gt.useState([]),[Et,at]=gt.useState(kv),[_t,ut]=gt.useState({}),[Tt,k]=gt.useState(xv());gt.useEffect(()=>{(async()=>{if(t)try{const ct=Fs(Gs,"users",t.uid),Ot=await C2(ct);if(Ot.exists()){const pt=Ot.data();r(pt.tokens||1250),u(pt.xp||0),m(pt.tickets||8),pt.inventory&&pt.inventory.length>0&&y(pt.inventory),pt.activeTasks&&pt.activeTasks.length>0&&mt(pt.activeTasks),pt.taskBank&&pt.taskBank.length>0&&at(pt.taskBank),pt.equippedItems&&B(pt.equippedItems),pt.weaponCooldowns&&J(pt.weaponCooldowns),pt.claimedMilestones&&ut(pt.claimedMilestones)}else await $a(ct,{uid:t.uid,email:t.email,username:t.displayName,tokens:1250,xp:0,tickets:8,inventory:Ov,activeTasks:[],taskBank:kv,equippedItems:[null,null,null],weaponCooldowns:{},claimedMilestones:{}})}catch(ct){console.error("Error loading user data:",ct)}})()},[t]),gt.useEffect(()=>{const it=async()=>{if(t)try{const Ot=Fs(Gs,"users",t.uid);await uR(Ot,{tokens:n,xp:o,tickets:f,inventory:g,activeTasks:Q,taskBank:Et,equippedItems:N,weaponCooldowns:z,claimedMilestones:_t})}catch(Ot){console.error("Error saving user data:",Ot)}},ct=setTimeout(()=>{t&&it()},1e3);return()=>clearTimeout(ct)},[t,n,o,f,g,Q,Et,N,z,_t]),gt.useEffect(()=>{const it=()=>{const Ot=xv();Ot!==Tt&&(k(Ot),ut({}),J({}))};it();const ct=setInterval(it,6e4);return()=>clearInterval(ct)},[Tt]);const w=(it,ct)=>n>=ct?(r(n-ct),y(Ot=>Ot.map(pt=>pt.id===it.id?{...pt,owned:!0}:pt)),!0):!1,C=()=>{const it=g.find(ct=>ct.id===N[1]);return it&&it.name==="XP Booster"?.02:0},x=()=>{const it=g.find(ct=>ct.id===N[1]);return it&&it.name==="Token Booster"?.02:0},M=it=>{const ct=g.find(pt=>pt.id===it);if(!ct||ct.type!=="weapon")return{success:!1,message:"Not a valid weapon"};if(z[it])return{success:!1,message:"Weapon on cooldown until tomorrow"};if(J(pt=>({...pt,[it]:Tt})),!(Math.random()<.05))return{success:!1,message:"Weapon use failed (95% chance of failure)"};if(ct.name==="Task Eraser"){if(Q.length===0)return{success:!1,message:"No tasks to delete"};const pt=Math.floor(Math.random()*Q.length),ge=Q[pt].id;return dt(ge),{success:!0,message:"Task successfully deleted!",taskName:Q[pt].text}}return ct.name==="Token Generator"?(r(pt=>pt+500),{success:!0,message:"Generated 500 tokens!"}):{success:!1,message:"Unknown weapon effect"}},V=it=>{const ct=Math.floor(Math.random()*91)+10;return u(Ot=>Ot+ct),bt(it.id,{quantity:it.quantity-1}),{success:!0,xpAmount:ct}},S=it=>{const ct=it.amount||1;return m(Ot=>Ot+ct),bt(it.id,{quantity:it.quantity-1}),{success:!0,ticketAmount:ct}},Pt=it=>{const ct=g.find(Ot=>Ot.id===it);return ct?ct.type==="lootbox"?V(ct):ct.type==="ticket"?S(ct):ct.type==="weapon"?M(it):!1:!1},xt=(it,ct)=>{if(ct>=0&&ct<3){const Ot=[...N];Ot[ct]=it,B(Ot)}},K=()=>A==="all"?g:g.filter(it=>it.type===A),tt=it=>{at([...Et,{...it,id:Date.now()}])},ft=it=>{at(Et.filter(ct=>ct.id!==it))},jt=it=>it.repetition==="daily"||it.dueDate&&it.dueDate===Tt||it.repetition==="weekly"||it.repetition==="monthly"?!0:it.repetition==="one-time",D=()=>Q.filter(it=>jt(it)),W=it=>{const ct=it.id||Date.now(),Ot={...it,id:ct,completed:!1,dateAdded:Tt,dueDate:Tt};return mt(pt=>pt.some(fe=>fe.text===it.text&&fe.rarity===it.rarity&&fe.repetition===it.repetition)?pt:[...pt,Ot]),Ot},rt=it=>{mt(ct=>{const Ot=ct.map(ge=>ge.id===it?{...ge,completed:!0}:ge),pt=ct.find(ge=>ge.id===it);if(pt&&!pt.completed){const ge=C(),fe=Math.floor(pt.tokenValue*ge),We=pt.tokenValue+fe;u(zn=>zn+We),setTimeout(()=>nt(),0)}return Ot})},nt=()=>{const it=D(),ct=it.filter(fe=>fe.completed),Ot=it.length;if(Ot===0)return;const ge=ct.length/Ot*100;Zd.forEach(fe=>{const We=`${Tt}-${fe.percent}`;if(ge>=fe.percent&&!_t[We]){const zn=x(),os=Math.floor(fe.reward*zn),Je=fe.reward+os;r(Ri=>Ri+Je),ut(Ri=>({...Ri,[We]:!0}))}})},dt=it=>{mt(Q.filter(ct=>ct.id!==it))},Mt=()=>({milestones:Zd,claimed:_t}),bt=(it,ct)=>{y(Ot=>Ot.map(pt=>pt.id===it?{...pt,...ct}:pt))},pe={tokens:n,setTokens:r,xp:o,setXp:u,tickets:f,setTickets:m,inventoryItems:g,setInventoryItems:y,activeItemFilter:A,setActiveItemFilter:R,purchaseItem:w,useItem:Pt,getFilteredItems:K,equippedAbilities:N,setEquippedAbilities:B,equipAbility:xt,activeTasks:Q,setActiveTasks:mt,taskBank:Et,setTaskBank:at,addTaskToBank:tt,removeTaskFromBank:ft,addTaskToActive:W,completeTask:rt,removeTask:dt,todayDate:Tt,isTaskDueToday:jt,getTasksDueToday:D,milestoneRewards:Zd,claimedMilestones:_t,getMilestoneData:Mt,weaponCooldowns:z,getXpBonus:C,getTokenBonus:x,updateInventoryItem:bt};return T.jsx(mT.Provider,{value:pe,children:s})};function lI(){const{tokens:s,xp:t,tickets:n}=eu(),{currentUser:r,logout:o}=_o(),[u,f]=gt.useState(!1),m=async()=>{try{await o()}catch(g){console.error("Error logging out:",g)}};return T.jsxs("header",{className:"header",children:[T.jsxs("div",{className:"logo",children:[T.jsx(o4,{className:"logo-icon"}),T.jsx("h1",{children:"SuperDo"}),T.jsx("span",{className:"season-title",children:"Season One"})]}),T.jsxs("div",{className:"header-right",children:[T.jsxs("button",{className:"events-button",onClick:()=>f(!0),children:[T.jsx(Wa,{}),T.jsx("span",{children:"Events"})]}),T.jsxs("div",{className:"currency-container",children:[T.jsxs("div",{className:"currency",children:[T.jsx(mi,{className:"currency-icon tokens"}),T.jsx("span",{className:"currency-value",children:s})]}),T.jsxs("div",{className:"currency",children:[T.jsx(em,{className:"currency-icon xp"}),T.jsx("span",{className:"currency-value",children:t})]}),T.jsxs("div",{className:"currency",children:[T.jsx(Bm,{className:"currency-icon tickets"}),T.jsx("span",{className:"currency-value",children:n})]})]}),T.jsxs("div",{className:"user-info",children:[T.jsx("span",{className:"username",children:r==null?void 0:r.displayName}),T.jsx("button",{className:"logout-button",onClick:m,children:T.jsx(f4,{})})]})]}),u&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"events-modal",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{children:"Upcoming Events"}),T.jsx("button",{className:"close-button",onClick:()=>f(!1),children:T.jsx(hh,{})})]}),T.jsxs("div",{className:"events-list",children:[T.jsxs("div",{className:"event-item",children:[T.jsxs("div",{className:"event-date",children:[T.jsx("div",{className:"event-month",children:"JUN"}),T.jsx("div",{className:"event-day",children:"15"})]}),T.jsxs("div",{className:"event-content",children:[T.jsx("h3",{children:"Summer Challenge"}),T.jsx("p",{children:"Complete daily tasks to earn double tokens in our special summer event!"})]})]}),T.jsxs("div",{className:"event-item",children:[T.jsxs("div",{className:"event-date",children:[T.jsx("div",{className:"event-month",children:"JUL"}),T.jsx("div",{className:"event-day",children:"01"})]}),T.jsxs("div",{className:"event-content",children:[T.jsx("h3",{children:"New Abilities Release"}),T.jsx("p",{children:"Check out the new abilities coming to the shop in July!"})]})]})]})]})})]})}function uI({activeTab:s,setActiveTab:t}){const n=[{id:"tasks",label:"Tasks",icon:T.jsx(m4,{})},{id:"inventory",label:"Inventory",icon:T.jsx(r4,{})},{id:"shop",label:"Shop",icon:T.jsx(d4,{})},{id:"settings",label:"Settings",icon:T.jsx(u4,{})}];return T.jsx("nav",{className:"tab-nav",children:n.map(r=>T.jsxs("button",{className:`tab-button ${s===r.id?"active":""}`,onClick:()=>t(r.id),children:[T.jsx("span",{className:"tab-icon",children:r.icon}),T.jsx("span",{className:"tab-label",children:r.label})]},r.id))})}function cI(){const{tokens:s,setTokens:t,xp:n,setXp:r,inventoryItems:o,equipAbility:u,equippedAbilities:f,useItem:m,activeTasks:g,taskBank:y,addTaskToActive:A,completeTask:R,removeTask:N,todayDate:B,isTaskDueToday:z,getTasksDueToday:J,milestoneRewards:Q,claimedMilestones:mt,weaponCooldowns:Et,getXpBonus:at,getTokenBonus:_t}=eu(),[ut,Tt]=gt.useState("active"),[k,w]=gt.useState(!1),[C,x]=gt.useState([!1,!1,!1]),[M,V]=gt.useState(null),[S,Pt]=gt.useState(null),[xt,K]=gt.useState(null),[tt,ft]=gt.useState(null),jt=gt.useRef(null);gt.useEffect(()=>{function F(ot){jt.current&&!jt.current.contains(ot.target)&&xt!==null&&K(null)}return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[xt]);const D=g.filter(F=>!F.completed&&z(F)),W=g.filter(F=>F.completed&&z(F)),rt=y.filter(F=>z(F)?!g.some(ot=>ot.id===F.id):!1),dt=[...D,...rt].length+W.length,Mt=dt>0?W.length/dt*100:0,bt=F=>{const ot=`${B}-${F}`;return!!mt[ot]},pe=F=>{switch(F){case"common":return 1;case"uncommon":return 2;case"rare":return 3;case"epic":return 4;case"legendary":return 5;default:return 1}},ct=[...g.filter(F=>ut==="active"?!F.completed:ut==="completed"?F.completed:!0)];(ut==="active"||ut==="all")&&rt.forEach(F=>{if(!g.some(vt=>vt.text===F.text&&vt.rarity===F.rarity&&vt.repetition===vt.repetition)){const vt={...F,isFromBank:!0};ct.push(vt)}});const Ot=F=>{const ot=[],vt=pe(F);for(let Ue=0;Ue<vt;Ue++)ot.push(T.jsx(Ja,{className:`rarity-icon ${F}`},Ue));return F==="legendary"&&ot.push(T.jsx(Uv,{className:"rarity-icon legendary crown"},"crown")),T.jsx("div",{className:"rarity-stars",children:ot})},pt=()=>ct.filter(F=>!F.completed),ge=F=>pt().filter(ot=>ot.rarity===F),fe=()=>{const F=pt();if(F.length===0)return null;const ot=Math.floor(Math.random()*F.length);return F[ot]},We=F=>{const ot=ge(F);if(ot.length===0)return fe();const vt=Math.floor(Math.random()*ot.length);return ot[vt]},zn=()=>{const F=fe();F?(F.isFromBank&&A(F),ft(F)):alert("No tasks available. Create tasks in Settings to see them here!")},os=()=>{const F=Math.random()>.5,ot=F?"common":"epic",vt=We(ot);vt?Pt({type:"coin",result:F?"heads":"tails",task:vt}):alert(`No ${ot} tasks available. Create ${ot} tasks in Settings!`)},Je=()=>{w(!0),x([!1,!1,!1]),V(Math.floor(Math.random()*3)),Pt(null)},Ri=F=>{if(C.some(vt=>vt))return;const ot=[!1,!1,!1];if(ot[F]=!0,x(ot),F===M){const vt=We("uncommon");vt?Pt({type:"monty",result:"win",task:vt}):(alert("No uncommon tasks available. Create uncommon tasks in Settings!"),x([!1,!1,!1]))}else{const vt=We("legendary");vt?Pt({type:"monty",result:"lose",task:vt}):(alert("No legendary tasks available. Create legendary tasks in Settings!"),x([!1,!1,!1]))}},or=F=>{F.isFromBank&&(g.find(vt=>vt.text===F.text&&vt.rarity===F.rarity&&vt.repetition===F.repetition)||A(F)),ft(F),Pt(null),w(!1)},Bn=["ability","armor","weapon"],Ii=F=>{const ot=f[F];if(ot){const vt=lr(ot);if(vt){if(Bn[F]==="ability")ls(vt);else if(Bn[F]==="weapon"){const Ue=m(ot);Ue&&alert(Ue.message||"Weapon used")}else if(Bn[F]==="armor"){const Ue=at(),In=_t();Ue>0?alert(`XP Booster is active: +${Ue*100}% XP from tasks`):In>0?alert(`Token Booster is active: +${In*100}% tokens from milestones`):alert("This armor has no effect yet")}}}else K(xt===F?null:F)},vo=F=>{xt!==null&&(u(F,xt),K(null))},ls=F=>{switch(F.name){case"Random Task":zn();break;case"Flip Coin":os();break;case"Card Monte":Je();break;default:console.log(`Using ability: ${F.name}`)}},us=F=>{switch(F){case"dice":return T.jsx(xm,{});case"exchange-alt":return T.jsx(km,{});case"play-circle":return T.jsx(Lm,{});case"bolt":return T.jsx(Hc,{});case"bullseye":return T.jsx(Nm,{});case"shield":return T.jsx(jm,{});case"clock":return T.jsx(Dm,{});case"gem":return T.jsx(Vm,{});case"forward":return T.jsx(Mm,{});case"tachometer-alt":return T.jsx(zm,{});case"coins":return T.jsx(mi,{});case"eraser":return T.jsx(Om,{});case"money-bill":return T.jsx(Pm,{});default:return T.jsx(h4,{})}},lr=F=>F?o.find(ot=>ot.id===F):null,le=o.filter(F=>F.owned===!0&&(xt!==null?F.type===Bn[xt]:!0));return T.jsxs("div",{className:"todo-container",children:[T.jsx("h2",{children:"Tasks"}),T.jsxs("div",{className:"daily-progress-container",children:[T.jsxs("div",{className:"daily-progress-header",children:[T.jsxs("div",{className:"daily-progress-title",children:[T.jsx(Wa,{})," Today's Progress"]}),T.jsxs("div",{className:"daily-progress-stats",children:[W.length,"/",dt," tasks completed"]})]}),T.jsxs("div",{className:"progress-bar-container",children:[T.jsx("div",{className:"progress-bar",style:{width:`${Mt}%`}}),Q.map((F,ot)=>T.jsxs("div",{className:`milestone ${Mt>=F.percent?"reached":""} ${bt(F.percent)?"claimed":""}`,style:{left:`${F.percent}%`},children:[T.jsx("div",{className:"milestone-indicator",children:bt(F.percent)&&T.jsx(a4,{className:"check-icon"})}),T.jsxs("div",{className:"milestone-reward",children:[T.jsx(mi,{})," ",F.reward]})]},ot))]}),dt===0&&T.jsx("div",{className:"no-tasks-message",children:"No tasks scheduled for today. Add tasks in Settings to see them here!"})]}),T.jsxs("div",{className:"player-character",children:[T.jsx("div",{className:"player-head"}),T.jsx("div",{className:"player-body"}),T.jsxs("div",{className:"player-arms",children:[T.jsx("div",{className:"player-arm left"}),T.jsx("div",{className:"player-arm right"})]}),T.jsxs("div",{className:"player-legs",children:[T.jsx("div",{className:"player-leg left"}),T.jsx("div",{className:"player-leg right"})]})]}),T.jsx("div",{className:"ability-slots",children:["ability","armor","weapon"].map((F,ot)=>{const vt=f[ot],Ue=lr(vt);return T.jsxs("div",{className:`ability-slot ${F} ${vt?"equipped":"empty"}`,onClick:()=>Ii(ot),children:[Ue?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"ability-icon",children:us(Ue.icon)}),T.jsx("div",{className:"ability-name",children:Ue.name})]}):T.jsx("div",{className:"empty-slot-text",children:F.charAt(0).toUpperCase()+F.slice(1)}),xt===ot&&T.jsxs("div",{className:"abilities-dropdown",ref:jt,children:[T.jsxs("h4",{children:["Select ",F.charAt(0).toUpperCase()+F.slice(1)]}),T.jsx("ul",{children:le.map(In=>T.jsxs("li",{onClick:()=>vo(In.id),className:"ability-option",children:[T.jsx("div",{className:"ability-option-icon",children:us(In.icon)}),T.jsxs("div",{className:"ability-option-details",children:[T.jsx("span",{className:"ability-option-name",children:In.name}),T.jsx("span",{className:"ability-option-description",children:In.description})]})]},In.id))})]})]},ot)})}),tt&&T.jsxs("div",{className:"ability-selected-task",children:[T.jsx("h3",{children:"Focus Task"}),T.jsxs("div",{className:`task-item glowing ${tt.rarity}`,children:[T.jsxs("div",{className:"task-checkbox-container",children:[T.jsx("input",{type:"checkbox",checked:tt.completed,onChange:()=>{if(tt.isFromBank){const F=g.find(ot=>ot.text===tt.text&&ot.rarity===tt.rarity&&ot.repetition===tt.repetition);if(F)R(F.id);else{const ot=A({...tt});ot&&ot.id&&R(ot.id)}}else R(tt.id);ft(null)}}),T.jsx("span",{className:"custom-checkbox"})]}),T.jsxs("div",{className:"task-details",children:[T.jsx("div",{className:"task-text",children:tt.text}),T.jsxs("div",{className:"task-meta",children:[tt.repetition!=="one-time"&&T.jsxs("span",{className:"task-repetition",children:[T.jsx(Jd,{})," ",tt.repetition]}),z(tt)&&T.jsxs("span",{className:"due-today-badge",children:[T.jsx(Wa,{})," Today"]}),T.jsxs("span",{className:"task-value",children:[T.jsx(em,{})," ",tt.tokenValue," XP"]}),Ot(tt.rarity)]})]}),T.jsx("button",{className:"cancel-task",onClick:()=>ft(null),children:T.jsx(hh,{})})]})]}),S&&T.jsxs("div",{className:"game-result",children:[T.jsx("h3",{children:S.type==="coin"?S.result==="heads"?"Heads!":"Tails!":S.result==="win"?"You won!":"You lost!"}),T.jsxs("div",{className:"game-task",children:[T.jsx("p",{children:S.task.text}),Ot(S.task.rarity)]}),T.jsx("button",{onClick:()=>or(S.task),className:"add-game-task",children:"Select Task"}),T.jsx("button",{onClick:()=>Pt(null),className:"cancel-game",children:"Cancel"})]}),k&&!S&&T.jsxs("div",{className:"monty-game",children:[T.jsx("h3",{children:"Pick a Card!"}),T.jsx("div",{className:"cards-container",children:C.map((F,ot)=>T.jsx("div",{className:`card ${F?"flipped":""}`,onClick:()=>Ri(ot),children:F?T.jsx("div",{className:"card-back",children:ot===M?"":""}):T.jsx("div",{className:"card-front",children:"?"})},ot))})]}),T.jsxs("div",{className:"task-tabs",children:[T.jsx("button",{className:ut==="active"?"active":"",onClick:()=>Tt("active"),children:"Active"}),T.jsx("button",{className:ut==="completed"?"active":"",onClick:()=>Tt("completed"),children:"Completed"}),T.jsx("button",{className:ut==="all"?"active":"",onClick:()=>Tt("all"),children:"All"})]}),T.jsx("ul",{className:"task-list",children:ct.length===0?T.jsx("li",{className:"no-tasks",children:ut==="active"?"No active tasks. Create tasks in Settings!":ut==="completed"?"No completed tasks yet.":"No tasks found."}):ct.map(F=>T.jsxs("li",{className:`task-item ${F.rarity} ${F.completed?"completed":""} 
                           ${z(F)?"due-today":""}`,children:[T.jsxs("div",{className:"task-checkbox-container",children:[T.jsx("input",{type:"checkbox",checked:F.completed,onChange:()=>{if(F.isFromBank){const ot=g.find(vt=>vt.text===F.text&&vt.rarity===F.rarity&&vt.repetition===F.repetition);if(ot)R(ot.id);else{const vt=A({...F});vt&&vt.id&&R(vt.id)}}else R(F.id)}}),T.jsx("span",{className:"custom-checkbox"})]}),T.jsxs("div",{className:"task-details",children:[T.jsx("div",{className:"task-text",children:F.text}),T.jsxs("div",{className:"task-meta",children:[F.repetition!=="one-time"&&T.jsxs("span",{className:"task-repetition",children:[T.jsx(Jd,{})," ",F.repetition]}),z(F)&&T.jsxs("span",{className:"due-today-badge",children:[T.jsx(Wa,{})," Today"]}),F.isFromBank&&T.jsxs("span",{className:"from-bank-badge",children:[T.jsx(Lv,{})," Bank"]}),T.jsxs("span",{className:"task-value",children:[T.jsx(em,{})," ",F.tokenValue," XP"]}),Ot(F.rarity)]})]}),!F.isFromBank&&!F.completed&&T.jsx("button",{className:"delete-task",onClick:()=>N(F.id),children:T.jsx(tm,{})})]},F.id))})]})}const hI="/SuperDo/assets/Lootbox-C6eRj3ye.png",pT="/SuperDo/assets/Ticket-DGjDlYLP.png";function fI(){const{inventoryItems:s,useItem:t}=eu(),[n,r]=gt.useState(null),[o,u]=gt.useState("all"),f=o==="all"?s.filter(y=>y.quantity>0||y.owned):s.filter(y=>y.type===o&&(y.quantity>0||y.owned)),m=y=>{if(y==="custom-lootbox")return T.jsx("img",{src:hI,alt:"Lootbox",className:"custom-icon"});if(y==="custom-ticket")return T.jsx("img",{src:pT,alt:"Ticket",className:"custom-icon"});switch(y){case"bolt":return T.jsx(Hc,{});case"bullseye":return T.jsx(Nm,{});case"shield":return T.jsx(jm,{});case"moon":return T.jsx(Um,{});case"palette":return T.jsx(jv,{});case"star":return T.jsx(Ja,{});case"clock":return T.jsx(Dm,{});case"gem":return T.jsx(Vm,{});case"forward":return T.jsx(Mm,{});case"dice":return T.jsx(xm,{});case"exchange-alt":return T.jsx(km,{});case"play-circle":return T.jsx(Lm,{});case"tachometer-alt":return T.jsx(zm,{});case"eraser":return T.jsx(Om,{});case"money-bill":return T.jsx(Pm,{});case"ticket-alt":return T.jsx(Bm,{});default:return T.jsx(Hc,{})}},g=y=>{const A=t(y.id);A&&A.success?y.type==="lootbox"&&A.xpAmount?alert(`Used ${y.name} successfully! Gained ${A.xpAmount} XP.`):y.type==="ticket"&&A.ticketAmount?alert(`Used ${y.name} successfully! Added ${A.ticketAmount} tickets.`):alert(`Used ${y.name} successfully!`):alert("Error using item."),r(null)};return T.jsxs("div",{className:"inventory-container",children:[T.jsx("h2",{children:"Inventory"}),T.jsxs("div",{className:"inventory-filters",children:[T.jsx("button",{className:o==="all"?"active":"",onClick:()=>u("all"),children:"All"}),T.jsx("button",{className:o==="ability"?"active":"",onClick:()=>u("ability"),children:"Abilities"}),T.jsx("button",{className:o==="lootbox"?"active":"",onClick:()=>u("lootbox"),children:"Lootboxes"}),T.jsx("button",{className:o==="ticket"?"active":"",onClick:()=>u("ticket"),children:"Tickets"})]}),T.jsx("div",{className:"inventory-slots",children:f.length===0?T.jsx("div",{className:"no-items",children:"No items found."}):f.map(y=>T.jsx("div",{className:`inventory-slot ${y.type==="lootbox"?"lootbox-slot":""} ${y.type==="ticket"?"ticket-slot":""}`,onClick:()=>r(y),children:T.jsxs("div",{className:"slot-inner",children:[T.jsx("div",{className:y.type==="lootbox"?"lootbox-icon":y.type==="ticket"?"ticket-icon":"item-icon",children:y.type==="lootbox"?m("custom-lootbox"):y.type==="ticket"?m("custom-ticket"):m(y.icon)}),T.jsx("div",{className:"item-name",children:y.name}),y.quantity>1&&T.jsx("div",{className:"item-quantity",children:y.quantity})]})},y.id))}),n&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"item-modal",children:[T.jsx("button",{className:"close-button",onClick:()=>r(null),children:T.jsx(hh,{})}),T.jsxs("div",{className:"item-details",children:[T.jsx("div",{className:n.type==="lootbox"?"lootbox-detail-icon":n.type==="ticket"?"ticket-detail-icon":"item-detail-icon",children:n.type==="lootbox"?m("custom-lootbox"):n.type==="ticket"?m("custom-ticket"):m(n.icon)}),T.jsx("h3",{children:n.name}),T.jsx("p",{className:"item-description",children:n.description||"No description available."}),n.quantity>1&&T.jsxs("div",{className:"item-quantity-info",children:["Quantity: ",n.quantity]}),T.jsx("div",{className:"item-actions",children:T.jsx("button",{className:"use-button",onClick:()=>g(n),disabled:n.quantity<=0&&!n.owned,children:n.type==="lootbox"?"Open Lootbox":n.type==="ticket"?"Use Tickets":"Use Item"})})]})]})})]})}const Wd="/SuperDo/assets/Lootboxes-oZKK2a2d.png",Mv="/SuperDo/assets/Tickets-B8_JFGeN.png";function dI(){const{tokens:s,purchaseItem:t,inventoryItems:n}=eu(),[r,o]=gt.useState(null),[u,f]=gt.useState("abilities"),[m,g]=gt.useState(0),y=[{id:1,name:"Lootbox",type:"lootbox",description:"Contains 10-100 XP. Open to boost your productivity journey!",price:150,image:Wd},{id:2,name:"Premium Tickets",type:"ticket",description:"Get 10 tickets for the price of 8!",price:1200,image:Mv},{id:3,name:"Legendary Ability Pack",type:"ability",description:"Unlock all premium abilities at once",price:2500,icon:"gem"}],A={abilities:[{id:11,name:"Time Warp",type:"ability",icon:"clock",description:"Reset daily task timers",price:800},{id:12,name:"Double Rewards",type:"ability",icon:"gem",description:"Double tokens for next 5 tasks",price:1200},{id:13,name:"Task Skip",type:"ability",icon:"forward",description:"Skip a difficult task without penalty",price:500}],lootboxes:[{id:4,name:"Lootbox",type:"lootbox",icon:"custom-lootbox",description:"Contains 10-100 XP",price:150}],tickets:[{id:201,name:"5 Tickets",type:"ticket",icon:"custom-ticket",description:"Use tickets to unlock special rewards",price:600,amount:5},{id:202,name:"20 Tickets",type:"ticket",icon:"custom-ticket",description:"Use tickets to unlock special rewards",price:2e3,amount:20},{id:203,name:"50 Tickets",type:"ticket",icon:"custom-ticket",description:"Use tickets to unlock special rewards",price:4500,amount:50}]};gt.useEffect(()=>{const z=setInterval(()=>{g(J=>(J+1)%y.length)},5e3);return()=>clearInterval(z)},[y.length]);const R=z=>{const J=n.find(Q=>Q.id===z);return J&&J.owned},N=z=>{const J=t(z,z.price);alert(J?`Successfully purchased ${z.name}!`:"Not enough tokens for this purchase."),o(null)},B=z=>{if(z==="custom-lootbox")return T.jsx("img",{src:Wd,alt:"Lootbox",className:"custom-icon"});if(z==="custom-ticket")return T.jsx("img",{src:pT,alt:"Ticket",className:"custom-icon"});switch(z){case"bolt":return T.jsx(Hc,{});case"bullseye":return T.jsx(Nm,{});case"shield":return T.jsx(jm,{});case"moon":return T.jsx(Um,{});case"palette":return T.jsx(jv,{});case"star":return T.jsx(Ja,{});case"clock":return T.jsx(Dm,{});case"gem":return T.jsx(Vm,{});case"forward":return T.jsx(Mm,{});case"dice":return T.jsx(xm,{});case"exchange-alt":return T.jsx(km,{});case"play-circle":return T.jsx(Lm,{});case"tachometer-alt":return T.jsx(zm,{});case"eraser":return T.jsx(Om,{});case"money-bill":return T.jsx(Pm,{});case"ticket-alt":return T.jsx(Bm,{});default:return T.jsx(zv,{})}};return T.jsxs("div",{className:"shop-container",children:[T.jsx("h2",{children:"Shop"}),T.jsxs("div",{className:"token-balance",children:[T.jsx(mi,{className:"token-icon"}),T.jsxs("span",{children:[s," Tokens"]})]}),T.jsxs("div",{className:"featured-slideshow",children:[T.jsx("div",{className:"slideshow-inner",style:{transform:`translateX(-${m*100}%)`},children:y.map((z,J)=>T.jsxs("div",{className:"featured-item",onClick:()=>o(z),children:[z.image?T.jsx("img",{src:z.image,alt:z.name,className:"featured-image"}):T.jsx("div",{className:"featured-icon-container",children:B(z.icon)}),T.jsxs("div",{className:"featured-overlay",children:[T.jsx("h3",{children:z.name}),T.jsx("p",{children:z.description}),T.jsxs("div",{className:"featured-price",children:[T.jsx(mi,{className:"price-icon"}),T.jsx("span",{children:z.price})]})]})]},J))}),T.jsx("div",{className:"slideshow-dots",children:y.map((z,J)=>T.jsx("button",{className:`dot ${m===J?"active":""}`,onClick:()=>g(J)},J))})]}),T.jsxs("div",{className:"shop-categories",children:[T.jsx("button",{className:u==="abilities"?"active":"",onClick:()=>f("abilities"),children:"Abilities"}),T.jsx("button",{className:u==="lootboxes"?"active":"",onClick:()=>f("lootboxes"),children:"Lootboxes"}),T.jsx("button",{className:u==="tickets"?"active":"",onClick:()=>f("tickets"),children:"Tickets"})]}),T.jsx("div",{className:"shop-grid",children:A[u].map(z=>T.jsxs("div",{className:`shop-item ${R(z.id)?"owned":""} ${z.type==="ticket"?"ticket-item":""} ${z.type==="lootbox"?"lootbox-item":""}`,onClick:()=>!R(z.id)&&o(z),children:[T.jsx("div",{className:`item-icon ${z.type==="ticket"?"ticket-icon":""} ${z.type==="lootbox"?"lootbox-icon":""}`,children:z.type==="lootbox"?B("custom-lootbox"):z.type==="ticket"?B("custom-ticket"):B(z.icon)}),T.jsx("h3",{children:z.name}),T.jsx("p",{children:z.description}),T.jsx("div",{className:"item-price",children:R(z.id)?T.jsx("span",{className:"owned-label",children:"Owned"}):T.jsxs(T.Fragment,{children:[T.jsx(mi,{className:"price-icon"}),T.jsx("span",{children:z.price})]})})]},z.id))}),r&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"purchase-modal",children:[T.jsx("button",{className:"close-button",onClick:()=>o(null),children:T.jsx(hh,{})}),T.jsxs("h2",{children:["Purchase ",r.name]}),T.jsxs("div",{className:"modal-item-details",children:[r.type==="lootbox"?T.jsx("img",{src:Wd,alt:"Lootboxes",className:"modal-featured-image"}):r.type==="ticket"?T.jsx("img",{src:Mv,alt:"Tickets",className:"modal-featured-image"}):r.image?T.jsx("img",{src:r.image,alt:r.name,className:"modal-featured-image"}):T.jsx("div",{className:"modal-item-icon",children:B(r.icon)}),T.jsx("p",{children:r.description}),T.jsxs("div",{className:"modal-price",children:[T.jsx(mi,{className:"price-icon"}),T.jsxs("span",{children:[r.price," Tokens"]})]}),T.jsxs("div",{className:"modal-balance",children:[T.jsx("span",{children:"Your balance: "}),T.jsx(mi,{className:"balance-icon"}),T.jsxs("span",{children:[s," Tokens"]})]}),T.jsxs("div",{className:"purchase-actions",children:[T.jsx("button",{className:"cancel-button",onClick:()=>o(null),children:"Cancel"}),T.jsx("button",{className:"confirm-button",onClick:()=>N(r),disabled:s<r.price,children:s<r.price?"Not enough tokens":"Confirm Purchase"})]})]})]})})]})}function mI(){const{taskBank:s,addTaskToBank:t,removeTaskFromBank:n,tokens:r,xp:o,tickets:u,inventoryItems:f,activeTasks:m}=eu(),{currentUser:g}=_o(),[y,A]=gt.useState(!1),[R,N]=gt.useState(""),[B,z]=gt.useState(""),[J,Q]=gt.useState("one-time"),[mt,Et]=gt.useState("common"),[at,_t]=gt.useState(!1),ut=S=>{switch(S){case"common":return 10;case"uncommon":return 25;case"rare":return 50;case"epic":return 100;case"legendary":return 150;default:return 10}},Tt=S=>{switch(S){case"common":return 1;case"uncommon":return 2;case"rare":return 3;case"epic":return 4;case"legendary":return 5;default:return 1}},k=S=>{switch(S){case 1:return"common";case 2:return"uncommon";case 3:return"rare";case 4:return"epic";case 5:return"legendary";default:return"common"}},w=async()=>{if(!g){N("Error: You must be logged in to sync data");return}A(!0),N("Syncing data to Firebase...");try{const S=Fs(Gs,"users",g.uid);await $a(S,{uid:g.uid,email:g.email,displayName:g.displayName||"User",tokens:r,xp:o,tickets:u,lastUpdated:new Date},{merge:!0});const Pt=Qd(Gs,"users",g.uid,"inventory");for(const tt of f)await $a(Fs(Pt,tt.id.toString()),{...tt,userId:g.uid,lastUpdated:new Date});const xt=Qd(Gs,"users",g.uid,"taskBank");for(const tt of s)await $a(Fs(xt,tt.id.toString()),{...tt,userId:g.uid,lastUpdated:new Date});const K=Qd(Gs,"users",g.uid,"activeTasks");for(const tt of m)await $a(Fs(K,tt.id.toString()),{...tt,userId:g.uid,lastUpdated:new Date});N("Data successfully synced to Firebase!"),setTimeout(()=>{N("")},3e3)}catch(S){console.error("Error syncing data:",S),N(`Error: ${S.message}`)}finally{A(!1)}},C=S=>{if(S.preventDefault(),B.trim()==="")return;const Pt={text:B,repetition:J,rarity:mt,tokenValue:ut(mt)};t(Pt),z(""),Q("one-time"),Et("common"),_t(!1)},x=S=>{const Pt=k(S+1);Et(Pt)},M=()=>{const S=[],Pt=Tt(mt);for(let xt=0;xt<5;xt++)S.push(T.jsx("span",{className:`star-select ${xt<Pt?mt:""}`,onClick:()=>x(xt),children:xt<Pt?T.jsx(Ja,{}):T.jsx(p4,{})},xt));return S},V=S=>{const Pt=[],xt=Tt(S);for(let K=0;K<xt;K++)Pt.push(T.jsx(Ja,{className:`rarity-icon ${S}`},K));return S==="legendary"&&Pt.push(T.jsx(Uv,{className:"rarity-icon legendary crown"},"crown")),T.jsx("div",{className:"rarity-stars",children:Pt})};return T.jsxs("div",{className:"settings-container",children:[T.jsx("h2",{children:"Settings"}),T.jsx("p",{className:"settings-intro",children:"Configure your SuperDo experience"}),T.jsxs("div",{className:"settings-card",children:[T.jsxs("div",{className:"settings-header",children:[T.jsx(Lv,{className:"settings-icon"}),T.jsx("h3",{children:"Task Bank"})]}),T.jsxs("div",{className:"task-bank-container",children:[T.jsxs("form",{onSubmit:C,className:`task-form ${at?"expanded":""} ${at?mt:""}`,children:[T.jsxs("div",{className:"task-input-container",children:[T.jsx("input",{type:"text",value:B,onChange:S=>z(S.target.value),onClick:()=>_t(!0),placeholder:"Add a new task to the bank...",className:`task-input ${at?mt:""}`}),at&&T.jsxs("div",{className:"task-options",children:[T.jsxs("div",{className:"option-group",children:[T.jsxs("label",{className:"option-label",children:[T.jsx(Wa,{})," Repeat:"]}),T.jsx("div",{className:"option-controls",children:T.jsxs("select",{value:J,onChange:S=>Q(S.target.value),className:"task-select",children:[T.jsx("option",{value:"one-time",children:"One-time"}),T.jsx("option",{value:"daily",children:"Daily"}),T.jsx("option",{value:"weekly",children:"Weekly"}),T.jsx("option",{value:"monthly",children:"Monthly"})]})})]}),T.jsxs("div",{className:"option-group",children:[T.jsxs("label",{className:"option-label",children:[T.jsx(Ja,{})," Difficulty:"]}),T.jsxs("div",{className:"option-controls star-rating-container",children:[M(),T.jsxs("span",{className:"token-value",children:[T.jsx(mi,{})," ",ut(mt)]})]})]})]})]}),T.jsxs("button",{type:"submit",className:"add-button",children:[T.jsx(zv,{})," Add"]})]}),T.jsxs("div",{className:"task-bank-list",children:[T.jsx("h4",{children:"Available Tasks"}),T.jsx("ul",{className:"task-list",children:s.length===0?T.jsx("li",{className:"empty-state",children:"No tasks in the bank yet. Add one above!"}):s.map(S=>T.jsxs("li",{className:`task-item ${S.rarity}`,children:[T.jsxs("div",{className:"task-content",children:[T.jsx("span",{className:"task-text",children:S.text}),T.jsxs("div",{className:"task-meta",children:[S.repetition!=="one-time"&&T.jsxs("span",{className:"task-repetition",children:[T.jsx(Wa,{})," ",S.repetition]}),T.jsxs("span",{className:"task-value",children:[T.jsx(mi,{})," ",S.tokenValue]}),V(S.rarity)]})]}),T.jsx("button",{onClick:()=>n(S.id),className:"delete-button",children:T.jsx(tm,{})})]},S.id))})]})]})]}),T.jsxs("div",{className:"settings-card",children:[T.jsxs("div",{className:"settings-header",children:[T.jsx(Um,{className:"settings-icon"}),T.jsx("h3",{children:"Appearance"})]}),T.jsxs("div",{className:"settings-option toggle",children:[T.jsx("span",{children:"Dark Mode"}),T.jsxs("label",{className:"switch",children:[T.jsx("input",{type:"checkbox",checked:!0}),T.jsx("span",{className:"slider round"})]})]})]}),T.jsxs("div",{className:"settings-card",children:[T.jsxs("div",{className:"settings-header",children:[T.jsx(s4,{className:"settings-icon"}),T.jsx("h3",{children:"Notifications"})]}),T.jsxs("div",{className:"settings-option toggle",children:[T.jsx("span",{children:"Enable Notifications"}),T.jsxs("label",{className:"switch",children:[T.jsx("input",{type:"checkbox",checked:!0}),T.jsx("span",{className:"slider round"})]})]})]}),T.jsxs("div",{className:"settings-card",children:[T.jsxs("div",{className:"settings-header",children:[T.jsx(Jd,{className:"settings-icon"}),T.jsx("h3",{children:"Data Management"})]}),T.jsxs("div",{className:"settings-action",children:[T.jsxs("button",{className:"settings-button",children:[T.jsx(c4,{})," Export Data"]}),T.jsxs("button",{className:"settings-button",onClick:w,disabled:y||!g,children:[T.jsx(l4,{})," ",y?"Syncing...":"Push to Firebase"]}),T.jsxs("button",{className:"settings-button danger",children:[T.jsx(tm,{})," Reset App"]})]}),R&&T.jsx("div",{className:`sync-message ${R.includes("Error")?"error":"success"}`,children:R})]})]})}function pI({onToggleView:s}){const[t,n]=gt.useState(""),[r,o]=gt.useState(""),[u,f]=gt.useState(!1),[m,g]=gt.useState(""),{login:y}=_o(),A=async R=>{if(R.preventDefault(),!t||!r){g("Please fill in all fields");return}try{f(!0),g(""),await y(t,r)}catch(N){console.error("Login error:",N),g(N.code==="auth/invalid-credential"?"Invalid email or password":"An error occurred during login. Please try again.")}finally{f(!1)}};return T.jsxs("div",{className:"auth-container",children:[T.jsx("h2",{children:"Login to SuperDo"}),m&&T.jsx("div",{className:"auth-error",children:m}),T.jsxs("form",{onSubmit:A,className:"auth-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:t,onChange:R=>n(R.target.value),placeholder:"Enter your email",disabled:u})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"password",children:"Password"}),T.jsx("input",{type:"password",id:"password",value:r,onChange:R=>o(R.target.value),placeholder:"Enter your password",disabled:u})]}),T.jsx("button",{type:"submit",className:"auth-button",disabled:u,children:u?"Logging in...":"Login"})]}),T.jsx("div",{className:"auth-toggle",children:T.jsxs("p",{children:["Don't have an account? ",T.jsx("button",{onClick:s,children:"Sign Up"})]})})]})}function gI({onToggleView:s}){const[t,n]=gt.useState(""),[r,o]=gt.useState(""),[u,f]=gt.useState(""),[m,g]=gt.useState(""),[y,A]=gt.useState(!1),[R,N]=gt.useState(""),{signup:B}=_o(),z=async J=>{if(J.preventDefault(),!t||!r||!u||!m){N("Please fill in all fields");return}if(u!==m){N("Passwords do not match");return}if(u.length<6){N("Password must be at least 6 characters");return}try{A(!0),N(""),await B(t,u,r)}catch(Q){console.error("Signup error:",Q),Q.code==="auth/email-already-in-use"?N("Email is already in use. Please use a different email or log in."):Q.code==="auth/invalid-email"?N("Invalid email address"):N("An error occurred during sign up. Please try again.")}finally{A(!1)}};return T.jsxs("div",{className:"auth-container",children:[T.jsx("h2",{children:"Create your SuperDo account"}),R&&T.jsx("div",{className:"auth-error",children:R}),T.jsxs("form",{onSubmit:z,className:"auth-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:t,onChange:J=>n(J.target.value),placeholder:"Enter your email",disabled:y})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"username",children:"Username"}),T.jsx("input",{type:"text",id:"username",value:r,onChange:J=>o(J.target.value),placeholder:"Choose a username",disabled:y})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"password",children:"Password"}),T.jsx("input",{type:"password",id:"password",value:u,onChange:J=>f(J.target.value),placeholder:"Create a password",disabled:y})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),T.jsx("input",{type:"password",id:"confirmPassword",value:m,onChange:J=>g(J.target.value),placeholder:"Confirm your password",disabled:y})]}),T.jsx("button",{type:"submit",className:"auth-button",disabled:y,children:y?"Creating account...":"Sign Up"})]}),T.jsx("div",{className:"auth-toggle",children:T.jsxs("p",{children:["Already have an account? ",T.jsx("button",{onClick:s,children:"Login"})]})})]})}function yI(){const[s,t]=gt.useState(!0),n=()=>{t(!s)};return T.jsx("div",{className:"auth-page",children:s?T.jsx(pI,{onToggleView:n}):T.jsx(gI,{onToggleView:n})})}function _I(){const[s,t]=gt.useState("tasks"),{currentUser:n}=_o();return n?T.jsxs("div",{className:"app-container",children:[T.jsx(lI,{}),T.jsxs("main",{className:"main-content",children:[s==="tasks"&&T.jsx(cI,{}),s==="inventory"&&T.jsx(fI,{}),s==="shop"&&T.jsx(dI,{}),s==="settings"&&T.jsx(mI,{})]}),T.jsx(uI,{activeTab:s,setActiveTab:t})]}):T.jsx(yI,{})}function vI(){return T.jsx(aI,{children:T.jsx(oI,{children:T.jsx(_I,{})})})}$E.createRoot(document.getElementById("root")).render(T.jsx(gt.StrictMode,{children:T.jsx(vI,{})}));
